"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[8816],{1870:function(e,t,n){n.d(t,{d:function(){return l}});n(7658);var i=n(6086),a=n(9669),r=n.n(a),s=n(5241);const l=(0,i.Q_)({id:"preEntry",state:()=>({entryPhone:"",entryServiceType:"",entryDate:null,entryAvailableTimes:[],entryTime:null}),getters:{getEntryInfo:e=>({entryPhone:e.entryPhone,entryServiceType:e.entryServiceType,entryDate:e.entryDate,entryAvailableTimes:e.entryAvailableTimes,entryTime:e.entryTime})},actions:{async setPhone(e){this.entryPhone=e},async setServiceType(e){this.entryServiceType=e},async setDate(e){this.entryDate=e},async setTime(e){this.entryTime=e},async fetchTime(){if(this.entryDate&&""!=this.entryServiceType)try{let t={headers:{Accept:"*/*","Content-Type":"multipart/form-data"}},n="android";(0,s.a)("iphone")&&(n="iphone");var e=new FormData;e.append("date",this.entryDate),e.append("service",this.entryServiceType),e.append("ionicDevice",n);const i=await r().post("https://aostng.ru/ajax/preregajax.php",e,t);let a=[];const l=/>([^<.]+)<\//g;let o=l.exec(i.data);while(null!=o)a.push(o[1]),o=l.exec(i.data);this.entryTime=null,this.entryAvailableTimes=a}catch(t){console.log(t)}},async sendFullInfo(e,t,n,i){console.log(e,t,n,i);try{let l={headers:{Accept:"*/*","Content-Type":"multipart/form-data"}},o="android";(0,s.a)("iphone")&&(o="iphone");var a=new FormData;return a.append("number",e),a.append("service",t),a.append("date",n),a.append("time",i),a.append("ionicDevice",o),await r().post("https://aostng.ru/prereg2.php",a,l),!0}catch(l){return!1}},async resetPreEntry(){this.entryPhone="",this.entryServiceType="",this.entryDate=null,this.entryAvailableTimes=[],this.entryTime=null}}})},8816:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var i=n(6252),a=n(3577);const r={key:0},s={key:1};function l(e,t,n,l,o,c){const y=(0,i.up)("Back"),p=(0,i.up)("ion-text"),u=(0,i.up)("ion-item"),m=(0,i.up)("Layout"),d=(0,i.up)("ion-page");return(0,i.wg)(),(0,i.j4)(d,null,{default:(0,i.w5)((()=>[(0,i.Wm)(y,{title:"Назад"}),(0,i.Wm)(m,{outlineBtn:".",filledBtn:".",title:"Выбор времени"},{"main-content":(0,i.w5)((()=>[(0,i.Wm)(p,{class:"title"},{default:(0,i.w5)((()=>[(0,i.Uk)("Выберите время")])),_:1}),e.entryAvailableTimes.length>0?((0,i.wg)(),(0,i.iD)("div",r,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.entryAvailableTimes,(t=>((0,i.wg)(),(0,i.j4)(u,{key:t,"router-link":"/tabs/record",onClick:n=>e.selectTime(t)},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{class:"sub-title"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(t),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])):((0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(u,{"router-link":"/tabs/record",onClick:t[0]||(t[0]=t=>e.selectTime(null))},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{class:"sub-title"},{default:(0,i.w5)((()=>[(0,i.Uk)("Выберите вид услуг и дату записи")])),_:1})])),_:1})]))])),_:1})])),_:1})}var o=n(2201),c=n(222),y=n(2684),p=n(4043),u=n(6086),m=n(1870),d=(0,i.aZ)({name:"recordTime",components:{IonPage:y._i,Layout:c.Z,IonItem:y.Ie,Back:p.Z,IonText:y.yW},setup(){const e=(0,o.tv)(),t=(0,m.d)(),{setTime:n}=(0,m.d)(),{entryAvailableTimes:i,entryTime:a}=(0,u.Jk)(t);return{router:e,entryAvailableTimes:i,entryTime:a,setTime:n}},methods:{selectTime(e){e&&"На данную дату свободного времени нет"!=e&&this.setTime(e)}}}),h=n(3744);const T=(0,h.Z)(d,[["render",l],["__scopeId","data-v-315dbb56"]]);var v=T}}]);
//# sourceMappingURL=8816.c3ff8f1d.js.map