{"version":3,"file":"js/5131.1ee7a8ee.js","mappings":"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","sources":["webpack://stng/./src/views/ProfileEdit.vue","webpack://stng/./src/views/ProfileEdit.vue?31db"],"sourcesContent":["<template>\r\n  <ion-page>\r\n    <Back :btnSrc=\"() => router.push('/tabs/profile')\" />\r\n    <Layout height=\"false\" :method=\"editProfileHandler\" :method2=\"\r\n      () => {\r\n        router.push('/tabs/newPassPage');\r\n      }\r\n    \" :loading=\"loading\" :filledBtn=\"'Сохранить'\" title=\"Личный кабинет\" :outlineBtn=\"'Изменить пароль'\">\r\n      <template v-slot:main-content>\r\n        <ion-text>\r\n          <p class=\"title ion-text-start\">Мои данные</p>\r\n        </ion-text>\r\n        <div>\r\n          <ion-text>\r\n            <p class=\"sub-title\">Имя</p>\r\n          </ion-text>\r\n          <Input @updated=\"(item) => (name = item)\" :changeHandler=\"(e) => name = e.target.value\" :value=\"name\"\r\n            name=\"Укажите имя\" />\r\n\r\n          <ion-text>\r\n            <p class=\"sub-title\">Электронная почта</p>\r\n          </ion-text>\r\n          <Input type=\"email\" @updated=\"(item) => (email = item)\" name=\"Электронная почта\" :value=\"email\"\r\n            :changeHandler=\"(e) => email = e.target.value\" />\r\n          <ion-text>\r\n            <p class=\"sub-title\">СНИЛС</p>\r\n          </ion-text>\r\n          <Input :mask=\"'###########'\" @updated=\"(item) => (snils = item)\" name=\"СНИЛС\" :value=\"snils\"\r\n            :changeHandler=\"(e) => snils = e.target.value\" />\r\n\r\n          <ion-text>\r\n            <p class=\"sub-title\">Паспорт выдан</p>\r\n          </ion-text>\r\n          <Input @updated=\"(item) => (issuedBy = item)\" :changeHandler=\"(e) => issuedBy = e.target.value\"\r\n            :value=\"issuedBy\" name=\"Паспорт выдан\" />\r\n          <ion-text>\r\n            <p class=\"sub-title\">Дата выдачи паспорта</p>\r\n          </ion-text>\r\n          <Input :mask=\"'##.##.####'\" @updated=\"(item) => (issuedDate = item)\"\r\n            :changeHandler=\"(e) => issuedDate = e.target.value\" :value=\"issuedDate\" name=\"Дата выдачи\" />\r\n          <ion-text>\r\n            <p class=\"sub-title\">Серия паспорта</p>\r\n          </ion-text>\r\n          <Input :mask=\"'####'\" @updated=\"(item) => (serial = item)\" :changeHandler=\"(e) => serial = e.target.value\"\r\n            :value=\"serial\" name=\"Серия паспорта\" />\r\n          <ion-text>\r\n            <p class=\"sub-title\">Номер паспорта</p>\r\n          </ion-text>\r\n          <Input :mask=\"'######'\" @updated=\"(item) => (number = item)\" :changeHandler=\"(e) => number = e.target.value\"\r\n            :value=\"number\" name=\"Номер паспорта\" />\r\n          <ion-item>\r\n            <ion-text>\r\n              <p class=\"sub-title\">{{ login }}</p>\r\n              <p>Контактный телефон</p>\r\n            </ion-text>\r\n          </ion-item>\r\n        </div>\r\n        <ion-text v-if=\"profileError?.response?.data?.error\" class=\"error\">\r\n          {{ profileError?.response?.data?.error }}\r\n        </ion-text>\r\n      </template>\r\n    </Layout>\r\n  </ion-page>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Layout from \"../components/Layout.vue\";\r\nimport {\r\n  IonPage,\r\n  IonText,\r\n  IonItem,\r\n} from \"@ionic/vue\";\r\nimport Input from \"../components/Input.vue\";\r\nimport Back from \"../components/Back.vue\";\r\nimport { mapActions } from \"pinia\";\r\nimport { useProfileStore } from \"../stores/profile\";\r\nimport { Storage } from \"@ionic/storage\";\r\n\r\nexport default defineComponent({\r\n  name: \"profleEditPage\",\r\n  data() {\r\n    return {\r\n      codeSent: false,\r\n      edit: false,\r\n      name: '',\r\n      email: '',\r\n      login: '',\r\n      issuedBy: '',\r\n      issuedDate: '',\r\n      serial: '',\r\n      number: '',\r\n      snils: '',\r\n      loading: false,\r\n    };\r\n  },\r\n  components: {\r\n    Input,\r\n    Back,\r\n    IonPage,\r\n    Layout,\r\n    IonItem,\r\n    IonText,\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions(useProfileStore, [\"editProfile\"]),\r\n    async editProfileHandler() {\r\n      this.$data.loading = true\r\n\r\n      const formData = {\r\n        passport: {\r\n          serial: this.$data.serial,\r\n          number: this.$data.number,\r\n          issuedBy: this.$data.issuedBy,\r\n          issuedDate: this.$data.issuedDate,\r\n        },\r\n\r\n        snils: this.$data.snils,\r\n        name: this.$data.name,\r\n        email: this.$data.email,\r\n      }\r\n      this.editProfile(formData,).then(\r\n        async () => {\r\n          this.$data.loading = false\r\n          const store = new Storage();\r\n          await store.create();\r\n          const profileData = await store.get('token')\r\n          const data = {\r\n            ...JSON.parse(profileData),\r\n            name: this.$data.name,\r\n            email: this.$data.email,\r\n\r\n          };\r\n          await store.set(\"token\", JSON.stringify(data))\r\n        }\r\n      );\r\n    }\r\n  },\r\n  ionViewDidEnter() {\r\n\r\n    const storageHandler = async () => {\r\n      const store = new Storage()\r\n      await store.create()\r\n      const token = await store.get('token')\r\n      this.$data.login = JSON.parse(token).phone\r\n      this.$data.email = this.profileData?.email\r\n      this.$data.name = this.profileData?.name\r\n      this.$data.snils = this.profileData?.snils\r\n      this.$data.serial = this.profileData?.passport?.serial\r\n      this.$data.number = this.profileData?.passport?.number\r\n      this.$data.issuedBy = this.profileData?.passport?.issuedBy\r\n      this.$data.issuedDate = this.profileData?.passport?.issuedDate\r\n    }\r\n    storageHandler()\r\n\r\n  },\r\n  computed: {\r\n    profileData() {\r\n      return this.$pinia.state.value?.profile?.profileResponse?.data;\r\n    },\r\n    profileError() {\r\n      return this.$pinia.state.value?.profile?.profileError;\r\n    }\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    return {\r\n      router,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\nion-item {\r\n  --padding-start: 0;\r\n  --padding-bottom: 0px;\r\n  --inner-padding-bottom: 0px;\r\n}\r\n</style>","import { render } from \"./ProfileEdit.vue?vue&type=template&id=2b7b55f7&scoped=true\"\nimport script from \"./ProfileEdit.vue?vue&type=script&lang=js\"\nexport * from \"./ProfileEdit.vue?vue&type=script&lang=js\"\n\nimport \"./ProfileEdit.vue?vue&type=style&index=0&id=2b7b55f7&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\aia\\\\Desktop\\\\STNG-MOBILE\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2b7b55f7\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_createBlock","_component_ion_page","_createVNode","_component_Back","btnSrc","_ctx","push","_component_Layout","height","method","method2","loading","filledBtn","title","outlineBtn","_component_ion_text","_hoisted_1","_hoisted_2","_component_Input","onUpdated","item","changeHandler","e","target","value","name","_hoisted_3","type","_hoisted_4","mask","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_component_ion_item","_hoisted_9","_hoisted_10","response","data","error","defineComponent","codeSent","edit","email","login","issuedBy","issuedDate","serial","number","snils","components","Input","Back","IonPage","Layout","IonItem","IonText","methods","mapActions","useProfileStore","async","this","$data","formData","passport","editProfile","then","store","Storage","create","profileData","get","JSON","parse","set","stringify","ionViewDidEnter","storageHandler","token","phone","computed","$pinia","state","profile","profileResponse","profileError","setup","router","useRouter","__exports__","render"],"sourceRoot":""}