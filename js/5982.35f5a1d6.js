"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[5982],{1870:function(e,t,n){n.d(t,{d:function(){return i}});n(7658);var r=n(6086),a=n(9669),l=n.n(a),s=n(5241);const i=(0,r.Q_)({id:"preEntry",state:()=>({entryPhone:"",entryServiceType:"",entryDate:null,entryAvailableTimes:[],entryTime:null}),getters:{getEntryInfo:e=>({entryPhone:e.entryPhone,entryServiceType:e.entryServiceType,entryDate:e.entryDate,entryAvailableTimes:e.entryAvailableTimes,entryTime:e.entryTime})},actions:{async setPhone(e){this.entryPhone=e},async setServiceType(e){this.entryServiceType=e},async setDate(e){this.entryDate=e},async setTime(e){this.entryTime=e},async fetchTime(){if(this.entryDate&&""!=this.entryServiceType)try{let t={headers:{Accept:"*/*","Content-Type":"multipart/form-data"}},n="android";(0,s.a)("iphone")&&(n="iphone");var e=new FormData;e.append("date",this.entryDate),e.append("service",this.entryServiceType),e.append("ionicDevice",n);const r=await l().post("https://aostng.ru/ajax/preregajax.php",e,t);let a=[];const i=/>([^<.]+)<\//g;let o=i.exec(r.data);while(null!=o)a.push(o[1]),o=i.exec(r.data);this.entryTime=null,this.entryAvailableTimes=a}catch(t){console.log(t)}},async sendFullInfo(e,t,n,r){console.log(e,t,n,r);try{let i={headers:{Accept:"*/*","Content-Type":"multipart/form-data"}},o="android";(0,s.a)("iphone")&&(o="iphone");var a=new FormData;return a.append("number",e),a.append("service",t),a.append("date",n),a.append("time",r),a.append("ionicDevice",o),await l().post("https://aostng.ru/prereg2.php",a,i),!0}catch(i){return!1}},async resetPreEntry(){this.entryPhone="",this.entryServiceType="",this.entryDate=null,this.entryAvailableTimes=[],this.entryTime=null}}})},2833:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(6252),a=n(3577);function l(e,t,n,l,s,i){const o=(0,r.up)("ion-text"),c=(0,r.up)("ion-icon");return(0,r.wg)(),(0,r.iD)("div",{class:"choose",onClick:t[0]||(t[0]=(...t)=>e.btnSrc&&e.btnSrc(...t))},[(0,r.Wm)(o,{class:"choose-text"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,a.zw)(e.name)+" ",1),!0===e.required?((0,r.wg)(),(0,r.j4)(o,{key:0,class:"dot"},{default:(0,r.w5)((()=>[(0,r.Uk)("*")])),_:1})):(0,r.kq)("",!0)])),_:1}),(0,r.Wm)(c,{class:"choose-icon",icon:e.caretDownSharp},null,8,["icon"])])}var s=n(526),i=n(8903),o=n(2201),c=(0,r.aZ)({name:"buttonSelect",props:{name:String,btnSrc:Function,required:Boolean},components:{IonIcon:s.gu,IonText:s.yW},setup(){const e=(0,o.tv)();return{router:e,caretDownSharp:i.D2O}}}),u=n(3744);const d=(0,u.Z)(c,[["render",l],["__scopeId","data-v-793185f2"]]);var y=d},5982:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});n(7658);var r=n(6252),a=n(3577);const l=e=>((0,r.dD)("data-v-5f6fcd92"),e=e(),(0,r.Cn)(),e),s=l((()=>(0,r._)("p",{class:"main-text"}," С помощью данного сервиса физическим и юридическим лицам можно предварительно записаться на прием в Службу «Единого окна» по адресу г.Якутск, ул. Петра Алексеева, 64. ",-1))),i=l((()=>(0,r._)("p",{class:"main-text"}," На ваш номер телефона будет отправлен СМС с указанием номера брони, а также даты и времени записи. ",-1))),o=l((()=>(0,r._)("p",{class:"main-text"}," Прием документов производится только при полном пакете документов. ",-1))),c={class:"main-text"},u=l((()=>(0,r._)("p",{class:"title ion-text-start"},"Данные заявителя",-1))),d=l((()=>(0,r._)("p",{class:"sub-title"},"Вид услуг",-1))),y=l((()=>(0,r._)("p",null," Режим работы Службы «Единого окна» в будни с 08.00 до 17.00 Выходной: суббота, воскресенье ",-1))),m={class:"error"},p=l((()=>(0,r._)("p",{class:"title ion-text-start"},"Прием документов",-1)));function h(e,t,n,l,h,f){const w=(0,r.up)("ion-text"),v=(0,r.up)("Input"),T=(0,r.up)("ButtonSelect"),_=(0,r.up)("ion-icon"),g=(0,r.up)("ion-item"),S=(0,r.up)("ion-checkbox"),k=(0,r.up)("Layout"),W=(0,r.up)("ion-page"),b=(0,r.Q2)("mask");return(0,r.wg)(),(0,r.j4)(W,null,{default:(0,r.w5)((()=>[e.currentlySuccess?((0,r.wg)(),(0,r.j4)(k,{key:1,outlineBtn:".",filledBtn:"Вернуться",method:()=>e.reset(),title:"Предварительная запись"},{"main-content":(0,r.w5)((()=>[(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[p])),_:1}),(0,r.Wm)(g,null,{default:(0,r.w5)((()=>[(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[(0,r.Uk)(" Дата приема: ")])),_:1}),(0,r.Wm)(w,{slot:"end",class:"text-end text-success"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,a.zw)(e.entryDate),1)])),_:1})])),_:1}),(0,r.Wm)(g,null,{default:(0,r.w5)((()=>[(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[(0,r.Uk)(" Время приема: ")])),_:1}),(0,r.Wm)(w,{slot:"end",class:"text-end text-success"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,a.zw)(e.entryTime),1)])),_:1})])),_:1})])),_:1},8,["method"])):((0,r.wg)(),(0,r.j4)(k,{key:0,height:"false",outlineBtn:".",filledBtn:"Оставить заявку",title:"Вид услуг",method:()=>e.sendPreregRequest()},{"header-content":(0,r.w5)((()=>[(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[s])),_:1}),(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[i])),_:1}),(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[o])),_:1}),(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[(0,r._)("p",c,[(0,r.Wm)(w,{class:"main-subtitle"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Внимание! ")])),_:1}),(0,r.Uk)(" Согласно п. 9 ПП РФ №549, при подаче заявления на заключение договора на поставку газа, необходимо предоставить договор на техническое обслуживание со специализированной организацией. ")])])),_:1})])),"main-content":(0,r.w5)((()=>[(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[u])),_:1}),(0,r.wy)((0,r.Wm)(v,{name:"Номер телефона",type:"tel",value:e.entryPhone,changeHandler:t=>e.preEntryStore.setPhone(t.target.value)},null,8,["value","changeHandler"]),[[b,"+7 (###) ###-##-##"]]),(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[d])),_:1}),(0,r.Wm)(T,{required:!0,name:""!==e.entryServiceType.trim()?e.formatServiceCode(e.entryServiceType):"Выберите вариант",btnSrc:()=>{e.router.push("/tabs/recordSelect")}},null,8,["name","btnSrc"]),(0,r._)("div",null,[(0,r.Wm)(g,{"router-link":"/tabs/date"},{default:(0,r.w5)((()=>[(0,r.Wm)(_,{size:"large",slot:"start",class:"icon-start",icon:e.calendarNumberOutline},null,8,["icon"]),(0,r.Wm)(w,{class:"sub-title"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,a.zw)(e.entryDate?e.entryDate:"Выберите дату записи"),1)])),_:1}),(0,r.Wm)(_,{size:"large",slot:"end",class:"icon-end",icon:e.chevronForwardOutline},null,8,["icon"])])),_:1}),(0,r.Wm)(g,{"router-link":"/tabs/time"},{default:(0,r.w5)((()=>[(0,r.Wm)(_,{size:"large",slot:"start",class:"icon-start",icon:e.alarmOutline},null,8,["icon"]),(0,r.Wm)(w,{class:"sub-title"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,a.zw)(e.entryTime?e.entryTime:"Выберите время записи"),1)])),_:1}),(0,r.Wm)(_,{class:"icon-end",size:"large",slot:"end",icon:e.chevronForwardOutline},null,8,["icon"])])),_:1})]),(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[y])),_:1}),(0,r.Wm)(g,{onClick:t[1]||(t[1]=()=>e.router.push("/tabs/recordTerms")),class:"check"},{default:(0,r.w5)((()=>[(0,r.Wm)(S,{slot:"start",modelValue:e.agreement,"onUpdate:modelValue":t[0]||(t[0]=t=>e.agreement=t)},null,8,["modelValue"]),(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[(0,r.Uk)("Согласен (-на) на обработку персональных данных")])),_:1})])),_:1}),""!==e.errorText?((0,r.wg)(),(0,r.j4)(w,{key:0},{default:(0,r.w5)((()=>[(0,r._)("p",m,(0,a.zw)(e.errorText),1)])),_:1})):(0,r.kq)("",!0)])),_:1},8,["method"]))])),_:1})}var f=n(2262),w=n(2201),v=n(594),T=n(6086),_=n(1870),g=n(2833),S=n(526),k=n(1483),W=n(8903),b=n(2982),x=(0,r.aZ)({name:"recordPage",components:{ButtonSelect:g.Z,IonPage:S._i,Layout:v.Z,IonItem:S.Ie,Input:k.Z,IonText:S.yW,IonIcon:S.gu,IonCheckbox:S.nz},directives:{mask:b.mask},setup(){const e=(0,w.tv)(),t=(0,_.d)(),{entryPhone:n,entryServiceType:r,entryDate:a,entryTime:l}=(0,T.Jk)(t),{sendFullInfo:s,resetPreEntry:i}=(0,_.d)(),o=(0,f.iH)(""),c=(0,f.iH)(!1),u=(0,f.iH)(!1);return{router:e,caretDownSharp:W.D2O,chevronForwardOutline:W.Dji,calendarNumberOutline:W.Yap,alarmOutline:W.Iq6,preEntryStore:t,entryPhone:n,entryServiceType:r,entryDate:a,entryTime:l,errorText:o,sendFullInfo:s,currentlySuccess:c,agreement:u,resetPreEntry:i}},methods:{formatServiceCode(e){let t="Неверный код сервиса";switch(e){case"Q01":t="Прием документов";break;case"Q03":t="Заключение договора на поставку газа (квартира)";break;case"Q06":t="Социальная газификация";break}return t},sendPreregRequest(){if(!this.agreement)return void(this.errorText="Необходимо подтвердить соглашение на обработку персональных данных");let e=0;18===this.entryPhone.length&&e++,""!==this.entryServiceType&&"Неверный код сервиса"!==this.entryServiceType&&e++,this.entryDate&&e++,this.entryTime&&e++,4!==e?this.errorText="Все поля должны быть заполнены":(this.errorText="",this.sendFullInfo(this.entryPhone,this.entryServiceType,this.entryDate,this.entryTime).then((e=>{console.log(e),e&&(this.currentlySuccess=!0)})))},reset(){this.resetPreEntry(),this.agreement=!1,this.currentlySuccess=!1}}}),D=n(3744);const I=(0,D.Z)(x,[["render",h],["__scopeId","data-v-5f6fcd92"]]);var P=I}}]);
//# sourceMappingURL=5982.35f5a1d6.js.map