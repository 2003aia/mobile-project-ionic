"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[4172],{2833:function(e,t,a){a.d(t,{Z:function(){return _}});var l=a(6252),n=a(3577);const r=(0,l.Uk)("*");function s(e,t,a,s,u,i){const d=(0,l.up)("ion-text"),o=(0,l.up)("ion-icon");return(0,l.wg)(),(0,l.iD)("div",{class:"choose",onClick:t[0]||(t[0]=(...t)=>e.btnSrc&&e.btnSrc(...t))},[(0,l.Wm)(d,{class:"choose-text"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.name)+" ",1),!0===e.required?((0,l.wg)(),(0,l.j4)(d,{key:0,class:"dot"},{default:(0,l.w5)((()=>[r])),_:1})):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(o,{class:"choose-icon",icon:e.caretDownSharp},null,8,["icon"])])}var u=a(1705),i=a(8903),d=a(2119),o=(0,l.aZ)({name:"buttonSelect",props:{name:String,btnSrc:Function,required:Boolean},components:{IonIcon:u.gu,IonText:u.yW},setup(){const e=(0,d.tv)();return{router:e,caretDownSharp:i.D2O}}}),m=a(3744);const c=(0,m.Z)(o,[["render",s],["__scopeId","data-v-793185f2"]]);var _=c},5870:function(e,t,a){a.r(t),a.d(t,{default:function(){return K}});var l=a(6252),n=a(3577),r=a(9963);const s=e=>((0,l.dD)("data-v-1fd07442"),e=e(),(0,l.Cn)(),e),u=s((()=>(0,l._)("p",{class:"text-20-600"},"Общие сведения для формы заявления",-1))),i={class:"text-white"},d=(0,l.Uk)(" Внимание! "),o=(0,l.Uk)(" Уважаемые Абоненты, воспользоваться данным сервисом могут только Абоненты, заключившие договор на выполнение работ по техническому обслуживанию и ремонту внутридомового газового оборудования с Управлением газораспрделеиельных сетей АО «Сахатранснефтегаз». Перед подачей заявки, убедитесь в наличии договора для ввода номера в поле Анкеты. "),m=s((()=>(0,l._)("p",{class:"title ion-text-start"},"Данные заявителя",-1))),c=(0,l.Uk)("*"),_=(0,l.Uk)(" - обязательное поле для заполнения. "),v={slot:"content"},f=(0,l.Uk)("Не найдено"),h=s((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1))),p=s((()=>(0,l._)("p",{class:"title ion-text-start"},"Данные паспорта",-1))),S=(0,l.Uk)("*"),E=(0,l.Uk)(" - обязательное поле для заполнения. "),A=s((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1))),U=s((()=>(0,l._)("p",{class:"title ion-text-start"},"Данные об объекте газификации",-1))),g=(0,l.Uk)("*"),w=(0,l.Uk)(" - обязательное поле для заполнения. "),y=s((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1))),k=s((()=>(0,l._)("p",{class:"sub-title"},"Вид работ",-1))),L=s((()=>(0,l._)("p",{class:"error"},"Выберите вариант",-1))),W=s((()=>(0,l._)("p",{class:"sub-title"}," Лицевой счет (соответствует № договора поставки газа) ",-1))),D=s((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1))),$=s((()=>(0,l._)("p",{class:"sub-title"}," Номер договора выполнение работ по техническому обслуживанию и ремонту внутридомового и внутриквартирного газового оборудования с УГРС АО Сахатранснефтегаз ",-1))),R=s((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1))),I=s((()=>(0,l._)("p",{class:"sub-title"}," Управляющая компания для многоквартирных домов ",-1))),q=s((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1)));function G(e,t,a,s,G,M){const N=(0,l.up)("Back"),V=(0,l.up)("ion-text"),b=(0,l.up)("Input"),x=(0,l.up)("ion-item"),P=(0,l.up)("ion-accordion"),H=(0,l.up)("ion-accordion-group"),O=(0,l.up)("LayoutBox"),Y=(0,l.up)("ButtonSelect"),F=(0,l.up)("Layout"),C=(0,l.up)("ion-page");return(0,l.wg)(),(0,l.j4)(C,null,{default:(0,l.w5)((()=>[(0,l.Wm)(N),(0,l.Wm)(F,{method:e.storageHandler,height:"false",filledBtn:"Далее",outlineBtn:".",title:"Разовая услуга"},{"header-content":(0,l.w5)((()=>[(0,l.Wm)(V,null,{default:(0,l.w5)((()=>[u,(0,l._)("p",i,[(0,l.Wm)(V,{class:"main-subtitle"},{default:(0,l.w5)((()=>[d])),_:1}),o])])),_:1})])),"main-content":(0,l.w5)((()=>[(0,l.Wm)(V,null,{default:(0,l.w5)((()=>[m,(0,l._)("p",null,[(0,l.Wm)(V,{class:"dot"},{default:(0,l.w5)((()=>[c])),_:1}),_])])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.formUser,((t,a)=>((0,l.wg)(),(0,l.iD)("div",{key:t},[(0,l.Wm)(H,{ref_for:!0,ref:"addressQuery"},{default:(0,l.w5)((()=>[(0,l.Wm)(P,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,{mask:t.mask,slot:"header",value:t.value,name:t.name,required:t.required,onInput:a=>{t.value=a.target.value,e.addressQueryHandler(a,t.field)}},null,8,["mask","value","name","required","onInput"]),(0,l.wy)((0,l._)("div",v,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.addressList,(s=>(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",{key:s},[(0,l.Wm)(x,{button:"",onClick:()=>{this.$refs.addressQuery[a].$el.value=void 0,t.value=s.value},lines:e.addressList[e.addressList.length-1]?.value===s.value?"none":"full"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(s.value),1)])),_:2},1024)])),_:2},1032,["onClick","lines"])])),[[r.F8,"USER_ADDRESS"===t.field&&t.value]]))),128)),(0,l.wy)((0,l.Wm)(x,{lines:"none"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,null,{default:(0,l.w5)((()=>[f])),_:1})])),_:1},512),[[r.F8,0===e.addressList?.length]])],512),[[r.F8,"USER_ADDRESS"===t.field&&t.value]])])),_:2},1024)])),_:2},1536),(0,l.wy)((0,l.Wm)(V,null,{default:(0,l.w5)((()=>[h])),_:2},1536),[[r.F8,0===t.value.length&&t.error]])])))),128))])),content:(0,l.w5)((()=>[(0,l.Wm)(O,null,{content:(0,l.w5)((()=>[(0,l.Wm)(V,null,{default:(0,l.w5)((()=>[p,(0,l._)("p",null,[(0,l.Wm)(V,{class:"dot"},{default:(0,l.w5)((()=>[S])),_:1}),E])])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.formPass,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e},[(0,l.Wm)(b,{mask:e.mask,value:e.value,name:e.name,required:e.required,onInput:t=>{e.value=t.target.value}},null,8,["mask","value","name","required","onInput"]),(0,l.wy)((0,l.Wm)(V,null,{default:(0,l.w5)((()=>[A])),_:2},1536),[[r.F8,0===e.value.length&&e.error]])])))),128))])),_:1}),(0,l.Wm)(O,null,{content:(0,l.w5)((()=>[(0,l.Wm)(V,null,{default:(0,l.w5)((()=>[U,(0,l._)("p",null,[(0,l.Wm)(V,{class:"dot"},{default:(0,l.w5)((()=>[g])),_:1}),w])])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.formGas,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e},[(0,l.Wm)(b,{mask:e.mask,value:e.value,name:e.name,required:e.required,onInput:t=>{e.value=t.target.value}},null,8,["mask","value","name","required","onInput"]),(0,l.wy)((0,l.Wm)(V,null,{default:(0,l.w5)((()=>[y])),_:2},1536),[[r.F8,0===e.value.length&&e.error]])])))),128)),(0,l.Wm)(V,null,{default:(0,l.w5)((()=>[k])),_:1}),(0,l.Wm)(Y,{name:this.select?.GAS_VID_USLUG?.VALUE?this.select?.GAS_VID_USLUG?.VALUE:"Выберите вариант",btnSrc:()=>{e.router.push("/tabs/servicesOneSelect")}},null,8,["name","btnSrc"]),(0,l.wy)((0,l.Wm)(V,null,{default:(0,l.w5)((()=>[L])),_:1},512),[[r.F8,!0===e.validation.select&&!this.select?.GAS_VID_USLUG?.VALUE]]),(0,l.Wm)(V,null,{default:(0,l.w5)((()=>[W])),_:1}),(0,l.Wm)(b,{name:"Лицевой счет",value:e.lc,changeHandler:e.changeLc},null,8,["value","changeHandler"]),(0,l.wy)((0,l.Wm)(V,null,{default:(0,l.w5)((()=>[D])),_:1},512),[[r.F8,!0===e.validation.lc&&0===e.lc.length]]),(0,l.Wm)(V,null,{default:(0,l.w5)((()=>[$])),_:1}),(0,l.Wm)(b,{name:"Номер договора",value:e.number,changeHandler:e.changeNumber},null,8,["value","changeHandler"]),(0,l.wy)((0,l.Wm)(V,null,{default:(0,l.w5)((()=>[R])),_:1},512),[[r.F8,!0===e.validation.number&&0===e.number.length]]),(0,l.Wm)(V,null,{default:(0,l.w5)((()=>[I])),_:1}),(0,l.Wm)(b,{name:"Управляющая компания",value:e.company,changeHandler:e.changeCompany},null,8,["value","changeHandler"]),(0,l.wy)((0,l.Wm)(V,null,{default:(0,l.w5)((()=>[q])),_:1},512),[[r.F8,!0===e.validation.company&&0===e.company.length]])])),_:1})])),_:1},8,["method"])])),_:1})}var M=a(2119),N=a(1839),V=a(1705),b=a(387),x=a(652),P=a(4043),H=a(2833),O=a(381),Y=a.n(O),F=a(2982),C=a(6086),T=a(6306),B=(0,l.aZ)({name:"oneServicePage",components:{IonPage:V._i,ButtonSelect:H.Z,Layout:N.Z,IonText:V.yW,Input:b.Z,Back:P.Z,LayoutBox:x.Z,IonAccordion:V.We,IonAccordionGroup:V.eh,IonItem:V.Ie},directives:{mask:F.mask},setup(){const e=(0,M.tv)();return{router:e}},methods:{addressQueryHandler(e,t){"USER_BIRTHPLACE"===t&&this.addressQuery(e.target.value,t),"USER_ADDRESS"===t&&this.addressQuery(e.target.value,t),"USER_REGION"!==t&&"GAS_ADDRESS"!==t||this.addressQuery(e.target.value,t)},...(0,C.nv)(T.X,["getForms","addressQuery"]),async storageHandler(){let e=this.$data.formUser.filter((e=>{if(!0===e.required)return e.error=!0,""===e.value})),t=this.$data.formPass.filter((e=>{if(!0===e.required)return e.error=!0,""===e.value})),a=this.$data.formGas.filter((e=>{if(!0===e.required)return e.error=!0,""===e.value})),l=()=>{0===this.$data.lc.length?this.$data.validation.lc=!0:this.$data.validation.lc=!1,0===this.$data.number.length?this.$data.validation.number=!0:this.$data.validation.number=!1,0===this.$data.company.length?this.$data.validation.company=!0:this.$data.validation.company=!1,void 0===this.select?.GAS_VID_USLUG?.VALUE?this.$data.validation.select=!0:this.$data.validation.select=!1};if(l(),0===e.length&&0===t.length&&0===a.length&&Object.keys(this.$data.validation).every((e=>!this.$data.validation[e]))){let e={},t={};for(let n=0;n<this.$data.formPass.length;n++){const t=this.$data.formPass[n];e[t.field]={NAME:t.name,VALUE:t.value}}for(let n=0;n<this.$data.formGas.length;n++){const e=this.$data.formGas[n];t[e.field]={NAME:e.name,VALUE:e.value}}let a={...this.formFields[0],...e,...t};for(let n=0;n<this.$data.formUser.length;n++){const e=this.$data.formUser[n];a[e.field]={NAME:e.name,VALUE:e.value}}let l={...a,NAME:{NAME:"Название",VALUE:`${a.USER_NAME.VALUE} ${a.USER_LAST_NAME.VALUE}[${Y()().format("DD.MM.YYYY hh:mm")}]`},DATE_CREATE:{NAME:"Дата создания",VALUE:`${Y()().format("DD.MM.YYYY hh:mm:ss")} `},TIMESTAMP_X:{NAME:"Время последнего изменения",VALUE:`${Y()().format("DD.MM.YYYY hh:mm:ss")} `},USER:{NAME:"USER",VALUE:"",VALUE_ID:0},GAS_UPR_COMP:{NAME:"Управляющая компания (для многоквартирных домов)",VALUE:this.$data.company},GAS_LC:{NAME:"Лицевой счет (соответствует № договора поставки газа)",VALUE:this.$data.lc},GAS_NDOGOVORA_UGRS:{NAME:"Номер договора выполнение работ  по техническому о…азового оборудования  с УГРС АО Сахатранснефтегаз",VALUE:this.$data.number},GAS_VID_USLUG:{NAME:"Вид работ",VALUE:this.select?.GAS_VID_USLUG?.VALUE}};console.log(l,"test"),this.$pinia.state.value?.services?.form&&(this.$router.push({name:"servicesOneSelect",params:{next:!0}}),this.$pinia.state.value.services.form=l)}},changeCompany(e){this.$data.company=e.target.value},changeLc(e){this.$data.lc=e.target.value},changeNumber(e){this.$data.number=e.target.value}},mounted(){this.getForms()},computed:{addressList(){return this.$pinia.state.value?.services?.addressResponse?.suggestions},formFields(){return this.$pinia.state.value?.services?.formResponse?.result?.forms.filter((e=>"Разовые услуги для абонентов АО «Сахатранснефтегаз»"===e.SERVICE.VALUE))},select(){return this.$pinia.state.value?.services?.select}},data(){return{validation:{select:!1,lc:!1,number:!1,company:!1},lc:"",number:"",company:"",formGas:[{field:"GAS_NP",name:"Населенный пункт",type:"text",required:!0,value:""},{field:"GAS_STREET",type:"text",name:"Улица",required:!0,value:""},{field:"GAS_N_DOMA",name:"№ дома ",type:"text",required:!0,value:""},{field:"GAS_N_KORPUSA",name:"№ корпуса",type:"text",required:!0,value:""},{field:"GAS_N_KV",name:"№ квартиры",type:"text",required:!0,value:""}],formPass:[{field:"USER_PASSPORT_SERIAL",name:"Серия паспорта",mask:"####",type:"text",required:!0,value:""},{field:"USER_PASSPORT_NUM",type:"text",name:"Номер паспорта",mask:"######",required:!0,value:""},{field:"USER_PASS_WHO",name:"Кем выдан",type:"text",required:!0,value:""},{field:"USER_PASS_DATE",mask:"##.##.####",name:"Дата выдачи паспорта",type:"text",required:!0,value:""}],formUser:[{field:"USER_NAME",name:"Имя",type:"text",required:!0,value:"",mask:null},{field:"USER_LAST_NAME",mask:null,name:"Фамилия",type:"text",required:!0,value:""},{field:"USER_SECOND_NAME",mask:null,name:"Отчество",type:"text",required:!0,value:""},{field:"USER_ADDRESS",mask:null,name:"Место жительства",type:"text",required:!0,value:""},{field:"USER_PHONE",mask:"+7 (###) ###-##-##",name:"Контактный телефон",type:"text",required:!0,value:""},{field:"USER_PHONE_2",mask:null,name:"Дополнительный контактный номер",type:"text",required:!1,value:""},{field:"USER_EMAIL",mask:null,name:"E-mail",type:"email",required:!0,value:""}]}}}),Z=a(3744);const Q=(0,Z.Z)(B,[["render",G],["__scopeId","data-v-1fd07442"]]);var K=Q}}]);
//# sourceMappingURL=4172.93a5f39e.js.map