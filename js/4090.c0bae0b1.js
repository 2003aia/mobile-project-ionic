"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[4090],{8212:function(e,t,a){a.r(t),a.d(t,{default:function(){return Z}});var l=a(6252),s=a(3577),r=a(9963);const u=e=>((0,l.dD)("data-v-64831335"),e=e(),(0,l.Cn)(),e),d=u((()=>(0,l._)("p",{class:"text-20-600"},"Общие сведения заявления",-1))),n=u((()=>(0,l._)("p",{class:"title ion-text-start"},"Данные заявителя",-1))),i=(0,l.Uk)("*"),o=(0,l.Uk)(" - обязательное поле для заполнения. "),m={slot:"content"},f=(0,l.Uk)("Не найдено"),v=u((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1))),_=u((()=>(0,l._)("p",{class:"title ion-text-start"},"Данные паспорта",-1))),c=(0,l.Uk)("*"),h=(0,l.Uk)(" - обязательное поле для заполнения. "),E={slot:"content"},w=(0,l.Uk)(" Не найдено "),p=u((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1))),S=u((()=>(0,l._)("p",{class:"title ion-text-start"},"Данные об объекте газификации",-1))),U=(0,l.Uk)("*"),g=(0,l.Uk)(" - обязательное поле для заполнения. "),y={class:"sub-title"},A=(0,l.Uk)(" Адрес обьекта "),k=(0,l.Uk)("*"),R={slot:"content"},W=(0,l.Uk)(" Не найдено "),D=u((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1))),L={class:"sub-title"},$=(0,l.Uk)(" Кадастровый номер земельного участка "),I=(0,l.Uk)("*"),x=u((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1)));function q(e,t,a,u,q,N){const M=(0,l.up)("Back"),b=(0,l.up)("ion-text"),H=(0,l.up)("Input"),T=(0,l.up)("ion-item"),P=(0,l.up)("ion-accordion"),F=(0,l.up)("ion-accordion-group"),C=(0,l.up)("LayoutBox"),Y=(0,l.up)("Layout"),O=(0,l.up)("ion-page");return(0,l.wg)(),(0,l.j4)(O,null,{default:(0,l.w5)((()=>[(0,l.Wm)(M),(0,l.Wm)(Y,{height:"false",method:e.storageHandler,filledBtn:"Далее",outlineBtn:".",title:"Заявка на социальную газификацию"},{"header-content":(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[d])),_:1})])),"main-content":(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[n,(0,l._)("p",null,[(0,l.Wm)(b,{class:"dot"},{default:(0,l.w5)((()=>[i])),_:1}),o])])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.formUser,((t,a)=>((0,l.wg)(),(0,l.iD)("div",{key:t},[(0,l.Wm)(F,{ref_for:!0,ref:"addressQuery"},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{value:"first","toggle-icon":e.caretDownSharp},{default:(0,l.w5)((()=>[(0,l.Wm)(H,{mask:t.mask,slot:"header",value:t.value,name:t.name,required:t.required,onInput:a=>{t.value=a.target.value,e.addressQueryHandler(a,t.field)}},null,8,["mask","value","name","required","onInput"]),(0,l.wy)((0,l._)("div",m,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.addressList,(u=>(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",{key:u},[(0,l.Wm)(T,{button:"",onClick:()=>{this.$refs.addressQuery[a].$el.value=void 0,t.value=u.value},lines:e.addressList[e.addressList.length-1]?.value===u.value?"none":"full"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(u.value),1)])),_:2},1024)])),_:2},1032,["onClick","lines"])])),[[r.F8,"USER_BIRTHPLACE"===t.field||t.value]]))),128)),(0,l.wy)((0,l.Wm)(T,{lines:"none"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[f])),_:1})])),_:1},512),[[r.F8,0===e.addressList?.length]])],512),[[r.F8,"USER_BIRTHPLACE"===t.field||"USER_ADDRESS"===t.field&&t.value]])])),_:2},1032,["toggle-icon"])])),_:2},1536),(0,l.wy)((0,l.Wm)(b,null,{default:(0,l.w5)((()=>[v])),_:2},1536),[[r.F8,0===t.value.length&&t.error]])])))),128))])),content:(0,l.w5)((()=>[(0,l.Wm)(C,null,{content:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[_,(0,l._)("p",null,[(0,l.Wm)(b,{class:"dot"},{default:(0,l.w5)((()=>[c])),_:1}),h])])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.formPass,((t,a)=>((0,l.wg)(),(0,l.iD)("div",{key:t},[(0,l.Wm)(F,{ref_for:!0,ref:"addressQuery2"},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{value:"first"},{default:(0,l.w5)((()=>[(0,l.Wm)(H,{mask:t.mask,slot:"header",value:t.value,name:t.name,required:t.required,onInput:a=>{t.value=a.target.value,e.addressQueryHandler(a,t.field)}},null,8,["mask","value","name","required","onInput"]),(0,l.wy)((0,l._)("div",E,[(0,l._)("div",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.addressList,(r=>((0,l.wg)(),(0,l.iD)("div",{key:r},[(0,l.Wm)(T,{button:"",onClick:()=>{this.$refs.addressQuery2[a].$el.value=void 0,t.value=r.value},lines:e.addressList[e.addressList.length-1]?.value===r.value?"none":"full"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(r.value),1)])),_:2},1024)])),_:2},1032,["onClick","lines"])])))),128)),(0,l.wy)((0,l.Wm)(T,{lines:"none"},{default:(0,l.w5)((()=>[w])),_:1},512),[[r.F8,0===e.addressList?.length]])])],512),[[r.F8,"USER_REGION"===t.field&&t.value]])])),_:2},1024)])),_:2},1536),(0,l.wy)((0,l.Wm)(b,null,{default:(0,l.w5)((()=>[p])),_:2},1536),[[r.F8,0===t.value.length&&t.error]])])))),128))])),_:1}),(0,l.Wm)(C,null,{content:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[S,(0,l._)("p",null,[(0,l.Wm)(b,{class:"dot"},{default:(0,l.w5)((()=>[U])),_:1}),g]),(0,l._)("p",y,[A,(0,l.Wm)(b,{class:"dot"},{default:(0,l.w5)((()=>[k])),_:1})])])),_:1}),(0,l.Wm)(F,{ref:"addressQuery3"},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{value:"first"},{default:(0,l.w5)((()=>[(0,l.Wm)(H,{slot:"header",value:e.address,name:"Введите данные  ",onInput:t[0]||(t[0]=t=>{e.changeAddress(t),e.addressQueryHandler(t,"GAS_ADDRESS")})},null,8,["value"]),(0,l.wy)((0,l._)("div",R,[(0,l._)("div",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.addressList,(t=>((0,l.wg)(),(0,l.iD)("div",{key:t},[(0,l.Wm)(T,{button:"",onClick:()=>{this.$refs.addressQuery3.$el.value=void 0,e.address=t.value},lines:e.addressList[e.addressList.length-1]?.value===t.value?"none":"full"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.value),1)])),_:2},1024)])),_:2},1032,["onClick","lines"])])))),128)),(0,l.wy)((0,l.Wm)(T,{lines:"none"},{default:(0,l.w5)((()=>[W])),_:1},512),[[r.F8,0===e.addressList?.length]])])],512),[[r.F8,e.address]])])),_:1})])),_:1},512),(0,l.wy)((0,l.Wm)(b,null,{default:(0,l.w5)((()=>[D])),_:1},512),[[r.F8,!0===e.validation.address]]),(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l._)("p",L,[$,(0,l.Wm)(b,{class:"dot"},{default:(0,l.w5)((()=>[I])),_:1})])])),_:1}),(0,l.Wm)(H,{value:e.number,changeHandler:e.changeNumber,name:"Введите данные "},null,8,["value","changeHandler"]),(0,l.wy)((0,l.Wm)(b,null,{default:(0,l.w5)((()=>[x])),_:1},512),[[r.F8,!0===e.validation.number]])])),_:1})])),_:1},8,["method"])])),_:1})}var N=a(2119),M=a(1839),b=a(1705),H=a(4043),T=a(8903),P=a(387),F=a(652),C=a(6086),Y=a(381),O=a.n(Y),Q=a(3978),B=a(6306),V=(0,l.aZ)({name:"servicesRequestGas",components:{LayoutBox:F.Z,Input:P.Z,IonPage:b._i,Layout:M.Z,IonText:b.yW,Back:H.Z,IonAccordion:b.We,IonAccordionGroup:b.eh,IonItem:b.Ie},methods:{...(0,C.nv)(B.X,["getForms","addressQuery"]),changeNumber(e){this.$data.number=e.target.value},changeAddress(e){this.$data.address=e.target.value},onFocusText(e){this.$refs.text[e].focus()},onFocusText2(e){this.$refs.text2[e].focus()},addressQueryHandler(e,t){"USER_BIRTHPLACE"===t&&this.addressQuery(e.target.value,t),"USER_ADDRESS"===t&&this.addressQuery(e.target.value,t),"USER_REGION"!==t&&"GAS_ADDRESS"!==t||this.addressQuery(e.target.value,t)},async storageHandler(){const e=new Q.K;await e.create();let t={},a=this.$data.formUser.filter((e=>{if(!0===e.required)return e.error=!0,""===e.value})),l=this.$data.formPass.filter((e=>{if(!0===e.required)return e.error=!0,""===e.value})),s=()=>{0===this.$data.address.length?this.$data.validation.address=!0:this.$data.validation.address=!1,0===this.$data.number.length?this.$data.validation.number=!0:this.$data.validation.number=!1};if(s(),0===a.length&&0===l.length&&Object.keys(this.$data.validation).every((e=>!this.$data.validation[e]))){for(let e=0;e<this.$data.formPass.length;e++){const a=this.$data.formPass[e];t[a.field]={NAME:a.name,VALUE:a.value}}let a={...this.formFields[0],...t};for(let e=0;e<this.$data.formUser.length;e++){const t=this.$data.formUser[e];a[t.field]={NAME:t.name,VALUE:t.value}}let l={...a,DATE_CREATE:{NAME:"Дата создания",VALUE:`${O()().format("DD.MM.YYYY hh:mm:ss")} `},TIMESTAMP_X:{NAME:"Время последнего изменения",VALUE:`${O()().format("DD.MM.YYYY hh:mm:ss")} `},NAME:{NAME:"Название",VALUE:`${O()().format("DD.MM.YYYY hh:mm")} `},USER:{NAME:"USER",VALUE:"",VALUE_ID:0},GAS_ADDRESS:{NAME:"Адрес объекта",VALUE:this.$data.address},GAS_KADASTR:{NAME:"Кадастровый номер земельного участка",VALUE:this.$data.number}};console.log(l,"testuserObject"),this.$pinia.state.value?.services?.form&&(this.$pinia.state.value.services.form=l,await e.set("servicesTechAlliance",JSON.stringify(l))),this.$router.push("/tabs/servicesRequestCalc")}}},computed:{formFields(){return this.$pinia.state.value?.services?.formResponse?.result?.forms.filter((e=>"Социальная газификация"===e.SERVICE.VALUE))},addressList(){return this.$pinia.state.value?.services?.addressResponse?.suggestions}},mounted(){this.getForms(),console.log(this.formFields,"testtt222222")},setup(){const e=(0,N.tv)();return{router:e,documentTextOutline:T.L82,caretDownSharp:T.D2O}},data(){return{number:"",address:"",validation:{address:!1,number:!1},formUser:[{field:"USER_NAME",name:"Имя",type:"text",required:!0,value:"",mask:null},{field:"USER_LAST_NAME",mask:null,name:"Фамилия",type:"text",required:!0,value:""},{field:"USER_SECOND_NAME",mask:null,name:"Отчество",type:"text",required:!0,value:""},{field:"USER_BIRTHDATE",mask:"##.##.####",name:"Дата рождения",type:"text",required:!0,value:""},{field:"USER_SNILS",mask:"###-###-### ##",name:"СНИЛС",type:"text",required:!0,value:""},{field:"USER_INN",mask:"############",name:"ИНН",type:"text",required:!0,value:""},{field:"USER_BIRTHPLACE",mask:null,name:"Место рождения",type:"text",required:!0,value:""},{field:"USER_ADDRESS",mask:null,name:"Место жительства",type:"text",required:!0,value:""},{field:"USER_PHONE",mask:"+7 (###) ###-##-##",name:"Контактный телефон",type:"text",required:!0,value:""},{field:"USER_PHONE_2",mask:null,name:"Дополнительный контактный номер",type:"text",required:!1,value:""},{field:"USER_EMAIL",mask:null,name:"E-mail",type:"text",required:!0,value:""}],formPass:[{field:"USER_PASSPORT_SERIAL",name:"Серия паспорта",mask:"####",type:"text",required:!0,value:""},{field:"USER_PASSPORT_NUM",type:"text",name:"Номер паспорта",mask:"######",required:!0,value:""},{field:"USER_PASS_WHO",name:"Кем выдан",type:"text",required:!0,value:""},{field:"USER_PASS_DATE",mask:"##.##.####",name:"Дата выдачи паспорта",type:"text",required:!0,value:""},{field:"USER_REGION",name:"Место регистрации",type:"text",required:!0,value:""}],forms:[]}}}),G=a(3744);const K=(0,G.Z)(V,[["render",q],["__scopeId","data-v-64831335"]]);var Z=K}}]);
//# sourceMappingURL=4090.c0bae0b1.js.map