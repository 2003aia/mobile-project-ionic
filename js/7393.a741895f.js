"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[7393],{7393:function(e,a,n){n.r(a),n.d(a,{default:function(){return y}});n(7658);var t=n(6252),l=n(3577);const r=e=>((0,t.dD)("data-v-b32cdb0c"),e=e(),(0,t.Cn)(),e),u=r((()=>(0,t._)("p",{class:"title ion-text-start"},"Мои данные",-1))),o=r((()=>(0,t._)("p",{class:"sub-title"},"Имя",-1))),i={class:"sub-title"},s={class:"sub-title"},d=r((()=>(0,t._)("p",null,"Контактный телефон",-1)));function c(e,a,n,r,c,m){const p=(0,t.up)("Back"),f=(0,t.up)("ion-text"),g=(0,t.up)("Input"),v=(0,t.up)("ion-item"),h=(0,t.up)("Layout"),w=(0,t.up)("ion-page");return(0,t.wg)(),(0,t.j4)(w,null,{default:(0,t.w5)((()=>[(0,t.Wm)(p,{btnSrc:()=>e.router.push("profile")},null,8,["btnSrc"]),(0,t.Wm)(h,{height:"false",method:e.editProfileHandler,method2:()=>{e.router.push("/newPassPage")},loading:e.loading,filledBtn:"Сохранить",title:"Личный кабинет",outlineBtn:"Изменить пароль"},{"main-content":(0,t.w5)((()=>[(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[u])),_:1}),(0,t._)("div",null,[(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[o])),_:1}),(0,t.Wm)(g,{onUpdated:a[0]||(a[0]=a=>e.name=a),changeHandler:e.nameChange,value:e.name,name:"Укажите имя"},null,8,["changeHandler","value"]),(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t._)("p",i,(0,l.zw)(e.data.email),1)])),_:1}),(0,t.Wm)(g,{name:"Электронная почта",value:e.email,changeHandler:e.emailChange},null,8,["value","changeHandler"]),(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t._)("p",s,(0,l.zw)(e.login),1),d])),_:1})])),_:1})]),e.profileError?.response?.data?.error?((0,t.wg)(),(0,t.j4)(f,{key:0,class:"error"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,l.zw)(e.profileError?.response?.data?.error),1)])),_:1})):(0,t.kq)("",!0)])),_:1},8,["method","method2","loading"])])),_:1})}var m=n(2262),p=n(2201),f=n(2492),g=n(2684),v=n(3994),h=n(6683),w=n(6086),_=n(7698),k=n(3978),b=(0,t.aZ)({name:"profleEditPage",data(){return{codeSent:!1,edit:!1,data:{name:"Иван",surname:"Иванов",secondname:"Иванович",email:"Pochta@mail.ru",phone:"+7(996)-915-88-31"}}},components:{Input:v.Z,Back:h.Z,IonPage:g._i,Layout:f.Z,IonItem:g.Ie,IonText:g.yW},setup(){const e=(0,p.tv)(),{profileResponse:a,profileError:n}=(0,w.Jk)((0,_.O)()),{editProfile:t}=(0,_.O)();let l=(0,m.iH)("");const r=(0,m.iH)(""),u=(0,m.iH)(""),o=(0,m.iH)("");let i=null,s=null,d=(0,m.iH)(!1);const c=async()=>{const e=new k.K;await e.create(),i=await e.get("token"),s=JSON.parse(i),l.value=s?.name,u.value=s?.email,o.value=s?.phone},f=async()=>{d.value=!0,t(JSON.parse(i)?.token,l.value,u.value).then((async()=>{d.value=!1;const e=new k.K;await e.create();const a={...s,name:l.value,email:u.value};await e.set("token",JSON.stringify(a))}))},v=e=>{l.value=e.target.value},h=e=>{r.value=e.target.value},b=e=>{u.value=e.target.value};return(0,g.Yr)((()=>{c()})),{loading:d,profileResponse:a,profileError:n,router:e,editProfileHandler:f,nameChange:v,surnameChange:h,emailChange:b,surname:r,name:l,email:u,login:o}}}),H=n(3744);const W=(0,H.Z)(b,[["render",c],["__scopeId","data-v-b32cdb0c"]]);var y=W}}]);
//# sourceMappingURL=7393.a741895f.js.map