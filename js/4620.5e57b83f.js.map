{"version":3,"file":"js/4620.5e57b83f.js","mappings":"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","sources":["webpack://stng/./src/components/LayoutBox.vue","webpack://stng/./src/components/LayoutBox.vue?f0f9","webpack://stng/./src/views/PersonalAccountPay.vue","webpack://stng/./src/views/PersonalAccountPay.vue?66a5"],"sourcesContent":["<template>\r\n  <div :class=\"{ main: true, padding: padding, bgBlue: bgBlue }\" @click=\"onClick\">\r\n    <slot name=\"content\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  setup() { },\r\n  name: \"layoutBox\",\r\n  components: {},\r\n  props: {\r\n    padding: Boolean,\r\n    btnSrc: String,\r\n    filledButton: String,\r\n    title: String,\r\n    height: String,\r\n    onClick: Function,\r\n    bgBlue: Boolean,\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.bgBlue {\r\n  border: solid 1px #62d0ce;\r\n}\r\n\r\n.main {\r\n  background-color: rgb(255, 255, 255);\r\n  padding: 15px;\r\n  z-index: 2000px;\r\n  border-radius: 15px;\r\n  width: 100%;\r\n  height: 100%;\r\n  margin-bottom: 20px;\r\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.padding {\r\n  padding: 0;\r\n  margin-bottom: 20px;\r\n}\r\n</style>\r\n","import { render } from \"./LayoutBox.vue?vue&type=template&id=7ef2f989&scoped=true\"\nimport script from \"./LayoutBox.vue?vue&type=script&lang=js\"\nexport * from \"./LayoutBox.vue?vue&type=script&lang=js\"\n\nimport \"./LayoutBox.vue?vue&type=style&index=0&id=7ef2f989&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\aia\\\\Desktop\\\\STNG-MOBILE\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7ef2f989\"]])\n\nexport default __exports__","<template>\r\n  <ion-page>\r\n    <Back :btnSrc=\"() => router.push('/tabs/personalAccounts')\" />\r\n    <Layout v-if=\"paySent === false\" :method=\"paymentHandler\" height=\"false\" outlineBtn=\".\" filledBtn=\"Оплатить\"\r\n      title=\"Оплатить\">\r\n      <template v-slot:main-content>\r\n        <ion-text>\r\n          <p class=\"ion-text-start\">\r\n            Введите адрес электронной почты (email) или номер телефона\r\n          </p>\r\n        </ion-text>\r\n        <ion-item class=\"check\" lines=\"none\">\r\n          <input @click=\"\r\n            (e) => {\r\n              uniqueCheck(e,);\r\n            }\r\n          \" value=\"email\" v-model=\"formTypeVal\" @change=\"uniqueCheck\" class=\"check2\" type=\"checkbox\" slot=\"start\" />\r\n          <Input name=\"Введите email\" :value=\"email\" :changeHandler=\"changeEmail\" />\r\n          <!-- <ion-text v-show=\"!email\">\r\n            <p class=\"ion-text-center\" style=\"\">Электронная почта</p>\r\n          </ion-text> -->\r\n        </ion-item>\r\n\r\n        <ion-text>\r\n          <p class=\"ion-text-center or\">или</p>\r\n        </ion-text>\r\n        <ion-item class=\"check\" lines=\"none\">\r\n          <input @click=\"\r\n            (e) => {\r\n              uniqueCheck(e);\r\n            }\r\n          \" value=\"number\" v-model=\"formTypeVal\" @change=\"uniqueCheck\" class=\"check2\" type=\"checkbox\" slot=\"start\" />\r\n          <Input name=\"Введите номер телефона\" :value=\"phone\" :changeHandler=\"changePhone\" />\r\n\r\n        </ion-item>\r\n        <ion-text>\r\n          На электронную почту или на мобильный телефон будет направлен кассовый\r\n          чек\r\n        </ion-text>\r\n      </template>\r\n    </Layout>\r\n    <ion-content v-if=\"paySent && !link\" class=\"background\">\r\n      <div class=\"container\">\r\n        <ion-text>\r\n          <p class=\"title\">Выберите удобный вам способ оплаты</p>\r\n        </ion-text>\r\n        <layout-box :onClick=\"sberPayHanler2\">\r\n          <template v-slot:content>\r\n            <ion-text>\r\n              <p class=\"ion-text-center title\">Оплатить платежной картой</p>\r\n            </ion-text>\r\n          </template>\r\n        </layout-box>\r\n        <layout-box :onClick=\"sberPayHanler\">\r\n          <template v-slot:content>\r\n            <ion-img :src=\"require('@/assets/img/Sberpay.png')\" />\r\n          </template>\r\n        </layout-box>\r\n        <!-- <layout-box>\r\n          <template v-slot:content>\r\n            <ion-img :src=\"require('@/assets/img/Yandexpay.png')\" />\r\n          </template>\r\n        </layout-box>\r\n\r\n        <layout-box>\r\n          <template v-slot:content>\r\n            <ion-img :src=\"require('@/assets/img/Yoomoney.png')\" />\r\n          </template>\r\n        </layout-box> -->\r\n      </div>\r\n    </ion-content>\r\n\r\n    <ion-content v-if=\"link\" class=\"background\">\r\n      <iframe ref=\"iframeRef\" :onload=\"onloadHandler\" id=\"iframe\" class=\"video\" height=\"100%\" width=\"100%\" :src=\"linkSrc\"\r\n        frameborder=\"0\" allow=\"autoplay; fullscreen; picture-in-picture\" allowfullscreen></iframe>\r\n    </ion-content>\r\n  </ion-page>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Layout from \"../components/Layout.vue\";\r\nimport LayoutBox from \"../components/LayoutBox.vue\";\r\nimport Input from \"../components/Input.vue\";\r\nimport { IonPage, IonText, IonContent, IonImg, IonItem, isPlatform } from \"@ionic/vue\";\r\nimport {\r\n  pencilOutline,\r\n  documentTextOutline,\r\n  chevronForwardOutline,\r\n} from \"ionicons/icons\";\r\nimport Back from \"../components/Back.vue\";\r\nimport { Storage } from \"@ionic/storage\";\r\nimport { mapActions } from \"pinia\";\r\nimport { usePersonalAccountStore } from \"../stores/personalAccount\";\r\n\r\nexport default defineComponent({\r\n  name: \"personalAccauntPayPage\",\r\n  components: {\r\n    Back,\r\n    IonPage,\r\n    Layout,\r\n    IonText,\r\n    Input,\r\n    LayoutBox,\r\n    IonContent,\r\n    IonItem,\r\n    IonImg,\r\n  },\r\n  data() {\r\n    return {\r\n      phone: \"\",\r\n      email: \"\",\r\n      paySent: false,\r\n      link: false,\r\n      linkSrc: '',\r\n      consentEMAIL: false,\r\n      formTypeVal: ['number']\r\n    };\r\n  },\r\n  ionViewDidLeave() {\r\n    this.$data.link = false\r\n    this.$data.paySent = false\r\n  },\r\n  watch: {\r\n    linkSrc(newv, old) {\r\n      console.log(newv, 'testwatch', old)\r\n\r\n      if (newv == 'https://aostng.ru/tabs/personalAccounts') {\r\n        this.router.push('/tabs/personalAccounts')\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(usePersonalAccountStore, [\"sberPay\", \"getAccount\"]),\r\n    changePhone(e) {\r\n      this.$data.phone = e.target.value;\r\n    },\r\n    changeEmail(e) {\r\n      this.$data.email = e.target.value;\r\n    },\r\n    onloadHandler() {\r\n      if (this.linkSrc.includes('stng')) {\r\n        this.$router.push('/tabs/personalAccounts')\r\n        this.getAccount().then(()=>{\r\n          console.log('getAccount')\r\n        })\r\n      }\r\n    },\r\n    async uniqueCheck(e) {\r\n      this.$data.formTypeVal = [];\r\n      if (e.currentTarget.checked === false) {\r\n        this.$data.formTypeVal.push(e.currentTarget.value);\r\n      }\r\n\r\n    },\r\n    paymentHandler() {\r\n      this.sberPay(\r\n        this.$pinia.state.value.personalAccount.personalItemData.code,\r\n        this.$data.phone,\r\n        this.$data.email,\r\n        this.$data.formTypeVal[0] === 'email' ? true : false,\r\n        +this.$pinia.state.value.personalAccount.personalItemData.sberPay\r\n          .accruals,\r\n        isPlatform('ios') ? true : false\r\n      ).then(() => {\r\n        this.$data.linkSrc = this.$pinia.state.value?.personalAccount?.sberPayResponse?.data?.formUrl\r\n      })\r\n      this.$data.paySent = true;\r\n    },\r\n    sberPayHanler() {\r\n      window.open(\r\n        this.$pinia.state.value?.personalAccount?.sberPayResponse?.data?.externalParams?.sbolDeepLink,\r\n        \"_system\"\r\n      );\r\n\r\n    },\r\n    sberPayHanler2() {\r\n\r\n      this.$data.link = true\r\n\r\n      /* window.open(\r\n        this.$pinia.state.value?.personalAccount?.sberPayResponse?.link,\r\n        \"_system\"\r\n      ); */\r\n    },\r\n  },\r\n  setup() {\r\n\r\n    const router = useRouter();\r\n    return {\r\n      router,\r\n      pencilOutline,\r\n      documentTextOutline,\r\n      chevronForwardOutline,\r\n    };\r\n  },\r\n  mounted() {\r\n    const store = new Storage();\r\n    console.log(this.$route.params, \"params pay\");\r\n    const storageHandler = async () => {\r\n      await store.create();\r\n      const data = await store.get(\"token\");\r\n      const parsedData = JSON.parse(data);\r\n      this.$data.phone = parsedData.phone;\r\n      this.$data.email = parsedData.email;\r\n    };\r\n    storageHandler();\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.text {\r\n  margin-bottom: 30px;\r\n  margin-top: 10px;\r\n}\r\n\r\nion-img {\r\n  width: 113.6px;\r\n  height: 40px;\r\n  margin: auto;\r\n}\r\n\r\nion-item {\r\n  --padding-start: 0;\r\n  --padding-bottom: 0px;\r\n  --inner-padding-bottom: 0px;\r\n  --inner-padding-start: 0;\r\n  --inner-padding-end: 0;\r\n}\r\n\r\n.container {\r\n  padding-top: 20px;\r\n}\r\n\r\n.title {\r\n  padding: 20px;\r\n}\r\n\r\n.or {\r\n  margin: 0;\r\n  margin-bottom: 10px;\r\n\r\n}\r\n</style>\r\n","import { render } from \"./PersonalAccountPay.vue?vue&type=template&id=c00e7e80&scoped=true\"\nimport script from \"./PersonalAccountPay.vue?vue&type=script&lang=js\"\nexport * from \"./PersonalAccountPay.vue?vue&type=script&lang=js\"\n\nimport \"./PersonalAccountPay.vue?vue&type=style&index=0&id=c00e7e80&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\aia\\\\Desktop\\\\STNG-MOBILE\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c00e7e80\"]])\n\nexport default __exports__"],"names":["_createElementBlock","class","main","padding","_ctx","bgBlue","onClick","_renderSlot","defineComponent","setup","name","components","props","Boolean","btnSrc","String","filledButton","title","height","Function","__exports__","render","_createElementVNode","_createBlock","_component_ion_page","_createVNode","_component_Back","push","_component_Layout","method","outlineBtn","filledBtn","_component_ion_text","_hoisted_1","_component_ion_item","lines","e","value","onChange","type","slot","_component_Input","changeHandler","_hoisted_2","_component_ion_content","_hoisted_3","_hoisted_4","_component_layout_box","content","_hoisted_5","_component_ion_img","src","require","ref","onload","id","width","frameborder","allow","allowfullscreen","Back","IonPage","Layout","IonText","Input","LayoutBox","IonContent","IonItem","IonImg","data","phone","email","paySent","link","linkSrc","consentEMAIL","formTypeVal","ionViewDidLeave","this","$data","watch","newv","old","console","log","router","methods","mapActions","usePersonalAccountStore","changePhone","target","changeEmail","onloadHandler","includes","$router","getAccount","then","async","currentTarget","checked","paymentHandler","sberPay","$pinia","state","personalAccount","personalItemData","code","accruals","isPlatform","sberPayResponse","formUrl","sberPayHanler","window","open","externalParams","sbolDeepLink","sberPayHanler2","useRouter","pencilOutline","documentTextOutline","chevronForwardOutline","mounted","store","Storage","$route","params","storageHandler","create","get","parsedData","JSON","parse"],"sourceRoot":""}