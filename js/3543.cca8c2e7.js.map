{"version":3,"file":"js/3543.cca8c2e7.js","mappings":"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","sources":["webpack://test/./src/stores/profile.js","webpack://test/./src/views/Notifications.vue","webpack://test/./src/views/Notifications.vue?42d9"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport axios from 'axios'\r\nimport { Storage } from \"@ionic/storage\";\r\n\r\n\r\nexport const useProfileStore = defineStore({\r\n    id: 'profile',\r\n    state: () => ({\r\n        pushResponse: null,\r\n        pushError: null,\r\n        editProfileError: null,\r\n        editProfileResponse: null,\r\n    }),\r\n    getters: {\r\n        getPostsPerAuthor: (state) => {\r\n            return (authorId) => state.posts.filter((post) => post.userId === authorId)\r\n        }\r\n    },\r\n    actions: {\r\n        async getPush() {\r\n            const store = new Storage();\r\n            await store.create();\r\n            const token = await store.get(\"token\");\r\n            const tokenParsed = JSON.parse(token).token;\r\n            try {\r\n                await axios.get(`https://fhd.aostng.ru/vesta_storage/hs/API_STNG/V2/getPUSH?token=${tokenParsed}`)\r\n                    .then((response) => this.pushResponse = response.data)\r\n            } catch (error) {\r\n                this.pushError = error\r\n            }\r\n        },\r\n        async editProfile(token, name, email) {\r\n            try {\r\n                await axios.post(`https://fhd.aostng.ru/vesta_storage/hs/API_STNG/V2/Profile`, {\r\n                    token: token,\r\n                    name: name,\r\n                    email: email,\r\n                }).then((response) => this.editProfileResponse = response.data)\r\n            } catch (error) {\r\n                this.editProfileError = error\r\n            }\r\n        }\r\n    }\r\n})","<template>\r\n  <ion-page>\r\n    <Back />\r\n    <Layout btnSrc=\"/registrPage\" height=\"false\" outlineBtn=\".\" filledBtn=\".\" title=\"Уведомления\">\r\n      <template v-slot:main-content>\r\n        <div v-for=\"el in pushList\" :key=\"el\">\r\n          <ion-item @click=\"openLink(el.link)\">\r\n            <div>\r\n              <ion-text>\r\n                <p class=\"sub-title\">\r\n                  {{ el.title }}\r\n                </p>\r\n                <p class=\"text\">{{ el.body }}</p>\r\n              </ion-text>\r\n              <div class=\"footer-item\">\r\n                <ion-text class=\"text\">\r\n                  {{ moment(el.date).format('yyyy.MM.DD HH:MM:SS') }}\r\n                </ion-text>\r\n              </div>\r\n            </div>\r\n          </ion-item>\r\n        </div>\r\n      </template>\r\n    </Layout>\r\n  </ion-page>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Layout from \"../components/Layout.vue\";\r\nimport { IonPage, IonText, IonItem, } from \"@ionic/vue\";\r\nimport Back from \"../components/Back.vue\";\r\nimport { mapActions } from \"pinia\";\r\nimport { useProfileStore } from '../stores/profile'\r\nimport moment from 'moment'\r\n\r\nexport default defineComponent({\r\n  name: \"notificationsPage\",\r\n  components: {\r\n    IonPage,\r\n    Layout,\r\n    Back,\r\n    IonItem,\r\n    IonText,\r\n  },\r\n  methods: {\r\n    ...mapActions(useProfileStore, [\"getPush\"]),\r\n    openLink(link) {\r\n      document.location.href = link\r\n    }\r\n  },\r\n  computed: {\r\n    pushList() {\r\n      return this.$pinia.state.value?.profile?.pushResponse?.data ? this.$pinia.state.value?.profile?.pushResponse?.data : []\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getPush()\r\n  },\r\n  data() {\r\n    return {\r\n      data: [\r\n        {\r\n          title: \"Якутия. Еженедельный дайджест новостей газификации\",\r\n          sub_title: \"Новости\",\r\n          date: \"19.04.2022\",\r\n          time: \"12:05\",\r\n        },\r\n        {\r\n          title: \"Разовые услуги для абонентов АО «Сахатранснефтегаз»\",\r\n          sub_title: \"Мои заявки\",\r\n          date: \"19.04.2022\",\r\n          time: \"12:05\",\r\n        },\r\n        {\r\n          title: \"Разовые услуги для абонентов АО «Сахатранснефтегаз»\",\r\n          sub_title: \"Мои заявки\",\r\n          date: \"19.04.2022\",\r\n          time: \"12:05\",\r\n        },\r\n        {\r\n          title: \"№12345\",\r\n          sub_title: \"Обращения\",\r\n          date: \"19.04.2022\",\r\n          time: \"12:05\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n    return { router, moment };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.time {\r\n  margin-left: 20px;\r\n}\r\n\r\n.text {\r\n  margin-bottom: 5px;\r\n  margin-top: 0px;\r\n}\r\n\r\nion-item {\r\n  --padding-start: 0;\r\n  --inner-padding-end: 0;\r\n}\r\n\r\n.sub-title {\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.footer-item {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n</style>","import { render } from \"./Notifications.vue?vue&type=template&id=6a94d3b5&scoped=true\"\nimport script from \"./Notifications.vue?vue&type=script&lang=js\"\nexport * from \"./Notifications.vue?vue&type=script&lang=js\"\n\nimport \"./Notifications.vue?vue&type=style&index=0&id=6a94d3b5&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Downloads\\\\mobile-project-ionic\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6a94d3b5\"]])\n\nexport default __exports__"],"names":["useProfileStore","defineStore","id","state","pushResponse","pushError","editProfileError","editProfileResponse","getters","getPostsPerAuthor","authorId","posts","filter","post","userId","actions","async","store","Storage","create","token","get","tokenParsed","JSON","parse","axios","then","response","this","data","error","name","email","class","_createBlock","_component_ion_page","_createVNode","_component_Back","_component_Layout","btnSrc","height","outlineBtn","filledBtn","title","_withCtx","_createElementBlock","_Fragment","_renderList","_ctx","el","key","_component_ion_item","onClick","link","_createElementVNode","_component_ion_text","_toDisplayString","body","date","format","defineComponent","components","IonPage","Layout","Back","IonItem","IonText","methods","mapActions","openLink","document","location","href","computed","pushList","$pinia","value","profile","mounted","getPush","sub_title","time","setup","router","useRouter","moment","__exports__","render"],"sourceRoot":""}