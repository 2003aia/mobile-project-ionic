{"version":3,"file":"js/9641.bce9a05c.js","mappings":"yKAIO,MAAMA,GAAiBC,EAAAA,EAAAA,IAAY,CACtCC,GAAI,SACJC,MAAO,KAAM,CACTC,OAAQ,GACRC,aAAc,KACdC,YAAa,KACbC,SAAU,KAEdC,QAAS,CACLC,kBAAoBN,GACRO,GAAaP,EAAMQ,MAAMC,QAAQC,GAASA,EAAKC,SAAWJ,KAG1EK,QAAS,CACLC,kBAAkBC,GACdC,KAAKd,OAAS,GACd,IACIc,KAAKd,aAAee,IAAAA,IAAW,4CAA2CF,MACrEG,MAAMC,GAAaA,EAASC,MAGpC,CAFC,MAAOC,GACLL,KAAKZ,YAAciB,CACtB,CACJ,EACDP,wBAAwBd,GACpBgB,KAAKb,aAAe,KACpB,IACIa,KAAKb,mBAAqBc,IAAAA,IAAW,mCAAkCjB,OAClEkB,MAAMC,GAAaA,EAASC,MAGpC,CAFC,MAAOC,GACLL,KAAKZ,YAAciB,CACtB,CACJ,I,wFCjCAC,MAAM,Q,GACJA,MAAM,e,GAINA,MAAM,W,GAKJA,MAAM,wB,oIAXjBC,EAAAA,EAAAA,IAoBWC,EAAA,CApBDC,MAAM,OAAQ,cAAaC,EAAAA,MAArC,C,kBACE,IAkBM,EAlBNC,EAAAA,EAAAA,GAkBM,MAlBN,EAkBM,EAjBJA,EAAAA,EAAAA,GAEM,MAFN,EAEM,CADiB,OAAND,EAAAA,SAAM,WAArBH,EAAAA,EAAAA,IAAwDK,EAAA,C,MAAvBC,IAAKH,EAAAA,QAAtC,oCAGFC,EAAAA,EAAAA,GAYM,MAZN,EAYM,EAXJG,EAAAA,EAAAA,IAECC,EAAA,M,kBADE,IAAiB,EAAjBJ,EAAAA,EAAAA,GAAiB,UAAAK,EAAAA,EAAAA,IAAXN,EAAAA,MAAI,M,OAEbI,EAAAA,EAAAA,IAIWC,EAAA,M,kBAHT,IAEI,EAFJJ,EAAAA,EAAAA,GAEI,IAFJ,GAEIK,EAAAA,EAAAA,IADCN,EAAAA,YAAU,M,OAGjBI,EAAAA,EAAAA,IAEWC,EAAA,M,kBADT,IAA0B,EAA1BJ,EAAAA,EAAAA,GAA0B,KAAvBM,UAAQP,EAAAA,WAAS,OAAAQ,M,kBAhB5B,kB,eA2BF,GAAeC,EAAAA,EAAAA,IAAgB,CAC7BC,KAAM,oBACNC,MAAO,CACLC,KAAMC,OACNC,OAAQD,OACRH,KAAMG,OACNE,WAAYF,OACZG,UAAWH,OACXI,KAAMJ,QAERK,WAAY,CACVC,QADU,KAEVC,QAFU,KAGVC,OAAMA,EAAAA,M,UClCV,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,yJCLW3B,MAAM,kB,GAEJA,MAAM,kB,GAORA,MAAM,a,UAIPK,EAAAA,EAAAA,GAAoC,KAAjCL,MAAM,cAAa,cAAU,K,6TAhBxCC,EAAAA,EAAAA,IAuCW2B,EAAA,M,kBAtCT,IAAoC,EAApCpB,EAAAA,EAAAA,IAAoCqB,EAAA,CAA7BC,MAAM,EAAOC,QAAQ,KAC5BvB,EAAAA,EAAAA,IAoCcwB,EAAA,CApCDhC,MAAM,cAAY,C,kBAC7B,IAOM,EAPNK,EAAAA,EAAAA,GAOM,MAPN,EAOM,EANJG,EAAAA,EAAAA,IAAgFF,EAAA,CAAvEN,MAAM,UAAWO,IAAK0B,EAAQ,OAAvC,iBACA5B,EAAAA,EAAAA,GAIM,MAJN,EAIM,EAHJG,EAAAA,EAAAA,IAAiF0B,EAAA,CAAzElC,MAAM,MAAMc,KAAK,UAAWqB,KAAM/B,EAAAA,WAAY,cAAY,cAAlE,kBACAI,EAAAA,EAAAA,IAC4B0B,EAAA,CADnBE,WAAW,EAAMpC,MAAM,MAAMc,KAAK,aAAcqB,KAAM/B,EAAAA,UAAgBiC,QAAOjC,EAAAA,WACpF,cAAY,aADd,gCAKJC,EAAAA,EAAAA,GAyBM,MAzBN,EAyBM,EAtBJG,EAAAA,EAAAA,IAEWC,EAAA,CAFDT,MAAM,cAAY,C,kBAC1B,IAAoC,CAApCsC,K,OAEgB,IAAPlC,EAAAA,UAAO,WAAlBmC,EAAAA,EAAAA,IAiBM,MAAA3B,EAAA,gBAhBJ2B,EAAAA,EAAAA,IAU0BC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAVHrC,EAAAA,MAANsC,K,WAAjBzC,EAAAA,EAAAA,IAU0B0C,EAAA,CAVIC,IAAKF,GAAIhE,GAAKsC,KAAM0B,GAAI1B,KAAOG,WAAYuB,GAAI5B,KAAOM,UAAWsB,GAAIG,QAChGxB,KAAMqB,GAAIG,QAAUR,QAAK,K,KAAgDS,OAAOnE,MAAMoE,MAAMnE,OAAOG,SAAW2D,EAAGhE,G,KAA0BoE,OAAOnE,MAAMoE,MAAMC,KAAKC,QAAO,SAA6B7C,EAAAA,OAAO8C,KAAI,C,iBAAX,EASrMhC,OAAQwB,GAAIS,OAVjB,8EAWA3C,EAAAA,EAAAA,IAIsB4C,EAAA,CAJAC,SAAUjD,EAAAA,WAAakD,cAAW,eAAElD,EAAAA,gBAAgBmD,IAASC,UAAU,QAC3F9E,GAAG,mBADL,C,kBAEE,IAC8B,EAD9B8B,EAAAA,EAAAA,IAC8BiD,EAAA,CADD,kBAAgB,e,KAF/C,qBAZF,WAkBAxD,EAAAA,EAAAA,IAAqCyD,EAAA,C,MAAxB5C,KAAK,kB,iGA0B1B,GAAeD,EAAAA,EAAAA,IAAgB,CAC7BC,KAAM,aACNhB,OACE,MAAO,CACL6D,WAAW,EACXC,YAAY,EACZC,KAAM,GACNC,SAAS,EACTrE,KAAM,EACNsE,YAAY,EAEf,EAEDC,UACEtE,KAAKuE,MAAMH,SAAU,EAErBpE,KAAKwE,kBAAkBtE,MAAK,KAC1BF,KAAKuE,MAAMH,SAAU,CAArB,GAGH,EACDK,SAAU,CACRvF,SACE,OAAOc,KAAKoD,OAAOnE,MAAMoE,OAAOnE,QAAQA,QAAQkB,IACjD,GAEHsE,QACE,MAAMC,GAASC,EAAAA,EAAAA,MAEf,MAAO,CACLD,SAEAE,gBAAeA,EAAAA,IAElB,EACDC,QAAS,KACJC,EAAAA,EAAAA,IAAWjG,EAAAA,EAAgB,CAAC,gBAC/BgB,sBAAsBkF,GACpBhF,KAAKuE,MAAMxE,KAAOC,KAAKuE,MAAMxE,KAAO,EAEpCC,KAAKiF,YAAYjF,KAAKuE,MAAMxE,MAAMG,MAAK,KACrC,GAAIF,KAAKd,QAAQgG,OAAS,IAAMF,GAAGG,OACjCH,EAAEG,OAAOxB,UAAW,MACf,CACL,IAAK,IAAIyB,EAAQ,EAAGA,EAAQpF,KAAKd,QAAQgG,OAAQE,IAAS,CACxD,MAAMC,EAAUrF,KAAKd,OAAOkG,GAC5BpF,KAAKuE,MAAMJ,KAAKX,KAAK6B,EACvB,CACAL,GAAGG,QAAQG,UACb,IAEH,EACDC,WAAY,WACVvF,KAAKiE,WAAY,EACjBjE,KAAKkE,YAAa,CACnB,GAEHtC,WAAY,CACV4D,QADU,KAEVC,WAFU,KAGVC,OAHU,IAIVC,SAJU,IAKV9D,QALU,KAMV+D,kBANU,KAOVC,KAPU,IAQVC,yBARU,KASVC,WATU,KAUVhE,OAAMA,EAAAA,M,UC3HV,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://test/./src/stores/notice.js","webpack://test/./src/components/NewsItem.vue","webpack://test/./src/components/NewsItem.vue?ffeb","webpack://test/./src/views/TabAds.vue","webpack://test/./src/views/TabAds.vue?0db1"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport axios from 'axios'\r\n\r\n\r\nexport const useNoticeStore = defineStore({\r\n    id: 'notice',\r\n    state: () => ({\r\n        notice: [],\r\n        noticeDetail: null,\r\n        noticeError: null, \r\n        idNotice: ''\r\n    }),\r\n    getters: {\r\n        getPostsPerAuthor: (state) => {\r\n            return (authorId) => state.posts.filter((post) => post.userId === authorId)\r\n        }\r\n    },\r\n    actions: {\r\n        async fetchNotice(page) {\r\n            this.notice = []\r\n            try {\r\n                this.notice = await axios.get(`https://aostng.ru/api/v2/notice/all/page/${page}/`)\r\n                    .then((response) => response.data)\r\n            } catch (error) {\r\n                this.noticeError = error\r\n            }\r\n        },\r\n        async fetchNoticeDetail(id) {\r\n            this.noticeDetail = null\r\n            try {\r\n                this.noticeDetail = await axios.get(`https://aostng.ru/api/v2/notice/${id}}/`)\r\n                    .then((response) => response.data)\r\n            } catch (error) {\r\n                this.noticeError = error\r\n            }\r\n        }\r\n    }\r\n})","<template>\r\n  <ion-item lines=\"none\" :router-link=\"name\">\r\n    <div class=\"item\">\r\n      <div class=\"img-wrapper\">\r\n        <ion-img v-if=\"imgsrc !== null\" :src=\"imgsrc\"></ion-img>\r\n      </div>\r\n\r\n      <div class=\"content\">\r\n        <ion-text\r\n          ><p>{{ date }}</p></ion-text\r\n        >\r\n        <ion-text>\r\n          <p class=\"title ion-text-start\">\r\n            {{ main_title }}\r\n          </p>\r\n        </ion-text>\r\n        <ion-text>\r\n          <p v-html=\"sub_title\"></p>\r\n        </ion-text>\r\n      </div>\r\n    </div>\r\n  </ion-item>\r\n</template>\r\n\r\n<script>\r\nimport { IonItem, IonText, IonImg } from \"@ionic/vue\";\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"newsItemComponent\",\r\n  props: {\r\n    date: String,\r\n    imgsrc: String,\r\n    name: String,\r\n    main_title: String,\r\n    sub_title: String,\r\n    text: String,\r\n  },\r\n  components: {\r\n    IonText,\r\n    IonItem,\r\n    IonImg,\r\n  },\r\n\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.content {\r\n  padding-left: 15px;\r\n  padding-right: 15px;\r\n}\r\n\r\nion-item {\r\n  --background: #ffffff;\r\n  --border-radius: 9px;\r\n  --padding-start: 0;\r\n  --padding-end: 0;\r\n  --inner-padding-end: 0;\r\n  margin-bottom: 20px;\r\n}\r\n /* \r\n.img-wrapper {\r\n  height: 200px;\r\n  width: 100%;\r\n  max-width: none;\r\n  background: #0000004d;\r\n}\r\n */\r\nion-img {\r\n  border-top-right-radius: 9px;\r\n  border-top-left-radius: 9px;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>","import { render } from \"./NewsItem.vue?vue&type=template&id=fa4a756c&scoped=true\"\nimport script from \"./NewsItem.vue?vue&type=script&lang=js\"\nexport * from \"./NewsItem.vue?vue&type=script&lang=js\"\n\nimport \"./NewsItem.vue?vue&type=style&index=0&id=fa4a756c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\aia\\\\Desktop\\\\STNG-MOBILE\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fa4a756c\"]])\n\nexport default __exports__","<template>\r\n  <ion-page>\r\n    <Back :logo=\"true\" :noBack=\"true\" />\r\n    <ion-content class=\"background\">\r\n      <div class=\"header-wrapper\">\r\n        <ion-img class=\"pattern\" :src=\"require('../assets/img/pattern2.png')\"></ion-img>\r\n        <div class=\"button-wrapper\">\r\n          <Button class=\"btn\" name=\"Новости\" :grey=\"newsButton\" router-link=\"/tabs/main\" />\r\n          <Button :lightBlue=\"true\" class=\"btn\" name=\"Объявления\" :grey=\"adsButton\" v-on:click=\"adsHandler\"\r\n            router-link=\"/tabs/ads\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"container\">\r\n\r\n\r\n        <ion-text class=\"main-title\">\r\n          <p class=\"main-title\">Объявления</p>\r\n        </ion-text>\r\n        <div v-if=\"loading === false\">\r\n          <NewsItem v-for=\"el in list\" :key=\"el?.id\" :date=\"el?.date\" :main_title=\"el?.name\" :sub_title=\"el?.preview\"\r\n            :text=\"el?.preview\" @click=\"\r\n              () => {\r\n                this.$pinia.state.value.notice.idNotice = el.id;\r\n                this.$pinia.state.value.news.forNews = 'notice'\r\n                router.push({\r\n                  name: 'newsPage',\r\n                  /*  params: { id: el.id, for: 'notice' }, */\r\n                });\r\n              }\r\n            \" :imgsrc=\"el?.image\" />\r\n          <ion-infinite-scroll :disabled=\"isDisabled\" @ionInfinite=\"fetchMoreNotice($event)\" threshold=\"100px\"\r\n            id=\"infinite-scroll\">\r\n            <ion-infinite-scroll-content loading-spinner=\"bubbles\">\r\n            </ion-infinite-scroll-content>\r\n          </ion-infinite-scroll>\r\n        </div>\r\n        <ion-spinner name=\"bubbles\" v-else />\r\n      </div>\r\n    </ion-content>\r\n  </ion-page>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { airplaneOutline } from \"ionicons/icons\";\r\nimport {\r\n  IonPage,\r\n  IonContent,\r\n  IonText,\r\n  IonInfiniteScroll,\r\n  IonInfiniteScrollContent,\r\n  IonSpinner,\r\n  IonImg,\r\n} from \"@ionic/vue\";\r\nimport Button from \"../components/Button.vue\";\r\nimport NewsItem from \"../components/NewsItem.vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useNoticeStore } from \"../stores/notice\";\r\nimport { mapActions } from \"pinia\";\r\nimport Back from \"../components/Back.vue\";\r\n\r\n\r\nexport default defineComponent({\r\n  name: \"tabAdsPage\",\r\n  data() {\r\n    return {\r\n      adsButton: false,\r\n      newsButton: true,\r\n      list: [],\r\n      loading: false,\r\n      page: 0,\r\n      isDisabled: false,\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.$data.loading = true;\r\n\r\n    this.fetchMoreNotice().then(() => {\r\n      this.$data.loading = false;\r\n\r\n    })\r\n  },\r\n  computed: {\r\n    notice() {\r\n      return this.$pinia.state.value?.notice?.notice?.data;\r\n    },\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    return {\r\n      router,\r\n\r\n      airplaneOutline,\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions(useNoticeStore, [\"fetchNotice\"]),\r\n    async fetchMoreNotice(e) {\r\n      this.$data.page = this.$data.page + 1;\r\n\r\n      this.fetchNotice(this.$data.page).then(() => {\r\n        if (this.notice?.length < 10 && e?.target) {\r\n          e.target.disabled = true\r\n        } else {\r\n          for (let index = 0; index < this.notice?.length; index++) {\r\n            const element = this.notice[index];\r\n            this.$data.list.push(element);\r\n          }\r\n          e?.target?.complete()\r\n        }\r\n      });\r\n    },\r\n    adsHandler: function () {\r\n      this.adsButton = false;\r\n      this.newsButton = true;\r\n    },\r\n  },\r\n  components: {\r\n    IonPage,\r\n    IonContent,\r\n    Button,\r\n    NewsItem,\r\n    IonText,\r\n    IonInfiniteScroll,\r\n    Back,\r\n    IonInfiniteScrollContent,\r\n    IonSpinner,\r\n    IonImg,\r\n\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.background {\r\n  --background: #eaeaea;\r\n}\r\n\r\n.button-wrapper {\r\n  display: flex;\r\n  width: 100%;\r\n  flex-grow: 1;\r\n  background: #268FCC;\r\n  border-radius: 25px;\r\n  flex-wrap: wrap;\r\n  position: sticky;\r\n  z-index: 1000;\r\n  top: 5px;\r\n}\r\n\r\n.pattern {\r\n  position: absolute;\r\n  height: fit-content;\r\n  width: 350px;\r\n  bottom: 0;\r\n  padding: 0 15px;\r\n  left: 0;\r\n  right: 0;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n\r\n.header-wrapper {\r\n  position: relative;\r\n  padding: 15px;\r\n  height: 200px;\r\n  background: linear-gradient(156.39deg, #1B80B9 7.75%, #0E3977 100.99%);\r\n}\r\n\r\n.btn {\r\n  flex-grow: 1;\r\n}\r\n\r\n.container {\r\n  padding: 15px;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  background-color: #ffffff00;\r\n  top: -150px;\r\n}\r\n\r\n@media screen and (max-width: 280px) {\r\n  .container {\r\n    top: -100px;\r\n  }\r\n}\r\n\r\nion-button {\r\n  --background: l#EAEAEA;\r\n\r\n  --border-radius: 25px;\r\n  height: 50px;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.name {\r\n  text-align: center;\r\n  color: rgb(0, 0, 0);\r\n  font-family: \"Open Sans\", sans-serif;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n}\r\n\r\n.main-title {\r\n  margin-bottom: 5px;\r\n  z-index: 20;\r\n  position: relative;\r\n}\r\n</style>\r\n","import { render } from \"./TabAds.vue?vue&type=template&id=3c34d5fc&scoped=true\"\nimport script from \"./TabAds.vue?vue&type=script&lang=js\"\nexport * from \"./TabAds.vue?vue&type=script&lang=js\"\n\nimport \"./TabAds.vue?vue&type=style&index=0&id=3c34d5fc&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\aia\\\\Desktop\\\\STNG-MOBILE\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3c34d5fc\"]])\n\nexport default __exports__"],"names":["useNoticeStore","defineStore","id","state","notice","noticeDetail","noticeError","idNotice","getters","getPostsPerAuthor","authorId","posts","filter","post","userId","actions","async","page","this","axios","then","response","data","error","class","_createBlock","_component_ion_item","lines","_ctx","_createElementVNode","_component_ion_img","src","_createVNode","_component_ion_text","_toDisplayString","innerHTML","_hoisted_5","defineComponent","name","props","date","String","imgsrc","main_title","sub_title","text","components","IonText","IonItem","IonImg","__exports__","render","_component_ion_page","_component_Back","logo","noBack","_component_ion_content","require","_component_Button","grey","lightBlue","onClick","_hoisted_4","_createElementBlock","_Fragment","_renderList","el","_component_NewsItem","key","preview","$pinia","value","news","forNews","push","image","_component_ion_infinite_scroll","disabled","onIonInfinite","$event","threshold","_component_ion_infinite_scroll_content","_component_ion_spinner","adsButton","newsButton","list","loading","isDisabled","mounted","$data","fetchMoreNotice","computed","setup","router","useRouter","airplaneOutline","methods","mapActions","e","fetchNotice","length","target","index","element","complete","adsHandler","IonPage","IonContent","Button","NewsItem","IonInfiniteScroll","Back","IonInfiniteScrollContent","IonSpinner"],"sourceRoot":""}