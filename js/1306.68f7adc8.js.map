{"version":3,"file":"js/1306.68f7adc8.js","mappings":"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","sources":["webpack://test/./src/stores/profile.js","webpack://test/./src/views/Profile.vue","webpack://test/./src/views/Profile.vue?24e8"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport axios from 'axios'\r\n\r\n\r\nexport const useProfileStore = defineStore({\r\n    id: 'profile',\r\n    state: () => ({\r\n        profileResponse: null,\r\n        profileError: null,\r\n        editProfileError: null,\r\n        editProfileResponse: null,\r\n    }),\r\n    getters: {\r\n        getPostsPerAuthor: (state) => {\r\n            return (authorId) => state.posts.filter((post) => post.userId === authorId)\r\n        }\r\n    },\r\n    actions: {\r\n        async getProfile(token) {\r\n            try {\r\n                this.profileResponse = await axios.post(`https://api.aostng.ru/api/v2/user/profile/get/`, { token: token })\r\n                    .then((response) => response.data)\r\n            } catch (error) {\r\n                this.profileError = error\r\n            }\r\n        },\r\n        async editProfile(token, firstName, lastName, email) {\r\n            try {\r\n                this.editProfileResponse = await axios.post(`https://api.aostng.ru/api/v2/user/profile/set/`, {\r\n                    token: token,\r\n                    firstName: firstName,\r\n                    lastName: lastName,\r\n                    email: email\r\n\r\n                })\r\n                    .then((response) => response.data).catch((e) => {\r\n                        this.editProfileError = e\r\n                    })\r\n            } catch (error) {\r\n                this.editProfileError = error\r\n            }\r\n        }\r\n    }\r\n})","<template>\r\n  <ion-page>\r\n    <Back />\r\n    <Layout\r\n      height=\"false\"\r\n      :method=\"\r\n        () => {\r\n          router.push('/profileEdit');\r\n        }\r\n      \"\r\n      :method2=\"\r\n        () => {\r\n          router.push('/profileSend');\r\n        }\r\n      \"\r\n      :filledBtn=\"'Редактировать'\"\r\n      title=\"Личный кабинет\"\r\n      :outlineBtn=\"'Изменить пароль'\"\r\n    >\r\n      <template v-slot:main-content>\r\n        <ion-text>\r\n          <p class=\"title ion-text-start\">Мои данные</p>\r\n        </ion-text>\r\n        <ion-list>\r\n          <ion-item>\r\n            <ion-text>\r\n              <p class=\"sub-title\">{{ profileResponse?.data?.firstName }}</p>\r\n              <p>Имя</p>\r\n            </ion-text>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-text>\r\n              <p class=\"sub-title\">{{ profileResponse?.data?.lastName }}</p>\r\n              <p>Фамилия</p>\r\n            </ion-text>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-text>\r\n              <p class=\"sub-title\">{{ data.secondname }}</p>\r\n              <p>Отчество</p>\r\n            </ion-text>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-text>\r\n              <p class=\"sub-title\">{{ profileResponse?.data?.email }}</p>\r\n              <p>Электронная почта</p>\r\n            </ion-text>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-text>\r\n              <p class=\"sub-title\">{{ data.phone }}</p>\r\n              <p>Контактный телефон</p>\r\n            </ion-text>\r\n          </ion-item>\r\n        </ion-list>\r\n      </template>\r\n    </Layout>\r\n  </ion-page>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Layout from \"../components/Layout.vue\";\r\nimport Back from \"../components/Back.vue\";\r\nimport {\r\n  IonPage,\r\n  IonText,\r\n  IonItem,\r\n  IonList,\r\n  onIonViewWillEnter,\r\n} from \"@ionic/vue\";\r\nimport { Storage } from \"@ionic/storage\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { useProfileStore } from \"../stores/profile\";\r\n\r\nexport default defineComponent({\r\n  name: \"profilePage\",\r\n  data() {\r\n    return {\r\n      codeSent: false,\r\n      edit: false,\r\n      data: {\r\n        name: \"Иван\",\r\n        surname: \"Иванов\",\r\n        secondname: \"Иванович\",\r\n\r\n        email: \"Pochta@mail.ru\",\r\n        phone: \"+7(996)-915-88-31\",\r\n      },\r\n    };\r\n  },\r\n  components: {\r\n    IonPage,\r\n    Back,\r\n    Layout,\r\n    IonList,\r\n    IonItem,\r\n    IonText,\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n    const store = new Storage();\r\n    const { profileResponse, profileError } = storeToRefs(useProfileStore());\r\n    const { getProfile } = useProfileStore();\r\n\r\n    const fetchProfileHandler = async () => {\r\n      await store.create();\r\n      const value = await store.get(\"token\");\r\n\r\n      getProfile(JSON.parse(value)?.token).then(async () => {\r\n        await store.set(\r\n          \"profileData\",\r\n          JSON.stringify(profileResponse.value.data)\r\n        );\r\n      });\r\n    };\r\n    onIonViewWillEnter(() => {\r\n      fetchProfileHandler();\r\n    });\r\n\r\n    return { router, profileResponse, profileError };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\nion-item {\r\n  --padding-start: 0;\r\n  --padding-bottom: 0px;\r\n  --inner-padding-bottom: 0px;\r\n}\r\n</style>","import { render } from \"./Profile.vue?vue&type=template&id=505028e4&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=505028e4&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\OneDrive\\\\Рабочий стол\\\\STNG-MOBILE\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-505028e4\"]])\n\nexport default __exports__"],"names":["useProfileStore","defineStore","id","state","profileResponse","profileError","editProfileError","editProfileResponse","getters","getPostsPerAuthor","authorId","posts","filter","post","userId","actions","async","token","this","axios","then","response","data","error","firstName","lastName","email","catch","e","_createElementVNode","class","_createBlock","_component_ion_page","_createVNode","_component_Back","_component_Layout","height","method","_ctx","push","method2","filledBtn","title","outlineBtn","_withCtx","_component_ion_text","_hoisted_1","_component_ion_list","_component_ion_item","_toDisplayString","_hoisted_3","_hoisted_5","secondname","_hoisted_7","_hoisted_9","phone","_hoisted_11","defineComponent","name","codeSent","edit","surname","components","IonPage","Back","Layout","IonList","IonItem","IonText","setup","router","useRouter","store","Storage","storeToRefs","getProfile","fetchProfileHandler","create","value","get","JSON","parse","set","stringify","onIonViewWillEnter","__exports__","render"],"sourceRoot":""}