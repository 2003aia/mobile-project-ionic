{"version":3,"file":"js/403.8c41b149.js","mappings":"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","sources":["webpack://test/./src/stores/index.js","webpack://test/./src/components/NewsItem.vue","webpack://test/./src/components/NewsItem.vue?ffeb","webpack://test/./src/views/TabMain.vue","webpack://test/./src/views/TabMain.vue?9993"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport axios from 'axios'\r\n\r\n\r\nexport const useNewsStore = defineStore({\r\n    id: 'news',\r\n    state: () => ({\r\n        news: [],\r\n        newsDetail: null\r\n    }),\r\n    getters: {\r\n        getPostsPerAuthor: (state) => {\r\n            return (authorId) => state.posts.filter((post) => post.userId === authorId)\r\n        }\r\n    },\r\n    actions: {\r\n        async fetchNews(page) {\r\n            this.news = []\r\n            try {\r\n                this.news = await axios.get(`https://aostng.ru/api/v2/news/all/page/${page}/`)\r\n                    .then((response) => response.data)\r\n            } catch (error) {\r\n                this.error = error\r\n            }\r\n        },\r\n        async fetchNewsDetail(id) {\r\n            this.post = null\r\n            try {\r\n                this.newsDetail = await axios.get(`https://aostng.ru/api/v2/news/${id}}/`)\r\n                    .then((response) => response.data)\r\n            } catch (error) {\r\n                this.error = error\r\n            }\r\n        }\r\n    }\r\n})","<template>\r\n  <ion-item lines=\"none\" :router-link=\"name\">\r\n    <div class=\"item\">\r\n      <div class=\"img-wrapper\">\r\n        <ion-img v-if=\"imgsrc !== ''\" :src=\"imgsrc\"></ion-img>\r\n      </div>\r\n\r\n      <div class=\"content\">\r\n        <ion-text\r\n          ><p>{{ date }}</p></ion-text\r\n        >\r\n        <ion-text>\r\n          <p class=\"title ion-text-start\">\r\n            {{ main_title }}\r\n          </p>\r\n        </ion-text>\r\n        <ion-text>\r\n          <p v-html=\"sub_title\"></p>\r\n        </ion-text>\r\n      </div>\r\n    </div>\r\n  </ion-item>\r\n</template>\r\n\r\n<script>\r\nimport { IonItem, IonText, IonImg } from \"@ionic/vue\";\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"newsItemComponent\",\r\n  props: {\r\n    date: String,\r\n    imgsrc: String,\r\n    name: String,\r\n    main_title: String,\r\n    sub_title: String,\r\n    text: String,\r\n  },\r\n  components: {\r\n    IonText,\r\n    IonItem,\r\n    IonImg,\r\n  },\r\n\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.content {\r\n  padding-left: 15px;\r\n  padding-right: 15px;\r\n}\r\n\r\nion-item {\r\n  --background: #ffffff;\r\n  --border-radius: 9px;\r\n  --padding-start: 0;\r\n  --padding-end: 0;\r\n  --inner-padding-end: 0;\r\n  margin-bottom: 20px;\r\n}\r\n /* \r\n.img-wrapper {\r\n  height: 200px;\r\n  width: 100%;\r\n  max-width: none;\r\n  background: #0000004d;\r\n}\r\n */\r\nion-img {\r\n  border-top-right-radius: 9px;\r\n  border-top-left-radius: 9px;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>","import { render } from \"./NewsItem.vue?vue&type=template&id=290c1aa3&scoped=true\"\nimport script from \"./NewsItem.vue?vue&type=script&lang=js\"\nexport * from \"./NewsItem.vue?vue&type=script&lang=js\"\n\nimport \"./NewsItem.vue?vue&type=style&index=0&id=290c1aa3&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\OneDrive\\\\Рабочий стол\\\\STNG-MOBILE\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-290c1aa3\"]])\n\nexport default __exports__","<template>\r\n  <ion-page>\r\n    <ion-content class=\"background\">\r\n      <div class=\"container\">\r\n          <div class=\"btn-wrapper\">\r\n            <Button\r\n              class=\"btn\"\r\n              name=\"Новости\"\r\n              :grey=\"newsButton\"\r\n              router-link=\"/tabs/main\"\r\n            />\r\n            <Button\r\n              class=\"btn\"\r\n              name=\"Объявления\"\r\n              :grey=\"adsButton\"\r\n              router-link=\"/tabs/ads\"\r\n            />\r\n        </div>\r\n\r\n        <ion-text class=\"main-title\">\r\n          <p class=\"main-title\">Новости</p>\r\n        </ion-text>\r\n        <ion-spinner name=\"bubbles\" v-if=\"loading === true\" />\r\n        <div v-if=\"loading === false\">\r\n          <NewsItem\r\n            v-for=\"el in list\"\r\n            :key=\"el?.id\"\r\n            :date=\"el?.date\"\r\n            :main_title=\"el?.name\"\r\n            :sub_title=\"el?.preview\"\r\n            :text=\"el?.preview\"\r\n            @click=\"\r\n              () => {\r\n                router.push({ name: 'newsPage', params: { id: el.id } });\r\n              }\r\n            \"\r\n            :imgsrc=\"el?.image\"\r\n          />\r\n\r\n          <ion-infinite-scroll threshold=\"100px\" id=\"infinite-scroll\">\r\n            <ion-infinite-scroll-content loading-spinner=\"bubbles\">\r\n            </ion-infinite-scroll-content>\r\n          </ion-infinite-scroll>\r\n        </div>\r\n      </div>\r\n    </ion-content>\r\n  </ion-page>\r\n</template>\r\n<script>\r\nimport { defineComponent, ref } from \"vue\";\r\nimport { airplaneOutline } from \"ionicons/icons\";\r\nimport {\r\n  IonPage,\r\n  IonContent,\r\n  IonText,\r\n   onIonViewDidEnter,\r\n  IonSpinner,\r\n  IonInfiniteScroll,\r\n  IonInfiniteScrollContent,\r\n} from \"@ionic/vue\";\r\nimport Button from \"../components/Button.vue\";\r\nimport NewsItem from \"../components/NewsItem.vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { useNewsStore } from \"../stores/index\";\r\n\r\nexport default defineComponent({\r\n  name: \"tabMainPage\",\r\n  data() {\r\n    return {\r\n      adsButton: true,\r\n      newsButton: false,\r\n      detail: null,\r\n      list23: [\r\n        {\r\n          image: \"\",\r\n\r\n          name: \"Якутия. Еженедельный дайджест новостей газификации\",\r\n          preview:\r\n            \"Главные новости АО «Сахатранснефтегаз» за неделю с 9 по 15 мая – в еженедельном дайджесте газификации. \",\r\n          detail: \"Lorem1\",\r\n          id: 1,\r\n          date: \"16.05.2022\",\r\n        },\r\n        {\r\n          image:\r\n            \"https://studio.everypixel.com/ru/blog/wp-content/uploads/2015/03/Funny-Stock-Unfinished-Business-6.jpg\",\r\n\r\n          name: \"Якутия. Еженедельный дайджест новостей газификации\",\r\n          preview:\r\n            \"Главные новости АО «Сахатранснефтегаз» за неделю с 9 по 15 мая – в еженедельном дайджесте газификации. \",\r\n          detail: \"Lorem2\",\r\n          id: 2,\r\n          date: \"16.05.2022\",\r\n        },\r\n        {\r\n          name: \"Якутия. Еженедельный дайджест новостей газификации\",\r\n          image:\r\n            \"https://studio.everypixel.com/ru/blog/wp-content/uploads/2015/03/Funny-Stock-Unfinished-Business-6.jpg\",\r\n\r\n          preview:\r\n            \"Главные новости АО «Сахатранснефтегаз» за неделю с 9 по 15 мая – в еженедельном дайджесте газификации. \",\r\n          detail: \"Lorem3\",\r\n          id: 3,\r\n          date: \"16.05.2022\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n    const { news } = storeToRefs(useNewsStore());\r\n    const { fetchNews } = useNewsStore();\r\n    let list = ref([]);\r\n    let loading = ref(false);\r\n    let page = 0;\r\n\r\n    function fetchMoreNews(e) {\r\n      page = page + 1;\r\n\r\n      fetchNews(page).then(() => {\r\n        loading.value = false;\r\n        for (let index = 0; index < news.value.data.length; index++) {\r\n          const element = news.value.data[index];\r\n          list.value.push(element);\r\n        }\r\n        e?.target?.complete();\r\n      });\r\n    }\r\n\r\n      onIonViewDidEnter(() => {\r\n      fetchMoreNews();\r\n    });\r\n\r\n    return {\r\n      loading,\r\n       list,\r\n      router,\r\n      fetchMoreNews,\r\n      airplaneOutline,\r\n    };\r\n  },\r\n\r\n  methods: {},\r\n  components: {\r\n    IonPage,\r\n    IonContent,\r\n    Button,\r\n    NewsItem,\r\n    IonText,\r\n    IonSpinner,\r\n    IonInfiniteScroll,\r\n    IonInfiniteScrollContent,\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.btn-wrapper {\r\n  display: flex;\r\n  width: inherit;\r\n  flex-grow: 1;\r\n  justify-content: space-between;\r\n  background: #eaeaea;\r\n  border-radius: 25px;\r\n  flex-wrap: wrap;\r\n  padding-right: 2px;\r\n  position: sticky;\r\n  z-index: 1000;\r\n  top: 5px;\r\n}\r\n\r\n.btn {\r\n  flex-grow: 1;\r\n}\r\n\r\n.container {\r\n  padding: 15px;\r\n  display: flex;\r\n  position: relative;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  background-color: #f5f5f5;\r\n}\r\n\r\nion-button {\r\n  --background: l#EAEAEA;\r\n\r\n  --border-radius: 25px;\r\n  height: 50px;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.name {\r\n  text-align: center;\r\n  color: rgb(0, 0, 0);\r\n  font-family: \"Open Sans\", sans-serif;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n}\r\n\r\nion-text p {\r\n  color: black;\r\n}\r\n</style>\r\n","import { render } from \"./TabMain.vue?vue&type=template&id=215cf7bc&scoped=true\"\nimport script from \"./TabMain.vue?vue&type=script&lang=js\"\nexport * from \"./TabMain.vue?vue&type=script&lang=js\"\n\nimport \"./TabMain.vue?vue&type=style&index=0&id=215cf7bc&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\OneDrive\\\\Рабочий стол\\\\STNG-MOBILE\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-215cf7bc\"]])\n\nexport default __exports__"],"names":["useNewsStore","defineStore","id","state","news","newsDetail","getters","getPostsPerAuthor","authorId","posts","filter","post","userId","actions","async","page","this","axios","then","response","data","error","class","_createBlock","_component_ion_item","lines","_ctx","_createElementVNode","_component_ion_img","src","_createVNode","_component_ion_text","_toDisplayString","innerHTML","_hoisted_5","defineComponent","name","props","date","String","imgsrc","main_title","sub_title","text","components","IonText","IonItem","IonImg","__exports__","render","_component_ion_page","_component_ion_content","_component_Button","grey","_hoisted_3","_component_ion_spinner","_createElementBlock","_hoisted_4","_Fragment","_renderList","el","_component_NewsItem","key","preview","onClick","push","params","image","_component_ion_infinite_scroll","threshold","_component_ion_infinite_scroll_content","adsButton","newsButton","detail","list23","setup","router","useRouter","storeToRefs","fetchNews","list","ref","loading","fetchMoreNews","e","value","index","length","element","target","complete","onIonViewDidEnter","airplaneOutline","methods","IonPage","IonContent","Button","NewsItem","IonSpinner","IonInfiniteScroll","IonInfiniteScrollContent"],"sourceRoot":""}