{"version":3,"file":"js/4857.69b6e80a.js","mappings":"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","sources":["webpack://stng/./src/stores/preEntry.js","webpack://stng/./src/components/LayoutBox.vue","webpack://stng/./src/components/LayoutBox.vue?f0f9","webpack://stng/./src/views/Records.vue","webpack://stng/./src/views/Records.vue?1470"],"sourcesContent":["import { defineStore } from \"pinia\";\r\nimport axios from \"axios\";\r\nimport { isPlatform } from \"@ionic/vue\";\r\nimport { Storage } from '@ionic/storage'\r\n\r\nlet apiUrlStng2 = 'https://fhd.aostng.ru/vesta/hs/API_STNG/V2/'\r\n\r\n\r\nexport const usePreEntryStore = defineStore({\r\n  id: \"preEntry\",\r\n  state: () => ({\r\n    entryPhone: \"\",\r\n    entryServiceType: \"\",\r\n    entryDate: null,\r\n    entryAvailableTimes: [],\r\n    entryTime: null,\r\n    entryNumber: null,\r\n\r\n\r\n    availableDates: null,\r\n    availableDatesError: null,\r\n    availableTimeSlots: null,\r\n    availableTimeSlotsError: null,\r\n    postReserveResponse: null,\r\n    postReserveError: null,\r\n    deleteReserveError: null,\r\n    deleteReserveResponse: null,\r\n    reserveData: null,\r\n    getReserveResponse: null,\r\n    getReserveError: null,\r\n\r\n  }),\r\n  getters: {\r\n    getEntryInfo: (state) => {\r\n      return {\r\n        entryPhone: state.entryPhone,\r\n        entryServiceType: state.entryServiceType,\r\n        entryDate: state.entryDate,\r\n        entryAvailableTimes: state.entryAvailableTimes,\r\n        entryTime: state.entryTime,\r\n      };\r\n    },\r\n  },\r\n  actions: {\r\n    async getDates(operation) {\r\n      try {\r\n        await axios\r\n          .get(`${apiUrlStng2}/elGetDatas?operation=${operation}`)\r\n          .then((response) => (this.availableDates = response.data));\r\n      } catch (error) {\r\n        this.availableDatesError = error;\r\n      }\r\n    },\r\n    async getTimeSlots(operation, date) {\r\n      try {\r\n        await axios\r\n          .get(`${apiUrlStng2}/elGetTimes?operation=${operation}&date=${date}`)\r\n          .then((response) => (this.availableTimeSlots = response.data));\r\n      } catch (error) {\r\n        this.availableTimeSlotsError = error;\r\n      }\r\n    },\r\n    async postReserve(data) {\r\n      try {\r\n        await axios\r\n          .post(`${apiUrlStng2}/elReserve`, data)\r\n          .then((response) => (this.postReserveResponse = response.data));\r\n      } catch (error) {\r\n        this.postReserveError = error;\r\n      }\r\n    },\r\n    async deleteReserve(id) {\r\n      try {\r\n        await axios\r\n          .get(`${apiUrlStng2}/elDelete?id=${id}`)\r\n          .then((response) => (this.deleteReserveResponse = response.data));\r\n      } catch (error) {\r\n        this.deleteReserveError = error;\r\n      }\r\n    },\r\n    async getReserve() {\r\n      const store = new Storage()\r\n      await store.create()\r\n      const token = await store.get('token')\r\n      const parsedToken = JSON.parse(token)\r\n      try {\r\n        await axios\r\n          .get(`${apiUrlStng2}/elQueye?token=${parsedToken?.token}`)\r\n          .then((response) => (this.getReserveResponse = response.data));\r\n      } catch (error) {\r\n        this.getReserveError = error;\r\n      }\r\n    },\r\n\r\n    async setPhone(phone) {\r\n      this.entryPhone = phone;\r\n    },\r\n    async setServiceType(type) {\r\n      this.entryServiceType = type;\r\n    },\r\n    async setDate(date) {\r\n      this.entryDate = date;\r\n    },\r\n    async setTime(time) {\r\n      this.entryTime = time;\r\n    },\r\n    async fetchTime() {\r\n      if (this.entryDate && this.entryServiceType != \"\") {\r\n        try {\r\n          let config = {\r\n            headers: {\r\n              Accept: \"*/*\",\r\n              \"Content-Type\": \"multipart/form-data\",\r\n            },\r\n          };\r\n\r\n          let device = \"android\";\r\n          if (isPlatform(\"iphone\")) {\r\n            device = \"iphone\";\r\n          }\r\n\r\n          var bodyFormData = new FormData();\r\n          bodyFormData.append(\"date\", this.entryDate);\r\n          bodyFormData.append(\"service\", this.entryServiceType);\r\n          bodyFormData.append(\"ionicDevice\", device);\r\n\r\n          const response = await axios.post(\r\n            `https://aostng.ru/ajax/preregajax.php`,\r\n            bodyFormData,\r\n            config\r\n          );\r\n\r\n          let values = [];\r\n          // Get values between <option value=\"##:##:##\"> and </option>\r\n          const re = />([^<.]+)<\\//g;\r\n          let match = re.exec(response.data);\r\n          while (match != null) {\r\n            values.push(match[1]);\r\n            match = re.exec(response.data);\r\n          }\r\n\r\n          this.entryTime = null;\r\n          this.entryAvailableTimes = values;\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    },\r\n\r\n    async sendFullInfo(phone, type, date, time) {\r\n      console.log(phone, type, date, time);\r\n      try {\r\n        let config = {\r\n          headers: {\r\n            Accept: \"*/*\",\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n        };\r\n        let device = \"android\";\r\n        if (isPlatform(\"iphone\")) {\r\n          device = \"iphone\";\r\n        }\r\n\r\n        var bodyFormData = new FormData();\r\n        bodyFormData.append(\"number\", phone);\r\n        bodyFormData.append(\"service\", type);\r\n        bodyFormData.append(\"date\", date);\r\n        bodyFormData.append(\"time\", time);\r\n        bodyFormData.append(\"ionicDevice\", device);\r\n\r\n        await axios.post(`https://aostng.ru/prereg2.php`, bodyFormData, config).then((response) => {\r\n          this.entryNumber = response.data.split('Номер вашей брони - </span>')[1]\r\n        })\r\n        return true;\r\n      } catch (error) {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    async resetPreEntry() {\r\n      this.entryPhone = \"\";\r\n      this.entryServiceType = \"\";\r\n      this.entryDate = null;\r\n      this.entryAvailableTimes = [];\r\n      this.entryTime = null;\r\n    },\r\n  },\r\n});\r\n","<template>\r\n  <div :class=\"{ main: true, padding: padding, bgBlue: bgBlue }\" @click=\"onClick\">\r\n    <slot name=\"content\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  setup() { },\r\n  name: \"layoutBox\",\r\n  components: {},\r\n  props: {\r\n    padding: Boolean,\r\n    btnSrc: String,\r\n    filledButton: String,\r\n    title: String,\r\n    height: String,\r\n    onClick: Function,\r\n    bgBlue: Boolean,\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.bgBlue {\r\n  border: solid 1px #62d0ce;\r\n}\r\n\r\n.main {\r\n  background-color: rgb(255, 255, 255);\r\n  padding: 15px;\r\n  z-index: 2000px;\r\n  border-radius: 15px;\r\n  width: 100%;\r\n  height: 100%;\r\n  margin-bottom: 20px;\r\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.padding {\r\n  padding: 0;\r\n  margin-bottom: 20px;\r\n}\r\n</style>\r\n","import { render } from \"./LayoutBox.vue?vue&type=template&id=7ef2f989&scoped=true\"\nimport script from \"./LayoutBox.vue?vue&type=script&lang=js\"\nexport * from \"./LayoutBox.vue?vue&type=script&lang=js\"\n\nimport \"./LayoutBox.vue?vue&type=style&index=0&id=7ef2f989&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\aia\\\\Desktop\\\\STNG-MOBILE\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7ef2f989\"]])\n\nexport default __exports__","<template>\r\n  <ion-page>\r\n    <Back />\r\n    <Layout :btnSrc=\"'/tabs/record'\" height=\"false\" outlineBtn=\".\" filledBtn=\".\" title=\"Мои заявки\">\r\n      <template v-slot:main-content>\r\n\r\n        <div v-show=\"!loading && el?.length > 0\">\r\n\r\n          <ion-item lines=\"none\">\r\n            <ion-text>\r\n              <p class=\"title ion-text-start\">\r\n                {{ operationConverter(el[0]?.operation) }}\r\n              </p>\r\n            </ion-text>\r\n            <ion-icon slot=\"end\" @click=\"\r\n              (e) => {\r\n                el[0].open = true;\r\n                el[0].event = e;\r\n              }\r\n            \" :icon=\"ellipsisVertical\" />\r\n            <ion-popover class=\"history-wrapper\" mode=\"ios\" :event=\"el[0]?.event\" :is-open=\"el[0]?.open\">\r\n              <!--  @didDismiss=\"lcList[0].open = false\" -->\r\n              <ion-content class=\"ion-padding\">\r\n                <div>\r\n\r\n                  <ion-item lines=\"nonse\" @click=\"(e) => {\r\n                    loadingDel = true\r\n                    deleteReserve(el[0]?.ID).then(() => {\r\n                      el[0].open = false;\r\n                      el[0].event = e;\r\n                      loadingDel = false\r\n                      loading = true\r\n                      getReserve().then(() => {\r\n                        loading = false\r\n                      })\r\n                    });\r\n                  }\">\r\n                    <ion-text> Удалить</ion-text>\r\n                    <ion-icon class=\"history-icon\" :icon=\"trashOutline\" slot=\"end\" v-if=\"loadingDel === false\" />\r\n                    <ion-spinner class=\"delSpinner\" v-else slot=\"end\" name=\"bubbles\" />\r\n                  </ion-item>\r\n                </div>\r\n              </ion-content>\r\n            </ion-popover>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-text>Время: </ion-text>\r\n            <ion-text slot=\"end\" class=\"text-blue\">\r\n              {{\r\n                el[0]?.slot\r\n              }}\r\n            </ion-text>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-text>ПИН-код: </ion-text>\r\n            <ion-text slot=\"end\" class=\"text-blue\">\r\n              {{\r\n                el[0]?.PINCode\r\n              }}\r\n            </ion-text>\r\n          </ion-item>\r\n        </div>\r\n        <div v-show=\"loading\">\r\n          <ion-item lines=\"none\">\r\n            <ion-spinner name=\"bubbles\" />\r\n          </ion-item>\r\n        </div>\r\n        <div v-show=\"el?.length === 0 && !loading\">\r\n          <ion-item lines=\"none\">\r\n            Заявок нет\r\n          </ion-item>\r\n        </div>\r\n\r\n      </template>\r\n      <template v-slot:content>\r\n        <div v-show=\"!loading\" v-for=\"el in el2\" :key=\"el\">\r\n          <LayoutBox>\r\n            <template v-slot:content>\r\n              <ion-item lines=\"none\">\r\n                <ion-text>\r\n                  <p class=\"title ion-text-start\">\r\n                    {{ operationConverter(el?.operation) }}\r\n                  </p>\r\n                </ion-text>\r\n                <ion-icon slot=\"end\" @click=\"\r\n                  (e) => {\r\n                    el.open = true;\r\n                    el.event = e;\r\n                  }\r\n                \" :icon=\"ellipsisVertical\" />\r\n                <ion-popover class=\"history-wrapper\" mode=\"ios\" :event=\"el?.event\" :is-open=\"el?.open\">\r\n                  <!--  @didDismiss=\"lcList[0].open = false\" -->\r\n                  <ion-content class=\"ion-padding\">\r\n                    <div>\r\n\r\n                      <ion-item lines=\"nonse\" @click=\"(e) => {\r\n                        loadingDel = true\r\n                        deleteReserve(el?.ID).then(() => {\r\n                          el.open = false;\r\n                          el.event = e;\r\n                          loadingDel = false\r\n                          loading = true\r\n                          getReserve().then(() => {\r\n                            loading = false\r\n                          })\r\n                        });\r\n                      }\">\r\n                        <ion-text> Удалить</ion-text>\r\n                        <ion-icon class=\"history-icon\" :icon=\"trashOutline\" slot=\"end\" v-if=\"loadingDel === false\" />\r\n                        <ion-spinner class=\"delSpinner\" v-else slot=\"end\" name=\"bubbles\" />\r\n                      </ion-item>\r\n                    </div>\r\n                  </ion-content>\r\n                </ion-popover>\r\n              </ion-item>\r\n              <ion-item>\r\n                <ion-text>Время: </ion-text>\r\n                <ion-text slot=\"end\" class=\"text-blue\">\r\n                  {{\r\n                    el?.slot\r\n                  }}\r\n                </ion-text>\r\n              </ion-item>\r\n              <ion-item>\r\n                <ion-text>ПИН-код: </ion-text>\r\n                <ion-text slot=\"end\" class=\"text-blue\">\r\n                  {{\r\n                    el?.PINCode\r\n                  }}\r\n                </ion-text>\r\n              </ion-item>\r\n            </template>\r\n          </LayoutBox>\r\n        </div>\r\n      </template>\r\n    </Layout>\r\n\r\n  </ion-page>\r\n</template>\r\n  \r\n  \r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Layout from \"../components/Layout.vue\";\r\nimport { IonPage, IonText, IonItem, IonPopover, IonIcon, IonContent, IonSpinner } from \"@ionic/vue\";\r\nimport {\r\n  pencilOutline,\r\n  documentTextOutline,\r\n  chevronForwardOutline,\r\n  trashOutline,\r\n  ellipsisVertical,\r\n} from \"ionicons/icons\";\r\nimport Back from \"../components/Back.vue\";\r\n// import Button from \"../components/Button.vue\";\r\n\r\nimport LayoutBox from \"../components/LayoutBox.vue\";\r\nimport { usePreEntryStore } from \"../stores/preEntry\";\r\n\r\n\r\nexport default defineComponent({\r\n  name: \"recordsPage\",\r\n  components: {\r\n    Back,\r\n    IonItem,\r\n    IonPage,\r\n    Layout,\r\n    IonText,\r\n    LayoutBox,\r\n    // Button,\r\n    IonPopover, IonIcon, IonContent, IonSpinner\r\n  },\r\n  data() {\r\n    return {\r\n      loadingDel: false,\r\n      loading: false,\r\n    }\r\n  },\r\n  computed: {\r\n\r\n    el() {\r\n      return this.$pinia.state.value.preEntry.getReserveResponse?.data || []\r\n    },\r\n    el2() {\r\n      return [...this.el.slice(1)];\r\n    },\r\n  },\r\n  ionViewDidEnter() {\r\n    this.$data.loading = true\r\n    this.getReserve().then(() => this.$data.loading = false)\r\n  },\r\n  methods: {\r\n    async deleteHandler(el) {\r\n      console.log(el, 'testdelete')\r\n      // this.deleteReserve()\r\n    },\r\n    operationConverter(value) {\r\n      switch (value) {\r\n        case '12':\r\n          return 'Прием документов';\r\n        case '14':\r\n          return 'Договор на поставку газа';\r\n        case '16':\r\n          return 'Соц. газификация'\r\n\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n    const { getReserve, deleteReserve } = usePreEntryStore();\r\n\r\n    return {\r\n      router,\r\n      pencilOutline,\r\n      documentTextOutline,\r\n      chevronForwardOutline,\r\n      trashOutline,\r\n      ellipsisVertical,\r\n      getReserve,\r\n      deleteReserve,\r\n    };\r\n  },\r\n});\r\n</script>\r\n  \r\n<style scoped>\r\n.text {\r\n  margin-top: 15px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.text-blue {\r\n  color: #0378b4;\r\n  font-weight: 700;\r\n  margin-left: 0;\r\n}\r\n\r\n/* .btn{\r\n  border: solid #dd2c00 1px;\r\n} */\r\n</style>","import { render } from \"./Records.vue?vue&type=template&id=13d80650&scoped=true\"\nimport script from \"./Records.vue?vue&type=script&lang=js\"\nexport * from \"./Records.vue?vue&type=script&lang=js\"\n\nimport \"./Records.vue?vue&type=style&index=0&id=13d80650&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\aia\\\\Desktop\\\\STNG-MOBILE\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-13d80650\"]])\n\nexport default __exports__"],"names":["apiUrlStng2","usePreEntryStore","defineStore","id","state","entryPhone","entryServiceType","entryDate","entryAvailableTimes","entryTime","entryNumber","availableDates","availableDatesError","availableTimeSlots","availableTimeSlotsError","postReserveResponse","postReserveError","deleteReserveError","deleteReserveResponse","reserveData","getReserveResponse","getReserveError","getters","getEntryInfo","actions","async","operation","axios","then","response","this","data","error","date","store","Storage","create","token","get","parsedToken","JSON","parse","phone","type","time","config","headers","Accept","device","isPlatform","bodyFormData","FormData","append","values","re","match","exec","push","console","log","split","_createElementBlock","class","main","padding","_ctx","bgBlue","onClick","_renderSlot","defineComponent","setup","name","components","props","Boolean","btnSrc","String","filledButton","title","height","Function","__exports__","render","_createBlock","_component_ion_page","_createVNode","_component_Back","_component_Layout","outlineBtn","filledBtn","_createElementVNode","_component_ion_item","lines","_component_ion_text","_hoisted_1","_component_ion_icon","slot","e","open","event","icon","_component_ion_popover","mode","_component_ion_content","ID","_component_ion_spinner","PINCode","length","content","_Fragment","el","key","_component_LayoutBox","_hoisted_2","Back","IonItem","IonPage","Layout","IonText","LayoutBox","IonPopover","IonIcon","IonContent","IonSpinner","loadingDel","loading","computed","$pinia","value","preEntry","el2","slice","ionViewDidEnter","$data","getReserve","methods","operationConverter","router","useRouter","deleteReserve","pencilOutline","documentTextOutline","chevronForwardOutline","trashOutline","ellipsisVertical"],"sourceRoot":""}