"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[8717],{6306:function(e,t,n){n.d(t,{X:function(){return r}});var s=n(6086),a=n(9669),l=n.n(a),o=n(3978);const r=(0,s.Q_)({id:"services",state:()=>({formResponse:null,formResponseError:null,callInspectorResponse:null,callInspectorError:null,servicesResponse:null,servicesResponseError:null,form:[],select:[]}),getters:{setForm:e=>t=>[...e.form,...t]},actions:{async getForms(){console.log("getting forms");try{await l().get("https://aostng.ru/api/?action=getAll&format=json&page=3&limit=20").then((e=>this.formResponse=e.data))}catch(e){this.formResponseError=e}},async services(e){console.log("services");try{await l().post("https://fhd.aostng.ru/vesta_storage/hs/API_STNG/V2/Services",{status:[{CODE:"24",VALUE:"Требуется документ"}],forms:e}).then((e=>this.servicesResponse=e.data))}catch(t){this.servicesResponseError=t}},async callInspector(e,t){try{const n=new o.K;await n.create();const s=await n.get("token"),a=JSON.parse(s).token;await l().post("https://fhd.aostng.ru/vesta_storage/hs/API_STNG/V2/CallInspector",{token:a,LC:e,phone:t}).then((e=>this.callInspectorResponse=e.data))}catch(n){this.callInspectorError=n}}}})},2833:function(e,t,n){n.d(t,{Z:function(){return m}});var s=n(6252),a=n(3577);const l=(0,s.Uk)("*");function o(e,t,n,o,r,c){const i=(0,s.up)("ion-text"),u=(0,s.up)("ion-icon");return(0,s.wg)(),(0,s.iD)("div",{class:"choose",onClick:t[0]||(t[0]=(...t)=>e.btnSrc&&e.btnSrc(...t))},[(0,s.Wm)(i,{class:"choose-text"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.name)+" ",1),!0===e.required?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"dot"},{default:(0,s.w5)((()=>[l])),_:1})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(u,{class:"choose-icon",icon:e.caretDownSharp},null,8,["icon"])])}var r=n(8676),c=n(8903),i=n(2119),u=(0,s.aZ)({name:"buttonSelect",props:{name:String,btnSrc:Function,required:Boolean},components:{IonIcon:r.gu,IonText:r.yW},setup(){const e=(0,i.tv)();return{router:e,caretDownSharp:c.D2O}}}),d=n(3744);const p=(0,d.Z)(u,[["render",o],["__scopeId","data-v-793185f2"]]);var m=p},525:function(e,t,n){n.d(t,{Z:function(){return u}});var s=n(6252),a=n(3577);function l(e,t,n,l,o,r){const c=(0,s.up)("ion-checkbox"),i=(0,s.up)("ion-text"),u=(0,s.up)("ion-item");return(0,s.wg)(),(0,s.j4)(u,{class:"check"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{value:e.value,onChange:e.changeHandler,slot:"start"},null,8,["value","onChange"]),(0,s.Wm)(i,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.name),1)])),_:1})])),_:1})}var o=n(8676),r=(0,s.aZ)({components:{IonText:o.yW,IonItem:o.Ie,IonCheckbox:o.nz},setup(){},methods:{onFocusText:function(){console.log("focus"),this.$refs.text.focus()}},data(){return{}},name:"inputCheckBoxView",props:{value:String,changeHandler:Function,name:String}}),c=n(3744);const i=(0,c.Z)(r,[["render",l],["__scopeId","data-v-9fb2b550"]]);var u=i},652:function(e,t,n){n.d(t,{Z:function(){return c}});var s=n(6252);function a(e,t,n,a,l,o){return(0,s.wg)(),(0,s.iD)("div",{class:"main",onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[(0,s.WI)(e.$slots,"content",{},void 0,!0)])}var l=(0,s.aZ)({setup(){},name:"layoutBox",components:{},props:{btnSrc:String,filledButton:String,title:String,height:String,onClick:Function}}),o=n(3744);const r=(0,o.Z)(l,[["render",a],["__scopeId","data-v-3d91200c"]]);var c=r},8717:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var s=n(6252),a=n(9963),l=n(3577);const o=e=>((0,s.dD)("data-v-4f6886f9"),e=e(),(0,s.Cn)(),e),r=o((()=>(0,s._)("p",{class:"text-20-600"},"Общие сведения заявления",-1))),c=o((()=>(0,s._)("p",{class:"title ion-text-start"},"Данные заявителя",-1))),i=(0,s.Uk)("*"),u=(0,s.Uk)(" - обязательное поле для заполнения. "),d={class:"input-wrapper"},p=["type","onUpdate:modelValue"],m=(0,s.Uk)("*"),f=o((()=>(0,s._)("p",{class:"title ion-text-start"},"Данные паспорта",-1))),v=(0,s.Uk)("*"),h=(0,s.Uk)(" - обязательное поле для заполнения. "),_={class:"input-wrapper"},S=["type","onUpdate:modelValue"],g=(0,s.Uk)("*"),w=o((()=>(0,s._)("p",{class:"title ion-text-start"},"Данные об объекте газификации",-1))),A=(0,s.Uk)("*"),E=(0,s.Uk)(" - обязательное поле для заполнения. "),U=o((()=>(0,s._)("p",{class:"sub-title"}," Наименование объекта капитального строительства ",-1))),k={class:"sub-title"},x=(0,s.Uk)(" Адрес обьекта "),y=(0,s.Uk)("*"),R={class:"sub-title"},W=(0,s.Uk)(" Подключение в случаях (выбрать один из следующих вариантов) "),I=(0,s.Uk)("*"),C={class:"sub-title"},T=(0,s.Uk)(" Характер потребления газа "),b=(0,s.Uk)("*"),L={class:"sub-title"},H=(0,s.Uk)(" Сроки проектирования, строительства и ввода в эксплуатацию объекта капитального строительства (в том числе по этапам и очередям) "),$=(0,s.Uk)("*");function q(e,t,n,o,q,D){const N=(0,s.up)("Back"),V=(0,s.up)("ion-text"),Z=(0,s.up)("LayoutBox"),P=(0,s.up)("InputCheckbox"),B=(0,s.up)("Input"),G=(0,s.up)("ButtonSelect"),O=(0,s.up)("Layout"),F=(0,s.up)("ion-page");return(0,s.wg)(),(0,s.j4)(F,null,{default:(0,s.w5)((()=>[(0,s.Wm)(N,{btnSrc:()=>e.router.push("/tabs/services")},null,8,["btnSrc"]),(0,s.Wm)(O,{btnSrc:"/tabs/servicesTechAllianceChoose",method:e.storageHandler,height:"false",filledBtn:"Далее",outlineBtn:".",title:"Онлайн-заявка на технологическое подключение"},{"header-content":(0,s.w5)((()=>[(0,s.Wm)(V,null,{default:(0,s.w5)((()=>[r])),_:1})])),"main-content":(0,s.w5)((()=>[(0,s.Wm)(V,null,{default:(0,s.w5)((()=>[c,(0,s._)("p",null,[(0,s.Wm)(V,{class:"dot"},{default:(0,s.w5)((()=>[i])),_:1}),u]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.formUser,((t,n)=>((0,s.wg)(),(0,s.iD)("div",{key:t},[(0,s._)("div",d,[(0,s.wy)((0,s._)("input",{ref_for:!0,ref:"text",type:t.type,class:"input",placeholder:" ","onUpdate:modelValue":e=>t.value=e},null,8,p),[[a.YZ,t.value]]),(0,s.Wm)(V,{class:"input-text",onClick:t=>e.onFocusText(n)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(t.name),1),t.required?((0,s.wg)(),(0,s.j4)(V,{key:0,class:"dot"},{default:(0,s.w5)((()=>[m])),_:1})):(0,s.kq)("",!0)])),_:2},1032,["onClick"])])])))),128))])),_:1})])),content:(0,s.w5)((()=>[(0,s.Wm)(Z,null,{content:(0,s.w5)((()=>[(0,s.Wm)(V,null,{default:(0,s.w5)((()=>[f,(0,s._)("p",null,[(0,s.Wm)(V,{class:"dot"},{default:(0,s.w5)((()=>[v])),_:1}),h])])),_:1}),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.formPass,((t,n)=>((0,s.wg)(),(0,s.iD)("div",{key:t},[(0,s._)("div",_,[(0,s.wy)((0,s._)("input",{ref_for:!0,ref:"text2",type:t.type,class:"input",placeholder:" ","onUpdate:modelValue":e=>t.value=e},null,8,S),[[a.YZ,t.value]]),(0,s.Wm)(V,{class:"input-text",onClick:t=>e.onFocusText2(n)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(t.name),1),t.required?((0,s.wg)(),(0,s.j4)(V,{key:0,class:"dot"},{default:(0,s.w5)((()=>[g])),_:1})):(0,s.kq)("",!0)])),_:2},1032,["onClick"])])])))),128))])),_:1}),(0,s.Wm)(Z,null,{content:(0,s.w5)((()=>[(0,s.Wm)(V,null,{default:(0,s.w5)((()=>[w,(0,s._)("p",null,[(0,s.Wm)(V,{class:"dot"},{default:(0,s.w5)((()=>[A])),_:1}),E]),U])),_:1}),(0,s.Wm)(P,{name:"Жилой дом"}),(0,s.Wm)(P,{name:"Гараж"}),(0,s.Wm)(P,{name:"Баня"}),(0,s.Wm)(P,{name:"Другое"}),(0,s.Wm)(V,null,{default:(0,s.w5)((()=>[(0,s._)("p",k,[x,(0,s.Wm)(V,{class:"dot"},{default:(0,s.w5)((()=>[y])),_:1})])])),_:1}),(0,s.Wm)(B,{value:e.address,changeHandler:e.changeAddress,name:"Введите данные "},null,8,["value","changeHandler"]),(0,s.Wm)(V,null,{default:(0,s.w5)((()=>[(0,s._)("p",R,[W,(0,s.Wm)(V,{class:"dot"},{default:(0,s.w5)((()=>[I])),_:1})])])),_:1}),(0,s.Wm)(G,{btnSrc:()=>e.router.push({name:"servicesTechAllianceSelect",params:{connection:!0}}),name:"Выберите вариант"},null,8,["btnSrc"]),(0,s.Wm)(V,null,{default:(0,s.w5)((()=>[(0,s._)("p",C,[T,(0,s.Wm)(V,{class:"dot"},{default:(0,s.w5)((()=>[b])),_:1})])])),_:1}),(0,s.Wm)(G,{btnSrc:()=>e.router.push({name:"servicesTechAllianceSelect",params:{connection:!1}}),name:"Выберите вариант"},null,8,["btnSrc"]),(0,s.Wm)(V,null,{default:(0,s.w5)((()=>[(0,s._)("p",L,[H,(0,s.Wm)(V,{class:"dot"},{default:(0,s.w5)((()=>[$])),_:1})])])),_:1}),(0,s.Wm)(B,{value:e.deadlines,changeHandler:e.changeDeadlines,name:"Введите данные"},null,8,["value","changeHandler"])])),_:1})])),_:1},8,["method"])])),_:1})}var D=n(2119),N=n(1839),V=n(8676),Z=n(4611),P=n(652),B=n(4043),G=n(525),O=n(2833),F=n(6086),M=n(6306),K=n(3978),j=(0,s.aZ)({name:"servicesTechAlliance",components:{IonPage:V._i,Layout:N.Z,InputCheckbox:G.Z,IonText:V.yW,Input:Z.Z,Back:B.Z,ButtonSelect:O.Z,LayoutBox:P.Z},computed:{test(){return this.$pinia.state.value?.services?.formResponse?.result?.forms.filter((e=>"Услуга технологического присоединения для физических лиц"===e.SERVICE.VALUE))}},methods:{...(0,F.nv)(M.X,["getForms"]),async storageHandler(){const e=new K.K;await e.create();let t={};for(let a=0;a<this.$data.formPass.length;a++){const e=this.$data.formPass[a];t[e.field]={NAME:e.name,VALUE:e.value}}let n={...this.test[0],...t};for(let a=0;a<this.$data.formUser.length;a++){const e=this.$data.formUser[a];n[e.field]={NAME:e.name,VALUE:e.value}}let s={...n,GAS_ADDRESS:{NAME:"Адрес объекта",VALUE:this.$data.address},GAS__SROK:{NAME:"Сроки проектирования, строительства и ввода в эксплуатацию объекта капитального строительства (в том числе по этапам и очередям)*",VALUE:this.$data.deadlines},GAS_SLUCHI:{NAME:"Подключение в случаях (выбрать один из следующих вариантов)",VALUE:this.$pinia.state.value?.services?.select[0]?.GAS_SLUCHI?this.$pinia.state.value?.services?.select[0]?.GAS_SLUCHI.VALUE:this.$pinia.state.value?.services?.select[1]?.GAS_SLUCHI?.VALUE},GAS_HARAKTER:{NAME:"Характер потребления газа",VALUE:this.$pinia.state.value?.services?.select[0]?.GAS_HARAKTER?this.$pinia.state.value?.services?.select[0]?.GAS_HARAKTER?.VALUE:this.$pinia.state.value?.services?.select[1]?.GAS_HARAKTER?.VALUE}};this.$pinia.state.value?.services?.form&&this.$pinia.state.value?.services?.form?.push(s),console.log("tessss",s,this.$pinia.state.value?.services?.select),await e.set("servicesTechAlliance",JSON.stringify(s))},onFocusText(e){this.$refs.text[e].focus()},onFocusText2(e){this.$refs.text2[e].focus()},changeDeadlines(e){this.$data.deadlines=e.target.value},changeAddress(e){this.$data.address=e.target.value}},mounted(){this.getForms();const e=async()=>{const e=new K.K;await e.create();const t=await e.get("servicesTechAlliance");console.log(JSON.parse(t),"servicesTechAlliance")};console.log(this.form,"choosetest"),e(),console.log("test",this.test)},data(){return{formGasName:[{name:"Жилой дом",value:"Жилой дом"},{name:"Гараж",value:"Гараж"},{name:"Баня",value:"Баня"},{name:"Другое",value:"Другое"}],address:"",deadlines:"",formPass:[{field:"USER_PASSPORT_SERIAL",name:"Серия паспорта",type:"text",required:!0,value:""},{field:"USER_PASSPORT_NUM",type:"text",name:"Номер паспорта",required:!0,value:""},{field:"USER_PASS_WHO",name:"Кем выдан",type:"text",required:!0,value:""},{field:"USER_PASS_DATE",name:"Дата выдачи паспорта",type:"text",required:!0,value:""},{field:"USER_REGION",name:"Место регистрации",type:"text",required:!0,value:""}],formUser:[{field:"USER_NAME",name:"Имя",type:"text",required:!0,value:""},{field:"USER_LAST_NAME",name:"Фамилия",type:"text",required:!0,value:""},{field:"USER_SECOND_NAME",name:"Отчество",type:"text",required:!0,value:""},{field:"USER_BIRTHDATE",name:"Дата рождения",type:"text",required:!0,value:""},{field:"USER_BIRTHPLACE",name:"Место рождения",type:"text",required:!0,value:""},{field:"USER_ADDRESS",name:"Место жительства",type:"text",required:!0,value:""},{field:"USER_PHONE",name:"Контактный телефон",type:"text",required:!0,value:""},{field:"USER_PHONE_2",name:"Дополнительный контактный номер",type:"text",required:!1,value:""},{field:"USER_EMAIL",name:"E-mail",type:"text",required:!0,value:""}]}},setup(){const e=(0,D.tv)();return{router:e}}}),z=n(3744);const Y=(0,z.Z)(j,[["render",q],["__scopeId","data-v-4f6886f9"]]);var J=Y}}]);
//# sourceMappingURL=8717.d479b5ee.js.map