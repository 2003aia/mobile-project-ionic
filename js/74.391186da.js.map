{"version":3,"file":"js/74.391186da.js","mappings":"yPAUYA,EAAAA,EAAAA,GAA0C,KAAvCC,MAAA,gBAAoB,mBAAe,K,GAO/BC,MAAM,a,GAGNA,MAAM,Q,GAENA,MAAM,e,uLArBvBC,EAAAA,EAAAA,IA+BWC,EAAAA,KAAAA,C,kBA9BT,IAAQ,EAARC,EAAAA,EAAAA,IAAQC,IACRD,EAAAA,EAAAA,IA4BSE,EAAAA,CA5BDC,OAAO,eAAeC,OAAO,QAAQC,WAAW,IAAIC,UAAU,IAAIC,MAAM,e,CAC7D,gBAAY,SAC3B,IAEW,WAFXP,EAAAA,EAAAA,IAEWQ,EAAAA,KAAAA,C,kBADT,IAA0C,EAA1CR,EAAAA,EAAAA,IAA0CS,EAAAA,CAA7BC,KAAK,e,iBADFC,EAAAA,YAAO,SAGzBX,EAAAA,EAAAA,IAIWQ,EAAAA,CAJ8BI,MAAM,QAAM,C,kBACnD,IAEW,EAFXZ,EAAAA,EAAAA,IAEWa,EAAAA,CAFDjB,MAAA,eAAoBC,MAAM,mB,mBAClC,IAA0C,CAA1CiB,K,0BAFkC,IAApBH,EAAAA,SAASI,YAAM,aAKjCC,EAAAA,EAAAA,IAgBMC,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IAhB8BN,EAAAA,UAANO,I,qBAA9BF,EAAAA,EAAAA,IAgBM,OAhByCG,IAAKD,GAAE,EACpDlB,EAAAA,EAAAA,IAcWQ,EAAAA,CAdAY,QAAK,GAAET,EAAAA,SAASO,GAAIG,O,mBAC7B,IAYM,EAZN1B,EAAAA,EAAAA,GAYM,aAXJK,EAAAA,EAAAA,IAKWa,EAAAA,KAAAA,C,kBAJT,IAEI,EAFJlB,EAAAA,EAAAA,GAEI,IAFJ2B,GAEI,QADCJ,EAAGX,OAAK,IAEbZ,EAAAA,EAAAA,GAAiC,IAAjC4B,GAAiC,QAAdL,EAAGM,MAAI,M,YAE5B7B,EAAAA,EAAAA,GAIM,MAJN8B,EAIM,EAHJzB,EAAAA,EAAAA,IAEWa,EAAAA,CAFDhB,MAAM,QAAM,C,kBACpB,IAAmD,mBAAhDc,EAAAA,OAAOO,EAAGQ,MAAMC,OAAO,wBAAD,M,oDAXrBhB,EAAAA,a,kHAmCtB,GAAeiB,EAAAA,EAAAA,IAAgB,CAC7BlB,KAAM,oBACNmB,WAAY,CACVC,QAAO,KACPC,OAAM,IACNC,KAAI,IACJC,QAAO,KACPC,QAAO,KACPC,WAAUA,EAAAA,IAEZC,QAAS,KACJC,EAAAA,EAAAA,IAAWC,EAAAA,EAAiB,CAAC,YAChCC,SAASlB,GACc,IAAjBA,GAAMN,SACRyB,SAASC,SAASC,KAAOrB,EAE7B,GAEFsB,SAAU,CACRC,WACE,OAAOC,KAAKC,OAAOC,MAAMC,OAAOC,SAASC,cAAcC,KAAON,KAAKC,OAAOC,MAAMC,OAAOC,SAASC,cAAcC,KAAO,EACvH,GAEFC,kBACEP,KAAKQ,MAAMC,SAAU,EACrBT,KAAKU,UAAUC,MAAKC,UAClBZ,KAAKQ,MAAMC,SAAU,EACrB,MAAMI,EAAQ,IAAIC,EAAAA,QACZD,EAAME,QAAO,GAGvB,EACAT,OACE,MAAO,CACLG,SAAS,EAEb,EACAO,QACE,MAAMC,GAASC,EAAAA,EAAAA,MACf,MAAO,CAAED,SAAQE,OAAMA,IACzB,I,UCjFF,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://stng/./src/views/Notifications.vue","webpack://stng/./src/views/Notifications.vue?42d9"],"sourcesContent":["<template>\r\n  <ion-page>\r\n    <Back />\r\n    <Layout btnSrc=\"/registrPage\" height=\"false\" outlineBtn=\".\" filledBtn=\".\" title=\"Уведомления\">\r\n      <template v-slot:main-content>\r\n        <ion-item v-show=\"loading\">\r\n          <ion-spinner name=\"bubbles\"></ion-spinner>\r\n        </ion-item>\r\n        <ion-item v-show=\"pushList.length === 0\" lines=\"none\">\r\n          <ion-text style=\"width: 100%\" class=\"ion-text-center\">\r\n            <p style=\"width: 100%\">Уведомлений нет</p>\r\n          </ion-text>\r\n        </ion-item>\r\n        <div v-show=\"!loading\" v-for=\"el in pushList\" :key=\"el\">\r\n          <ion-item @click=\"openLink(el?.link)\">\r\n            <div>\r\n              <ion-text>\r\n                <p class=\"sub-title\">\r\n                  {{ el.title }}\r\n                </p>\r\n                <p class=\"text\">{{ el.body }}</p>\r\n              </ion-text>\r\n              <div class=\"footer-item\">\r\n                <ion-text class=\"text\">\r\n                  {{ moment(el.date).format('yyyy.MM.DD HH:MM:SS') }}\r\n                </ion-text>\r\n              </div>\r\n            </div>\r\n          </ion-item>\r\n        </div>\r\n      </template>\r\n    </Layout>\r\n  </ion-page>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Layout from \"../components/Layout.vue\";\r\nimport { IonPage, IonText, IonItem, IonSpinner, } from \"@ionic/vue\";\r\nimport Back from \"../components/Back.vue\";\r\nimport { mapActions } from \"pinia\";\r\nimport { useProfileStore } from '../stores/profile'\r\nimport moment from 'moment'\r\nimport { Storage } from \"@ionic/storage\";\r\n\r\n\r\nexport default defineComponent({\r\n  name: \"notificationsPage\",\r\n  components: {\r\n    IonPage,\r\n    Layout,\r\n    Back,\r\n    IonItem,\r\n    IonText,\r\n    IonSpinner,\r\n  },\r\n  methods: {\r\n    ...mapActions(useProfileStore, [\"getPush\"]),\r\n    openLink(link) {\r\n      if (link?.length !== 0) {\r\n        document.location.href = link\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    pushList() {\r\n      return this.$pinia.state.value?.profile?.pushResponse?.data ? this.$pinia.state.value?.profile?.pushResponse?.data : []\r\n    }\r\n  },\r\n  ionViewDidEnter() {\r\n    this.$data.loading = true\r\n    this.getPush().then(async () => {\r\n      this.$data.loading = false\r\n      const store = new Storage()\r\n      await store.create()\r\n      // await store.set('notifications', JSON.stringify(this.pushList))\r\n    })\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n    };\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n    return { router, moment };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.time {\r\n  margin-left: 20px;\r\n}\r\n\r\n.text {\r\n  margin-bottom: 5px;\r\n  margin-top: 0px;\r\n}\r\n\r\nion-item {\r\n  --padding-start: 0;\r\n  --inner-padding-end: 0;\r\n}\r\n\r\n.sub-title {\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.footer-item {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n</style>","import { render } from \"./Notifications.vue?vue&type=template&id=8fd23362&scoped=true\"\nimport script from \"./Notifications.vue?vue&type=script&lang=js\"\nexport * from \"./Notifications.vue?vue&type=script&lang=js\"\n\nimport \"./Notifications.vue?vue&type=style&index=0&id=8fd23362&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\aia\\\\Desktop\\\\STNG-MOBILE\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8fd23362\"]])\n\nexport default __exports__"],"names":["_createElementVNode","style","class","_createBlock","_component_ion_page","_createVNode","_component_Back","_component_Layout","btnSrc","height","outlineBtn","filledBtn","title","_component_ion_item","_component_ion_spinner","name","_ctx","lines","_component_ion_text","_hoisted_1","length","_createElementBlock","_Fragment","el","key","onClick","link","_hoisted_2","_hoisted_3","body","_hoisted_4","date","format","defineComponent","components","IonPage","Layout","Back","IonItem","IonText","IonSpinner","methods","mapActions","useProfileStore","openLink","document","location","href","computed","pushList","this","$pinia","state","value","profile","pushResponse","data","ionViewDidEnter","$data","loading","getPush","then","async","store","Storage","create","setup","router","useRouter","moment","__exports__","render"],"sourceRoot":""}