{"version":3,"file":"js/1634.d60e3d6a.js","mappings":"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","sources":["webpack://test/./src/stores/preEntry.js","webpack://test/./src/views/RecordSelect.vue","webpack://test/./src/views/RecordSelect.vue?e9ba"],"sourcesContent":["import { defineStore } from \"pinia\";\r\nimport axios from \"axios\";\r\nimport { isPlatform } from \"@ionic/vue\";\r\n\r\nexport const usePreEntryStore = defineStore({\r\n  id: \"preEntry\",\r\n  state: () => ({\r\n    entryPhone: \"\",\r\n    entryServiceType: \"\",\r\n    entryDate: null,\r\n    entryAvailableTimes: [],\r\n    entryTime: null,\r\n  }),\r\n  getters: {\r\n    getEntryInfo: (state) => {\r\n      return {\r\n        entryPhone: state.entryPhone,\r\n        entryServiceType: state.entryServiceType,\r\n        entryDate: state.entryDate,\r\n        entryAvailableTimes: state.entryAvailableTimes,\r\n        entryTime: state.entryTime,\r\n      };\r\n    },\r\n  },\r\n  actions: {\r\n    async setPhone(phone) {\r\n      this.entryPhone = phone;\r\n    },\r\n    async setServiceType(type) {\r\n      this.entryServiceType = type;\r\n    },\r\n    async setDate(date) {\r\n      this.entryDate = date;\r\n    },\r\n    async setTime(time) {\r\n      this.entryTime = time;\r\n    },\r\n    async fetchTime() {\r\n      if (this.entryDate && this.entryServiceType != \"\") {\r\n        try {\r\n          let config = {\r\n            headers: {\r\n              Accept: \"*/*\",\r\n              \"Content-Type\": \"multipart/form-data\",\r\n            },\r\n          };\r\n\r\n          let device = \"android\";\r\n          if (isPlatform(\"iphone\")) {\r\n            device = \"iphone\";\r\n          }\r\n\r\n          var bodyFormData = new FormData();\r\n          bodyFormData.append(\"date\", this.entryDate);\r\n          bodyFormData.append(\"service\", this.entryServiceType);\r\n          bodyFormData.append(\"ionicDevice\", device);\r\n\r\n          const response = await axios.post(\r\n            `https://aostng.ru/ajax/preregajax.php`,\r\n            bodyFormData,\r\n            config\r\n          );\r\n\r\n          let values = [];\r\n          // Get values between <option value=\"##:##:##\"> and </option>\r\n          const re = />([^<.]+)<\\//g;\r\n          let match = re.exec(response.data);\r\n          while (match != null) {\r\n            values.push(match[1]);\r\n            match = re.exec(response.data);\r\n          }\r\n\r\n          this.entryTime = null;\r\n          this.entryAvailableTimes = values;\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    },\r\n\r\n    async sendFullInfo(phone, type, date, time) {\r\n      console.log(phone, type, date, time);\r\n      try {\r\n        let config = {\r\n          headers: {\r\n            Accept: \"*/*\",\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n        };\r\n        let device = \"android\";\r\n        if (isPlatform(\"iphone\")) {\r\n          device = \"iphone\";\r\n        }\r\n\r\n        var bodyFormData = new FormData();\r\n        bodyFormData.append(\"number\", phone);\r\n        bodyFormData.append(\"service\", type);\r\n        bodyFormData.append(\"date\", date);\r\n        bodyFormData.append(\"time\", time);\r\n        bodyFormData.append(\"ionicDevice\", device);\r\n\r\n        await axios.post(`https://aostng.ru/prereg2.php`, bodyFormData, config);\r\n        return true;\r\n      } catch (error) {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    async resetPreEntry() {\r\n      this.entryPhone = \"\";\r\n      this.entryServiceType = \"\";\r\n      this.entryDate = null;\r\n      this.entryAvailableTimes = [];\r\n      this.entryTime = null;\r\n    },\r\n  },\r\n});\r\n","<template>\r\n  <ion-page>\r\n    <Back title=\"Назад\" />\r\n    <Layout outlineBtn=\".\" filledBtn=\".\" title=\"Вид услуг\">\r\n      <template v-slot:main-content>\r\n        <ion-text class=\"title\">Выберите варианты</ion-text>\r\n        <ion-list>\r\n          <ion-item\r\n            router-link=\"/tabs/record\"\r\n            @click=\"selectServiceType('Q01')\"\r\n          >\r\n            <ion-text class=\"sub-title\">Прием документов </ion-text>\r\n          </ion-item>\r\n          <ion-item\r\n            router-link=\"/tabs/record\"\r\n            @click=\"selectServiceType('Q03')\"\r\n          >\r\n            <ion-text class=\"sub-title\"\r\n              >Заключение договора на поставку газа (квартира)</ion-text\r\n            >\r\n          </ion-item>\r\n          <ion-item\r\n            router-link=\"/tabs/record\"\r\n            @click=\"selectServiceType('Q06')\"\r\n          >\r\n            <ion-text class=\"sub-title\">Социальная газификация </ion-text>\r\n          </ion-item>\r\n        </ion-list>\r\n      </template>\r\n    </Layout>\r\n  </ion-page>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Layout from \"../components/Layout.vue\";\r\nimport { IonPage, IonText, IonList, IonItem } from \"@ionic/vue\";\r\nimport Back from \"../components/Back.vue\";\r\nimport { usePreEntryStore } from \"../stores/preEntry\";\r\n\r\nexport default defineComponent({\r\n  name: \"recordSelectPage\",\r\n  components: {\r\n    IonPage,\r\n    IonList,\r\n    Layout,\r\n    IonItem,\r\n    Back,\r\n    IonText,\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n    const { setServiceType, fetchTime } = usePreEntryStore();\r\n    return { router, setServiceType, fetchTime };\r\n  },\r\n  methods: {\r\n    selectServiceType(type) {\r\n      this.setServiceType(type);\r\n      this.fetchTime();\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\nion-item {\r\n  --padding-start: 0;\r\n  --inner-padding-bottom: 10px;\r\n  --inner-padding-end: 0;\r\n  --inner-padding-top: 20px;\r\n}\r\n</style>\r\n","import { render } from \"./RecordSelect.vue?vue&type=template&id=be8c4e74&scoped=true\"\nimport script from \"./RecordSelect.vue?vue&type=script&lang=js\"\nexport * from \"./RecordSelect.vue?vue&type=script&lang=js\"\n\nimport \"./RecordSelect.vue?vue&type=style&index=0&id=be8c4e74&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Downloads\\\\mobile-project-ionic\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-be8c4e74\"]])\n\nexport default __exports__"],"names":["usePreEntryStore","defineStore","id","state","entryPhone","entryServiceType","entryDate","entryAvailableTimes","entryTime","getters","getEntryInfo","actions","async","phone","this","type","date","time","config","headers","Accept","device","isPlatform","bodyFormData","FormData","append","response","axios","values","re","match","exec","data","push","error","console","log","_createBlock","_component_ion_page","_createVNode","_component_Back","title","_component_Layout","outlineBtn","filledBtn","_withCtx","_component_ion_text","class","_component_ion_list","_component_ion_item","onClick","_ctx","defineComponent","name","components","IonPage","IonList","Layout","IonItem","Back","IonText","setup","router","useRouter","setServiceType","fetchTime","methods","selectServiceType","__exports__","render"],"sourceRoot":""}