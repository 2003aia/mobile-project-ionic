"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[5423],{2833:function(e,t,a){a.d(t,{Z:function(){return v}});var l=a(6252),s=a(3577);const n=(0,l.Uk)("*");function r(e,t,a,r,d,u){const i=(0,l.up)("ion-text"),o=(0,l.up)("ion-icon");return(0,l.wg)(),(0,l.iD)("div",{class:"choose",onClick:t[0]||(t[0]=(...t)=>e.btnSrc&&e.btnSrc(...t))},[(0,l.Wm)(i,{class:"choose-text"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.name)+" ",1),!0===e.required?((0,l.wg)(),(0,l.j4)(i,{key:0,class:"dot"},{default:(0,l.w5)((()=>[n])),_:1})):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(o,{class:"choose-icon",icon:e.caretDownSharp},null,8,["icon"])])}var d=a(5859),u=a(8903),i=a(2119),o=(0,l.aZ)({name:"buttonSelect",props:{name:String,btnSrc:Function,required:Boolean},components:{IonIcon:d.gu,IonText:d.yW},setup(){const e=(0,i.tv)();return{router:e,caretDownSharp:u.D2O}}}),c=a(3744);const m=(0,c.Z)(o,[["render",r],["__scopeId","data-v-793185f2"]]);var v=m},5098:function(e,t,a){a.r(t),a.d(t,{default:function(){return re}});var l=a(6252),s=a(3577),n=a(9963);const r=e=>((0,l.dD)("data-v-0fd4ac54"),e=e(),(0,l.Cn)(),e),d=r((()=>(0,l._)("p",{class:"text-20-600"},"Общие сведения заявления",-1))),u=r((()=>(0,l._)("p",{class:"title ion-text-start"},"Данные заявителя",-1))),i=(0,l.Uk)("*"),o=(0,l.Uk)(" - обязательное поле для заполнения. "),c={slot:"content"},m=(0,l.Uk)("Не найдено"),v=r((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1))),f=r((()=>(0,l._)("p",{class:"title ion-text-start"},"Данные паспорта",-1))),_=(0,l.Uk)("*"),h=(0,l.Uk)(" - обязательное поле для заполнения. "),A={slot:"content"},w=(0,l.Uk)("Не найдено"),E=r((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1))),S=r((()=>(0,l._)("p",{class:"title ion-text-start"},"Данные об объекте газификации",-1))),p=(0,l.Uk)("*"),U=(0,l.Uk)(" - обязательное поле для заполнения. "),g=r((()=>(0,l._)("p",{class:"sub-title"}," Наименование объекта капитального строительства ",-1))),k=["value"],y=r((()=>(0,l._)("p",{class:"error"},"Выберите вариант",-1))),R={class:"sub-title"},W=(0,l.Uk)(" Адрес обьекта "),L=(0,l.Uk)("*"),H={slot:"content"},D=(0,l.Uk)("Не найдено"),I=r((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1))),$={class:"sub-title"},T=(0,l.Uk)(" Подключение в случаях (выбрать один из следующих вариантов) "),C=(0,l.Uk)("*"),q={class:"sub-title"},x=(0,l.Uk)(" Характер потребления газа "),N=(0,l.Uk)("*"),b=r((()=>(0,l._)("p",{class:"error"},"Выберите вариант",-1))),G={class:"sub-title"},V=(0,l.Uk)(" Сроки проектирования, строительства и ввода в эксплуатацию объекта капитального строительства (в том числе по этапам и очередям) "),M=(0,l.Uk)("*"),F=r((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1)));function P(e,t,a,r,P,O){const K=(0,l.up)("Back"),B=(0,l.up)("ion-text"),Q=(0,l.up)("Input"),Y=(0,l.up)("ion-item"),Z=(0,l.up)("ion-accordion"),z=(0,l.up)("ion-accordion-group"),j=(0,l.up)("LayoutBox"),J=(0,l.up)("ButtonSelect"),X=(0,l.up)("Layout"),ee=(0,l.up)("ion-page");return(0,l.wg)(),(0,l.j4)(ee,null,{default:(0,l.w5)((()=>[(0,l.Wm)(K,{btnSrc:()=>e.router.push("/tabs/services")},null,8,["btnSrc"]),(0,l.Wm)(X,{method:e.storageHandler,height:"false",filledBtn:"Далее",outlineBtn:".",title:"Онлайн-заявка на технологическое подключение"},{"header-content":(0,l.w5)((()=>[(0,l.Wm)(B,null,{default:(0,l.w5)((()=>[d])),_:1})])),"main-content":(0,l.w5)((()=>[(0,l.Wm)(B,null,{default:(0,l.w5)((()=>[u,(0,l._)("p",null,[(0,l.Wm)(B,{class:"dot"},{default:(0,l.w5)((()=>[i])),_:1}),o])])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.formUser,((t,a)=>((0,l.wg)(),(0,l.iD)("div",{key:t},[(0,l.Wm)(z,{ref_for:!0,ref:"addressQuery"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{value:"first"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{mask:t.mask,slot:"header",value:t.value,name:t.name,required:t.required,onInput:a=>{t.value=a.target.value,e.addressQueryHandler(a,t.field)}},null,8,["mask","value","name","required","onInput"]),(0,l.wy)((0,l._)("div",c,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.addressList,(r=>(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",{key:r},[(0,l.Wm)(Y,{button:"",onClick:()=>{this.$refs.addressQuery[a].$el.value=void 0,t.value=r.value},lines:e.addressList[e.addressList.length-1]?.value===r.value?"none":"full"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(r.value),1)])),_:2},1024)])),_:2},1032,["onClick","lines"])])),[[n.F8,"USER_BIRTHPLACE"===t.field||t.value]]))),128)),(0,l.wy)((0,l.Wm)(Y,{lines:"none"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,null,{default:(0,l.w5)((()=>[m])),_:1})])),_:1},512),[[n.F8,0===e.addressList?.length]])],512),[[n.F8,"USER_BIRTHPLACE"===t.field||"USER_ADDRESS"===t.field&&t.value]])])),_:2},1024)])),_:2},1536),(0,l.wy)((0,l.Wm)(B,null,{default:(0,l.w5)((()=>[v])),_:2},1536),[[n.F8,0===t.value.length&&t.error]])])))),128))])),content:(0,l.w5)((()=>[(0,l.Wm)(j,null,{content:(0,l.w5)((()=>[(0,l.Wm)(B,null,{default:(0,l.w5)((()=>[f,(0,l._)("p",null,[(0,l.Wm)(B,{class:"dot"},{default:(0,l.w5)((()=>[_])),_:1}),h])])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.formPass,((t,a)=>((0,l.wg)(),(0,l.iD)("div",{key:t},[(0,l.Wm)(z,{ref_for:!0,ref:"addressQuery2"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{mask:t.mask,slot:"header",value:t.value,name:t.name,required:t.required,onInput:a=>{t.value=a.target.value,e.addressQueryHandler(a,t.field)}},null,8,["mask","value","name","required","onInput"]),(0,l.wy)((0,l._)("div",A,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.addressList,(r=>(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",{key:r},[(0,l.Wm)(Y,{button:"",onClick:()=>{this.$refs.addressQuery2[a].$el.value=void 0,t.value=r.value},lines:e.addressList[e.addressList.length-1]?.value===r.value?"none":"full"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(r.value),1)])),_:2},1024)])),_:2},1032,["onClick","lines"])])),[[n.F8,"USER_REGION"===t.field&&t.value]]))),128)),(0,l.wy)((0,l.Wm)(Y,{lines:"none"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,null,{default:(0,l.w5)((()=>[w])),_:1})])),_:1},512),[[n.F8,0===e.addressList?.length]])],512),[[n.F8,"USER_REGION"===t.field&&t.value]])])),_:2},1024)])),_:2},1536),(0,l.wy)((0,l.Wm)(B,null,{default:(0,l.w5)((()=>[E])),_:2},1536),[[n.F8,0===t.value.length&&t.error]])])))),128))])),_:1}),(0,l.Wm)(j,null,{content:(0,l.w5)((()=>[(0,l.Wm)(B,null,{default:(0,l.w5)((()=>[S,(0,l._)("p",null,[(0,l.Wm)(B,{class:"dot"},{default:(0,l.w5)((()=>[p])),_:1}),U]),g])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.formGasName,(a=>((0,l.wg)(),(0,l.iD)("div",{key:a},[(0,l.Wm)(Y,{class:"check"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("input",{onClick:t[0]||(t[0]=t=>{e.uniqueCheck(t)}),value:a.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.gasHome=t),onChange:t[2]||(t[2]=(...t)=>e.uniqueCheck&&e.uniqueCheck(...t)),class:"check2",type:"checkbox",slot:"start"},null,40,k),[[n.e8,e.gasHome]]),(0,l.Uk)(" "+(0,s.zw)(a.name),1)])),_:2},1024)])))),128)),(0,l.wy)((0,l.Wm)(B,null,{default:(0,l.w5)((()=>[y])),_:1},512),[[n.F8,!0===e.gasHome?.error]]),(0,l.Wm)(B,null,{default:(0,l.w5)((()=>[(0,l._)("p",R,[W,(0,l.Wm)(B,{class:"dot"},{default:(0,l.w5)((()=>[L])),_:1})])])),_:1}),(0,l.Wm)(z,{ref:"addressQuery3"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{value:"first"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{slot:"header",onInput:t[3]||(t[3]=t=>{e.addressQueryHandler(t,"GAS_ADDRESS"),e.changeAddress(t)}),value:e.address,name:"Введите данные "},null,8,["value"]),(0,l.wy)((0,l._)("div",H,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.addressList,(t=>(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",{key:t},[(0,l.Wm)(Y,{button:"",onClick:()=>{this.$refs.addressQuery3.$el.value=void 0,e.address=t.value},lines:e.addressList[e.addressList.length-1]?.value===t.value?"none":"full"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.value),1)])),_:2},1024)])),_:2},1032,["onClick","lines"])])),[[n.F8,e.address]]))),128)),(0,l.wy)((0,l.Wm)(Y,{lines:"none"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,null,{default:(0,l.w5)((()=>[D])),_:1})])),_:1},512),[[n.F8,0===e.addressList?.length]])],512),[[n.F8,e.address]])])),_:1})])),_:1},512),(0,l.wy)((0,l.Wm)(B,null,{default:(0,l.w5)((()=>[I])),_:1},512),[[n.F8,!0===e.validation.address&&0===e.address.length]]),(0,l.Wm)(B,null,{default:(0,l.w5)((()=>[(0,l._)("p",$,[T,(0,l.Wm)(B,{class:"dot"},{default:(0,l.w5)((()=>[C])),_:1})])])),_:1}),(0,l.Wm)(J,{btnSrc:()=>e.router.push({name:"servicesTechAllianceSelect",params:{connection:!0}}),name:this.select?.GAS_SLUCHI?.VALUE?this.select?.GAS_SLUCHI?.VALUE:"Выберите вариант"},null,8,["btnSrc","name"]),(0,l.Wm)(B,null,{default:(0,l.w5)((()=>[(0,l._)("p",q,[x,(0,l.Wm)(B,{class:"dot"},{default:(0,l.w5)((()=>[N])),_:1})])])),_:1}),(0,l.Wm)(J,{btnSrc:()=>e.router.push({name:"servicesTechAllianceSelect",params:{connection:!1}}),name:this.select?.GAS_HARAKTER?.VALUE?this.select?.GAS_HARAKTER?.VALUE:"Выберите вариант"},null,8,["btnSrc","name"]),(0,l.wy)((0,l.Wm)(B,null,{default:(0,l.w5)((()=>[b])),_:1},512),[[n.F8,!0===e.validation.select&&void 0===this.select?.GAS_HARAKTER?.VALUE&&void 0===this.select?.GAS_SLUCHI?.VALUE]]),(0,l.Wm)(B,null,{default:(0,l.w5)((()=>[(0,l._)("p",G,[V,(0,l.Wm)(B,{class:"dot"},{default:(0,l.w5)((()=>[M])),_:1})])])),_:1}),(0,l.Wm)(Q,{value:e.deadlines,changeHandler:e.changeDeadlines,name:"Введите данные"},null,8,["value","changeHandler"]),(0,l.wy)((0,l.Wm)(B,null,{default:(0,l.w5)((()=>[F])),_:1},512),[[n.F8,!0===e.validation.deadlines&&0===e.deadlines.length]])])),_:1})])),_:1},8,["method"])])),_:1})}var O=a(2119),K=a(1839),B=a(5859),Q=a(387),Y=a(652),Z=a(4043),z=a(2833),j=a(6086),J=a(6306),X=a(3978),ee=a(381),te=a.n(ee),ae=a(2982),le=(0,l.aZ)({name:"servicesTechAlliance",components:{IonPage:B._i,Layout:K.Z,IonText:B.yW,Input:Q.Z,Back:Z.Z,ButtonSelect:z.Z,LayoutBox:Y.Z,IonItem:B.Ie,IonAccordion:B.We,IonAccordionGroup:B.eh},directives:{mask:ae.mask},computed:{addressList(){return this.$pinia.state.value?.services?.addressResponse?.suggestions},formFields(){return this.$pinia.state.value?.services?.formResponse?.result?.forms.filter((e=>"Услуга технологического присоединения для физических лиц"===e.SERVICE.VALUE))},select(){return this.$pinia.state.value?.services?.select}},methods:{...(0,j.nv)(J.X,["getForms","addressQuery"]),addressQueryHandler(e,t){"USER_BIRTHPLACE"===t&&this.addressQuery(e.target.value,t),"USER_ADDRESS"===t&&this.addressQuery(e.target.value,t),"USER_REGION"!==t&&"GAS_ADDRESS"!==t||this.addressQuery(e.target.value,t)},async storageHandler(){const e=new X.K;await e.create();let t={},a=this.$data.formUser.filter((e=>{if(!0===e.required)return e.error=!0,""===e.value})),l=this.$data.formPass.filter((e=>{if(!0===e.required)return e.error=!0,""===e.value})),s=0===this.$data.gasHome.length?this.$data.gasHome={error:!0}:null,n=()=>{0===this.$data.address.length?this.$data.validation.address=!0:this.$data.validation.address=!1,0===this.$data.deadlines.length?this.$data.validation.deadlines=!0:this.$data.validation.deadlines=!1,void 0===this.select?.GAS_SLUCHI?.VALUE&&void 0===this.select?.GAS_HARAKTER?.VALUE?this.$data.validation.select=!0:this.$data.validation.select=!1};if(n(),0===a.length&&0===l.length&&null===s&&Object.keys(this.$data.validation).every((e=>!this.$data.validation[e]))){for(let e=0;e<this.$data.formPass.length;e++){const a=this.$data.formPass[e];t[a.field]={NAME:a.name,VALUE:a.value}}let a={...this.formFields[0],...t};for(let e=0;e<this.$data.formUser.length;e++){const t=this.$data.formUser[e];a[t.field]={NAME:t.name,VALUE:t.value}}let l={...a,DATE_CREATE:{NAME:"Дата создания",VALUE:`${te()().format("DD.MM.YYYY hh:mm:ss")} `},TIMESTAMP_X:{NAME:"Время последнего изменения",VALUE:`${te()().format("DD.MM.YYYY hh:mm:ss")} `},USER:{NAME:"USER",VALUE:"",VALUE_ID:0},GAS_ADDRESS:{NAME:"Адрес объекта",VALUE:this.$data.address},GAS__SROK:{NAME:"Сроки проектирования, строительства и ввода в эксплуатацию объекта капитального строительства (в том числе по этапам и очередям)*",VALUE:this.$data.deadlines},GAS_SLUCHI:{NAME:"Подключение в случаях (выбрать один из следующих вариантов)",VALUE:this.select?.GAS_SLUCHI.VALUE},GAS_HARAKTER:{NAME:"Характер потребления газа",VALUE:this.select?.GAS_HARAKTER.VALUE},GAS_HOME:{NAME:"Наименование объекта капитального строительства",VALUE:this.$data.gasHome[0]}};console.log(l,"test"),this.$pinia.state.value?.services?.form&&(this.$pinia.state.value.services.form=l,await e.set("servicesTechAlliance",JSON.stringify(l))),this.$router.push("/tabs/servicesTechAllianceChoose")}},async uniqueCheck(e){console.log(e.currentTarget.value,"test"),this.$data.gasHome=[],!1===e.currentTarget.checked&&this.$data.gasHome.push(e.currentTarget.value)},changeDeadlines(e){this.$data.deadlines=e.target.value},changeAddress(e){this.$data.address=e.target.value}},mounted(){this.getForms();const e=async()=>{const e=new X.K;await e.create();const t=await e.get("servicesTechAlliance");console.log(JSON.parse(t),"servicesTechAlliance")};e(),console.log("test",this.formFields)},data(){return{validation:{address:!1,deadlines:!1,select:!1},formGasName:[{name:"Жилой дом"},{name:"Гараж"},{name:"Баня"},{name:"Другое"}],address:"",deadlines:"",gasHome:[],formPass:[{field:"USER_PASSPORT_SERIAL",name:"Серия паспорта",mask:"####",type:"text",required:!0,value:""},{field:"USER_PASSPORT_NUM",type:"text",name:"Номер паспорта",mask:"######",required:!0,value:""},{field:"USER_PASS_WHO",name:"Кем выдан",type:"text",required:!0,value:""},{field:"USER_PASS_DATE",mask:"##.##.####",name:"Дата выдачи паспорта",type:"text",required:!0,value:""},{field:"USER_REGION",name:"Место регистрации",type:"text",required:!0,value:""}],formUser:[{field:"USER_NAME",name:"Имя",type:"text",required:!0,value:"",mask:null},{field:"USER_LAST_NAME",mask:null,name:"Фамилия",type:"text",required:!0,value:""},{field:"USER_SECOND_NAME",mask:null,name:"Отчество",type:"text",required:!0,value:""},{field:"USER_BIRTHDATE",mask:"##.##.####",name:"Дата рождения",type:"text",required:!0,value:""},{field:"USER_BIRTHPLACE",mask:null,name:"Место рождения",type:"text",required:!0,value:""},{field:"USER_ADDRESS",mask:null,name:"Место жительства",type:"text",required:!0,value:""},{field:"USER_PHONE",mask:"+7 (###) ###-##-##",name:"Контактный телефон",type:"text",required:!0,value:""},{field:"USER_PHONE_2",mask:null,name:"Дополнительный контактный номер",type:"text",required:!1,value:""},{field:"USER_EMAIL",mask:null,name:"E-mail",type:"email",required:!0,value:""}]}},setup(){const e=(0,O.tv)();return{router:e}}}),se=a(3744);const ne=(0,se.Z)(le,[["render",P],["__scopeId","data-v-0fd4ac54"]]);var re=ne}}]);
//# sourceMappingURL=5423.f9339f0d.js.map