{"version":3,"file":"js/9009.a066236b.js","mappings":"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","sources":["webpack://stng/./src/views/ProfileEdit.vue","webpack://stng/./src/views/ProfileEdit.vue?31db"],"sourcesContent":["<template>\r\n  <ion-page>\r\n    <Back :btnSrc=\"() => router.push('/tabs/profile')\" />\r\n    <Layout height=\"false\" :method=\"editProfileHandler\" :method2=\"\r\n      () => {\r\n        router.push('/tabs/newPassPage');\r\n      }\r\n    \" :loading=\"loading\" :filledBtn=\"'Сохранить'\" title=\"Личный кабинет\" :outlineBtn=\"'Изменить пароль'\">\r\n      <template v-slot:main-content>\r\n        <ion-text>\r\n          <p class=\"title ion-text-start\">Мои данные</p>\r\n        </ion-text>\r\n        <br>\r\n        <div>\r\n          \r\n          <Input @updated=\"(item) => (name = item)\" :changeHandler=\"(e) => name = e.target.value\" :value=\"name\"\r\n            name=\"Укажите имя\" />\r\n          <Input type=\"email\" @updated=\"(item) => (email = item)\" name=\"Электронная почта\" :value=\"email\"\r\n            :changeHandler=\"(e) => email = e.target.value\" />\r\n          \r\n          <Input :mask=\"'###-###-###-##'\" @updated=\"(item) => (snils = item)\" name=\"СНИЛС\" :value=\"snils\"\r\n            :changeHandler=\"(e) => snils = e.target.value\" />\r\n\r\n\r\n          <Input @updated=\"(item) => (issuedBy = item)\" :changeHandler=\"(e) => issuedBy = e.target.value\"\r\n            :value=\"issuedBy\" name=\"Паспорт выдан\" />\r\n         \r\n          <Input :mask=\"'##.##.####'\" @updated=\"(item) => (issuedDate = item)\"\r\n            :changeHandler=\"(e) => issuedDate = e.target.value\" :value=\"issuedDate\" name=\"Дата выдачи паспорта\" />\r\n       \r\n          <Input :mask=\"'## ##'\" @updated=\"(item) => (serial = item)\" :changeHandler=\"(e) => serial = e.target.value\"\r\n            :value=\"serial\" name=\"Серия паспорта\" />\r\n         \r\n          <Input :mask=\"'######'\" @updated=\"(item) => (number = item)\" :changeHandler=\"(e) => number = e.target.value\"\r\n            :value=\"number\" name=\"Номер паспорта\" />\r\n            <Input :mask=\"'###-###'\" @updated=\"(item) => (codePodr = item)\" :changeHandler=\"(e) => codePodr = e.target.value\"\r\n            :value=\"codePodr\" name=\"Код подразделения\" />\r\n          <ion-item>\r\n            <ion-text>\r\n              <p class=\"sub-title\">{{ login }}</p>\r\n              <p>Контактный телефон</p>\r\n            </ion-text>\r\n          </ion-item>\r\n        </div>\r\n        <ion-text v-if=\"profileError?.response?.data?.error\" class=\"error\">\r\n          {{ profileError?.response?.data?.error }}\r\n        </ion-text>\r\n      </template>\r\n    </Layout>\r\n  </ion-page>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Layout from \"../components/Layout.vue\";\r\nimport {\r\n  IonPage,\r\n  IonText,\r\n  IonItem,\r\n} from \"@ionic/vue\";\r\nimport Input from \"../components/Input.vue\";\r\nimport Back from \"../components/Back.vue\";\r\nimport { mapActions } from \"pinia\";\r\nimport { useProfileStore } from \"../stores/profile\";\r\nimport { Storage } from \"@ionic/storage\";\r\n\r\nexport default defineComponent({\r\n  name: \"profleEditPage\",\r\n  data() {\r\n    return {\r\n      codeSent: false,\r\n      edit: false,\r\n      name: '',\r\n      email: '',\r\n      login: '',\r\n      issuedBy: '',\r\n      issuedDate: '',\r\n      serial: '',\r\n      number: '',\r\n      snils: '',\r\n      loading: false,\r\n      codePodr: ''\r\n    };\r\n  },\r\n  components: {\r\n    Input,\r\n    Back,\r\n    IonPage,\r\n    Layout,\r\n    IonItem,\r\n    IonText,\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions(useProfileStore, [\"editProfile\"]),\r\n    async editProfileHandler() {\r\n      this.$data.loading = true\r\n\r\n      const formData = {\r\n        passport: {\r\n          serial: this.$data.serial,\r\n          number: this.$data.number,\r\n          issuedBy: this.$data.issuedBy,\r\n          issuedDate: this.$data.issuedDate,\r\n          codePodr: this.$data.codePodr,\r\n        },\r\n\r\n        snils: this.$data.snils,\r\n        name: this.$data.name,\r\n        email: this.$data.email,\r\n      }\r\n      this.editProfile(formData,).then(\r\n        async () => {\r\n          this.$data.loading = false\r\n          const store = new Storage();\r\n          await store.create();\r\n          const profileData = await store.get('token')\r\n          const data = {\r\n            ...JSON.parse(profileData),\r\n            name: this.$data.name,\r\n            email: this.$data.email,\r\n\r\n          };\r\n          await store.set(\"token\", JSON.stringify(data))\r\n        }\r\n      );\r\n    }\r\n  },\r\n  ionViewDidEnter() {\r\n\r\n    const storageHandler = async () => {\r\n      const store = new Storage()\r\n      await store.create()\r\n      const token = await store.get('token')\r\n      this.$data.login = JSON.parse(token).phone\r\n      this.$data.email = this.profileData?.email\r\n      this.$data.name = this.profileData?.name\r\n      this.$data.snils = this.profileData?.snils\r\n      this.$data.serial = this.profileData?.passport?.serial\r\n      this.$data.number = this.profileData?.passport?.number\r\n      this.$data.issuedBy = this.profileData?.passport?.issuedBy\r\n      this.$data.issuedDate = this.profileData?.passport?.issuedDate\r\n      this.$data.codePodr = this.profileData?.passport?.codePodr\r\n\r\n    }\r\n    storageHandler()\r\n\r\n  },\r\n  computed: {\r\n    profileData() {\r\n      return this.$pinia.state.value?.profile?.profileResponse?.data;\r\n    },\r\n    profileError() {\r\n      return this.$pinia.state.value?.profile?.profileError;\r\n    }\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    return {\r\n      router,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\nion-item {\r\n  --padding-start: 0;\r\n  --padding-bottom: 0px;\r\n  --inner-padding-bottom: 0px;\r\n}\r\n</style>","import { render } from \"./ProfileEdit.vue?vue&type=template&id=71d960cf&scoped=true\"\nimport script from \"./ProfileEdit.vue?vue&type=script&lang=js\"\nexport * from \"./ProfileEdit.vue?vue&type=script&lang=js\"\n\nimport \"./ProfileEdit.vue?vue&type=style&index=0&id=71d960cf&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\aia\\\\Desktop\\\\STNG-MOBILE\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-71d960cf\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_createBlock","_component_ion_page","_createVNode","_component_Back","btnSrc","_ctx","push","_component_Layout","height","method","method2","loading","filledBtn","title","outlineBtn","_component_ion_text","_hoisted_1","_hoisted_2","_component_Input","onUpdated","item","changeHandler","e","target","value","name","type","mask","_component_ion_item","_hoisted_3","_hoisted_4","response","data","error","defineComponent","codeSent","edit","email","login","issuedBy","issuedDate","serial","number","snils","codePodr","components","Input","Back","IonPage","Layout","IonItem","IonText","methods","mapActions","useProfileStore","async","this","$data","formData","passport","editProfile","then","store","Storage","create","profileData","get","JSON","parse","set","stringify","ionViewDidEnter","storageHandler","token","phone","computed","$pinia","state","profile","profileResponse","profileError","setup","router","useRouter","__exports__","render"],"sourceRoot":""}