{"version":3,"file":"js/2797.1f2f6db6.js","mappings":"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","sources":["webpack://test/./src/stores/preEntry.js","webpack://test/./src/components/ButtonSelect.vue","webpack://test/./src/components/ButtonSelect.vue?a791","webpack://test/./src/views/TabRecord.vue","webpack://test/./src/views/TabRecord.vue?44b3"],"sourcesContent":["import { defineStore } from \"pinia\";\r\nimport axios from \"axios\";\r\nimport { isPlatform } from \"@ionic/vue\";\r\n\r\nexport const usePreEntryStore = defineStore({\r\n  id: \"preEntry\",\r\n  state: () => ({\r\n    entryPhone: \"\",\r\n    entryServiceType: \"\",\r\n    entryDate: null,\r\n    entryAvailableTimes: [],\r\n    entryTime: null,\r\n  }),\r\n  getters: {\r\n    getEntryInfo: (state) => {\r\n      return {\r\n        entryPhone: state.entryPhone,\r\n        entryServiceType: state.entryServiceType,\r\n        entryDate: state.entryDate,\r\n        entryAvailableTimes: state.entryAvailableTimes,\r\n        entryTime: state.entryTime,\r\n      };\r\n    },\r\n  },\r\n  actions: {\r\n    async setPhone(phone) {\r\n      this.entryPhone = phone;\r\n    },\r\n    async setServiceType(type) {\r\n      this.entryServiceType = type;\r\n    },\r\n    async setDate(date) {\r\n      this.entryDate = date;\r\n    },\r\n    async setTime(time) {\r\n      this.entryTime = time;\r\n    },\r\n    async fetchTime() {\r\n      if (this.entryDate && this.entryServiceType != \"\") {\r\n        try {\r\n          let config = {\r\n            headers: {\r\n              Accept: \"*/*\",\r\n              \"Content-Type\": \"multipart/form-data\",\r\n            },\r\n          };\r\n\r\n          let device = \"android\";\r\n          if (isPlatform(\"iphone\")) {\r\n            device = \"iphone\";\r\n          }\r\n\r\n          var bodyFormData = new FormData();\r\n          bodyFormData.append(\"date\", this.entryDate);\r\n          bodyFormData.append(\"service\", this.entryServiceType);\r\n          bodyFormData.append(\"ionicDevice\", device);\r\n\r\n          const response = await axios.post(\r\n            `https://aostng.ru/ajax/preregajax.php`,\r\n            bodyFormData,\r\n            config\r\n          );\r\n\r\n          let values = [];\r\n          // Get values between <option value=\"##:##:##\"> and </option>\r\n          const re = />([^<.]+)<\\//g;\r\n          let match = re.exec(response.data);\r\n          while (match != null) {\r\n            values.push(match[1]);\r\n            match = re.exec(response.data);\r\n          }\r\n\r\n          this.entryTime = null;\r\n          this.entryAvailableTimes = values;\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    },\r\n\r\n    async sendFullInfo(phone, type, date, time) {\r\n      console.log(phone, type, date, time);\r\n      try {\r\n        let config = {\r\n          headers: {\r\n            Accept: \"*/*\",\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n        };\r\n        let device = \"android\";\r\n        if (isPlatform(\"iphone\")) {\r\n          device = \"iphone\";\r\n        }\r\n\r\n        var bodyFormData = new FormData();\r\n        bodyFormData.append(\"number\", phone);\r\n        bodyFormData.append(\"service\", type);\r\n        bodyFormData.append(\"date\", date);\r\n        bodyFormData.append(\"time\", time);\r\n        bodyFormData.append(\"ionicDevice\", device);\r\n\r\n        await axios.post(`https://aostng.ru/prereg2.php`, bodyFormData, config);\r\n        return true;\r\n      } catch (error) {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    async resetPreEntry() {\r\n      this.entryPhone = \"\";\r\n      this.entryServiceType = \"\";\r\n      this.entryDate = null;\r\n      this.entryAvailableTimes = [];\r\n      this.entryTime = null;\r\n    },\r\n  },\r\n});\r\n","<template>\r\n  <div class=\"choose\" @click=\"btnSrc\">\r\n    <ion-text class=\"choose-text\">\r\n      {{ name }}\r\n      <ion-text class=\"dot\" v-if=\"required === true\">*</ion-text></ion-text\r\n    >\r\n    <ion-icon class=\"choose-icon\" :icon=\"caretDownSharp\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { IonIcon, IonText } from \"@ionic/vue\";\r\nimport { caretDownSharp } from \"ionicons/icons\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nexport default defineComponent({\r\n  name: \"buttonSelect\",\r\n  props: {\r\n    name: String,\r\n    btnSrc: Function,\r\n    required: Boolean,\r\n  },\r\n  components: {\r\n    IonIcon,\r\n    IonText,\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    return {\r\n      router,\r\n      caretDownSharp,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.choose {\r\n  border-radius: 8px;\r\n  width: 100%;\r\n  padding: 15px;\r\n  border: solid 1px #e0e0e0;\r\n  margin-bottom: 15px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.choose-text {\r\n  color: #9e9e9e;\r\n  font-weight: 400;\r\n}\r\n\r\n.choose-icon {\r\n  display: flex;\r\n  color: #9e9e9e;\r\n  width: 15px;\r\n  height: 15px;\r\n  margin-left: auto;\r\n}\r\n\r\n.dot {\r\n  color: #62d0ce;\r\n}\r\n</style>","import { render } from \"./ButtonSelect.vue?vue&type=template&id=793185f2&scoped=true\"\nimport script from \"./ButtonSelect.vue?vue&type=script&lang=js\"\nexport * from \"./ButtonSelect.vue?vue&type=script&lang=js\"\n\nimport \"./ButtonSelect.vue?vue&type=style&index=0&id=793185f2&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Downloads\\\\mobile-project-ionic\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-793185f2\"]])\n\nexport default __exports__","<template>\r\n  <ion-page>\r\n    <!-- <Back name=\"\" title=\"Е-запись\" /> -->\r\n    <Layout v-if=\"!currentlySuccess\" height=\"false\" outlineBtn=\".\" filledBtn=\"Оставить заявку\" title=\"Вид услуг\"\r\n      :method=\"() => sendPreregRequest()\">\r\n      <template v-slot:header-content>\r\n        <ion-text>\r\n          <p class=\"main-text\">\r\n            С помощью данного сервиса физическим и юридическим лицам можно\r\n            предварительно записаться на прием в Службу «Единого окна» по адресу\r\n            г.Якутск, ул. Петра Алексеева, 64.\r\n          </p>\r\n        </ion-text>\r\n\r\n        <ion-text>\r\n          <p class=\"main-text\">\r\n            На ваш номер телефона будет отправлен СМС с указанием номера брони,\r\n            а также даты и времени записи.\r\n          </p>\r\n        </ion-text>\r\n\r\n        <ion-text>\r\n          <p class=\"main-text\">\r\n            Прием документов производится только при полном пакете документов.\r\n          </p>\r\n        </ion-text>\r\n\r\n        <ion-text>\r\n          <p class=\"main-text\">\r\n            <ion-text class=\"main-subtitle\"> Внимание! </ion-text>\r\n            Согласно п. 9 ПП РФ №549, при подаче заявления на заключение\r\n            договора на поставку газа, необходимо предоставить договор на\r\n            техническое обслуживание со специализированной организацией.\r\n          </p>\r\n        </ion-text>\r\n      </template>\r\n\r\n      <template v-slot:main-content>\r\n        <ion-text>\r\n          <p class=\"title ion-text-start\">Данные заявителя</p>\r\n        </ion-text>\r\n\r\n        <Input v-mask=\"'+7 (###) ###-##-##'\" name=\"Номер телефона\" type=\"tel\" :value=\"entryPhone\"\r\n          :changeHandler=\"(e) => preEntryStore.setPhone(e.target.value)\" />\r\n\r\n        <ion-text>\r\n          <p class=\"sub-title\">Вид услуг</p>\r\n        </ion-text>\r\n\r\n        <ButtonSelect :required=\"true\" :name=\"\r\n          entryServiceType.trim() !== ''\r\n            ? formatServiceCode(entryServiceType)\r\n            : 'Выберите вариант'\r\n        \" :btnSrc=\"\r\n          () => {\r\n            router.push('/tabs/recordSelect');\r\n          }\r\n        \" />\r\n\r\n        <div>\r\n          <ion-item router-link=\"/tabs/date\">\r\n            <ion-icon size=\"large\" slot=\"start\" class=\"icon-start\" :icon=\"calendarNumberOutline\"></ion-icon>\r\n            <ion-text class=\"sub-title\">{{\r\n            entryDate ? entryDate : \"Выберите дату записи\"\r\n            }}</ion-text>\r\n            <ion-icon size=\"large\" slot=\"end\" class=\"icon-end\" :icon=\"chevronForwardOutline\"></ion-icon>\r\n          </ion-item>\r\n          <ion-item router-link=\"/tabs/time\">\r\n            <ion-icon size=\"large\" slot=\"start\" class=\"icon-start\" :icon=\"alarmOutline\"></ion-icon>\r\n            <ion-text class=\"sub-title\">{{\r\n            entryTime ? entryTime : \"Выберите время записи\"\r\n            }}</ion-text>\r\n            <ion-icon class=\"icon-end\" size=\"large\" slot=\"end\" :icon=\"chevronForwardOutline\"></ion-icon>\r\n          </ion-item>\r\n        </div>\r\n\r\n        <ion-text>\r\n          <p>\r\n            Режим работы Службы «Единого окна» в будни с 08.00 до 17.00\r\n            Выходной: суббота, воскресенье\r\n          </p>\r\n        </ion-text>\r\n\r\n\r\n        <ion-text v-if=\"errorText !== ''\">\r\n          <p class=\"error\">\r\n            {{ errorText }}\r\n          </p>\r\n        </ion-text>\r\n      </template>\r\n    </Layout>\r\n\r\n    <Layout v-else outlineBtn=\".\" filledBtn=\"Вернуться\" :method=\"() => reset()\" title=\"Предварительная запись\">\r\n      <template v-slot:main-content>\r\n        <ion-text>\r\n          <p class=\"title ion-text-start\">Прием документов</p>\r\n        </ion-text>\r\n        <ion-item>\r\n          <ion-text> Дата приема: </ion-text>\r\n          <ion-text slot=\"end\" class=\"text-end text-success\">{{\r\n          entryDate\r\n          }}</ion-text>\r\n        </ion-item>\r\n        <ion-item>\r\n          <ion-text> Время приема: </ion-text>\r\n          <ion-text slot=\"end\" class=\"text-end text-success\">{{\r\n          entryTime\r\n          }}</ion-text>\r\n        </ion-item>\r\n      </template>\r\n    </Layout>\r\n  </ion-page>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Layout from \"../components/Layout.vue\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { usePreEntryStore } from \"../stores/preEntry\";\r\nimport ButtonSelect from \"../components/ButtonSelect.vue\";\r\nimport {\r\n  IonPage,\r\n  IonText,\r\n  IonItem,\r\n  // IonCheckbox,\r\n  IonIcon,\r\n} from \"@ionic/vue\";\r\nimport Input from \"../components/Input.vue\";\r\nimport {\r\n  caretDownSharp,\r\n  chevronForwardOutline,\r\n  calendarNumberOutline,\r\n  alarmOutline,\r\n} from \"ionicons/icons\";\r\nimport { mask } from \"vue-the-mask\";\r\n\r\nexport default defineComponent({\r\n  name: \"recordPage\",\r\n  components: {\r\n    ButtonSelect,\r\n    IonPage,\r\n    // Back,\r\n    Layout,\r\n    IonItem,\r\n    Input,\r\n    IonText,\r\n    IonIcon,\r\n    // IonCheckbox,\r\n  },\r\n  directives: { mask },\r\n\r\n  setup() {\r\n    const router = useRouter();\r\n    const preEntryStore = usePreEntryStore();\r\n    const { entryPhone, entryServiceType, entryDate, entryTime } =\r\n      storeToRefs(preEntryStore);\r\n\r\n    const { sendFullInfo, resetPreEntry } = usePreEntryStore();\r\n\r\n    const errorText = ref(\"\");\r\n    const currentlySuccess = ref(false);\r\n\r\n    return {\r\n      router,\r\n      caretDownSharp,\r\n      chevronForwardOutline,\r\n      calendarNumberOutline,\r\n      alarmOutline,\r\n      preEntryStore,\r\n      entryPhone,\r\n      entryServiceType,\r\n      entryDate,\r\n      entryTime,\r\n      errorText,\r\n      sendFullInfo,\r\n      currentlySuccess,\r\n      resetPreEntry,\r\n    };\r\n  },\r\n  methods: {\r\n    formatServiceCode(code) {\r\n      let formattedText = \"Неверный код сервиса\";\r\n      switch (code) {\r\n        case \"Q01\":\r\n          formattedText = \"Прием документов\";\r\n          break;\r\n        case \"Q03\":\r\n          formattedText = \"Заключение договора на поставку газа (квартира)\";\r\n          break;\r\n        case \"Q06\":\r\n          formattedText = \"Социальная газификация\";\r\n          break;\r\n      }\r\n\r\n      return formattedText;\r\n    },\r\n    sendPreregRequest() {\r\n\r\n      let status = 0;\r\n      if (this.entryPhone.length === 18) {\r\n        status++;\r\n      }\r\n      if (\r\n        this.entryServiceType !== \"\" &&\r\n        this.entryServiceType !== \"Неверный код сервиса\"\r\n      ) {\r\n        status++;\r\n      }\r\n      if (this.entryDate) {\r\n        status++;\r\n      }\r\n      if (this.entryTime) {\r\n        status++;\r\n      }\r\n\r\n      if (status !== 4) {\r\n        this.errorText = \"Все поля должны быть заполнены\";\r\n      } else {\r\n        this.errorText = \"\";\r\n        this.sendFullInfo(\r\n          this.entryPhone,\r\n          this.entryServiceType,\r\n          this.entryDate,\r\n          this.entryTime\r\n        ).then((success) => {\r\n          console.log(success);\r\n          if (success) {\r\n            this.currentlySuccess = true;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    reset() {\r\n      this.resetPreEntry();\r\n      this.currentlySuccess = false;\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\nion-item {\r\n  --padding-start: 0px;\r\n  /*  */\r\n  /*   --inner-padding-start: 20px; */\r\n  --inner-padding-bottom: 10px;\r\n  --inner-padding-end: 0;\r\n  --inner-padding-top: 20px;\r\n}\r\n\r\nion-icon {\r\n  height: 32px;\r\n  width: 32px;\r\n  --ionicon-stroke-width: 40px;\r\n  color: #0378b4;\r\n  margin-right: 20px;\r\n}\r\n\r\n.icon-start {\r\n  margin-right: 20px;\r\n}\r\n\r\n.icon-end {\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-left: 0px;\r\n}\r\n\r\n.text-success {\r\n  color: #000000;\r\n  font-weight: 700;\r\n  margin-left: 0;\r\n}\r\n</style>\r\n","import { render } from \"./TabRecord.vue?vue&type=template&id=38f60167&scoped=true\"\nimport script from \"./TabRecord.vue?vue&type=script&lang=js\"\nexport * from \"./TabRecord.vue?vue&type=script&lang=js\"\n\nimport \"./TabRecord.vue?vue&type=style&index=0&id=38f60167&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Downloads\\\\mobile-project-ionic\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-38f60167\"]])\n\nexport default __exports__"],"names":["usePreEntryStore","defineStore","id","state","entryPhone","entryServiceType","entryDate","entryAvailableTimes","entryTime","getters","getEntryInfo","actions","async","phone","this","type","date","time","config","headers","Accept","device","isPlatform","bodyFormData","FormData","append","response","axios","values","re","match","exec","data","push","error","console","log","_createElementBlock","class","onClick","_ctx","_createVNode","_component_ion_text","_createBlock","_component_ion_icon","icon","defineComponent","name","props","String","btnSrc","Function","required","Boolean","components","IonIcon","IonText","setup","router","useRouter","caretDownSharp","__exports__","render","_createElementVNode","_component_ion_page","_component_Layout","outlineBtn","filledBtn","method","title","_withCtx","_hoisted_9","_component_ion_item","slot","height","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_5","_component_Input","value","changeHandler","e","setPhone","target","_hoisted_6","_component_ButtonSelect","trim","size","_hoisted_7","key","_toDisplayString","ButtonSelect","IonPage","Layout","IonItem","Input","directives","mask","preEntryStore","storeToRefs","sendFullInfo","resetPreEntry","errorText","ref","currentlySuccess","chevronForwardOutline","calendarNumberOutline","alarmOutline","methods","formatServiceCode","code","formattedText","sendPreregRequest","status","length","then","success","reset"],"sourceRoot":""}