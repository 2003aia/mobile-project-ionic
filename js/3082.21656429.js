"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[3082],{1014:function(t,e,n){n.d(e,{m:function(){return l}});var i=n(1575),a=n(9669),s=n.n(a);const l=(0,i.Q_)({id:"news",state:()=>({news:[],newsDetail:null}),getters:{getPostsPerAuthor:t=>e=>t.posts.filter((t=>t.userId===e))},actions:{async fetchNews(t){this.news=[];try{this.news=await s().get(`https://aostng.ru/api/v2/news/all/page/${t}/`).then((t=>t.data))}catch(e){this.error=e}},async fetchNewsDetail(t){this.post=null;try{this.newsDetail=await s().get(`https://aostng.ru/api/v2/news/${t}}/`).then((t=>t.data))}catch(e){this.error=e}}}})},1745:function(t,e,n){n.d(e,{Z:function(){return w}});var i=n(6252),a=n(3577);const s={class:"item"},l={class:"img-wrapper"},r={class:"content"},o={class:"title ion-text-start"},u=["innerHTML"];function c(t,e,n,c,d,p){const m=(0,i.up)("ion-img"),g=(0,i.up)("ion-text"),w=(0,i.up)("ion-item");return(0,i.wg)(),(0,i.j4)(w,{lines:"none","router-link":t.name},{default:(0,i.w5)((()=>[(0,i._)("div",s,[(0,i._)("div",l,[null!==t.imgsrc?((0,i.wg)(),(0,i.j4)(m,{key:0,src:t.imgsrc},null,8,["src"])):(0,i.kq)("",!0)]),(0,i._)("div",r,[(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i._)("p",null,(0,a.zw)(t.date),1)])),_:1}),(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i._)("p",o,(0,a.zw)(t.main_title),1)])),_:1}),(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i._)("p",{innerHTML:t.sub_title},null,8,u)])),_:1})])])])),_:1},8,["router-link"])}var d=n(297),p=(0,i.aZ)({name:"newsItemComponent",props:{date:String,imgsrc:String,name:String,main_title:String,sub_title:String,text:String},components:{IonText:d.yW,IonItem:d.Ie,IonImg:d.Xz}}),m=n(3744);const g=(0,m.Z)(p,[["render",c],["__scopeId","data-v-fa4a756c"]]);var w=g},3082:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var i=n(6252);const a=t=>((0,i.dD)("data-v-18cfbbd4"),t=t(),(0,i.Cn)(),t),s={class:"container"},l={class:"btn-wrapper"},r=a((()=>(0,i._)("p",{class:"main-title"},"Новости",-1))),o={key:1};function u(t,e,n,a,u,c){const d=(0,i.up)("Button"),p=(0,i.up)("ion-text"),m=(0,i.up)("ion-spinner"),g=(0,i.up)("NewsItem"),w=(0,i.up)("ion-infinite-scroll-content"),f=(0,i.up)("ion-infinite-scroll"),h=(0,i.up)("ion-content"),v=(0,i.up)("ion-page");return(0,i.wg)(),(0,i.j4)(v,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,{class:"background"},{default:(0,i.w5)((()=>[(0,i._)("div",s,[(0,i._)("div",l,[(0,i.Wm)(d,{class:"btn",name:"Новости",grey:t.newsButton,"router-link":"/tabs/main"},null,8,["grey"]),(0,i.Wm)(d,{class:"btn",name:"Объявления",grey:t.adsButton,"router-link":"/tabs/ads"},null,8,["grey"])]),(0,i.Wm)(p,{class:"main-title"},{default:(0,i.w5)((()=>[r])),_:1}),!0===t.loading?((0,i.wg)(),(0,i.j4)(m,{key:0,name:"bubbles"})):(0,i.kq)("",!0),!1===t.loading?((0,i.wg)(),(0,i.iD)("div",o,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.list,(e=>((0,i.wg)(),(0,i.j4)(g,{key:e?.id,date:e?.date,main_title:e?.name,sub_title:e?.preview,text:e?.preview,onClick:()=>{t.router.push({name:"newsPage",params:{id:e.id,for:"news"}})},imgsrc:e?.image},null,8,["date","main_title","sub_title","text","onClick","imgsrc"])))),128)),(0,i.Wm)(f,{threshold:"100px",id:"infinite-scroll"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{"loading-spinner":"bubbles"})])),_:1})])):(0,i.kq)("",!0)])])),_:1})])),_:1})}var c=n(2262),d=n(8903),p=n(297),m=n(1558),g=n(1745),w=n(2119),f=n(1575),h=n(1014),v=(0,i.aZ)({name:"tabMainPage",data(){return{adsButton:!0,newsButton:!1,detail:null,list23:[{image:"",name:"Якутия. Еженедельный дайджест новостей газификации",preview:"Главные новости АО «Сахатранснефтегаз» за неделю с 9 по 15 мая – в еженедельном дайджесте газификации. ",detail:"Lorem1",id:1,date:"16.05.2022"},{image:"https://studio.everypixel.com/ru/blog/wp-content/uploads/2015/03/Funny-Stock-Unfinished-Business-6.jpg",name:"Якутия. Еженедельный дайджест новостей газификации",preview:"Главные новости АО «Сахатранснефтегаз» за неделю с 9 по 15 мая – в еженедельном дайджесте газификации. ",detail:"Lorem2",id:2,date:"16.05.2022"},{name:"Якутия. Еженедельный дайджест новостей газификации",image:"https://studio.everypixel.com/ru/blog/wp-content/uploads/2015/03/Funny-Stock-Unfinished-Business-6.jpg",preview:"Главные новости АО «Сахатранснефтегаз» за неделю с 9 по 15 мая – в еженедельном дайджесте газификации. ",detail:"Lorem3",id:3,date:"16.05.2022"}]}},setup(){const t=(0,w.tv)(),{news:e}=(0,f.Jk)((0,h.m)()),{fetchNews:n}=(0,h.m)();let i=(0,c.iH)([]),a=(0,c.iH)(!1),s=0;function l(t){s+=1,a.value=!0,n(s).then((()=>{a.value=!1;for(let t=0;t<e.value.data.length;t++){const n=e.value.data[t];i.value.push(n)}t?.target?.complete()}))}return(0,p.Yr)((()=>{l()})),{loading:a,list:i,router:t,fetchMoreNews:l,airplaneOutline:d.TTc}},methods:{},components:{IonPage:p._i,IonContent:p.W2,Button:m.Z,NewsItem:g.Z,IonText:p.yW,IonSpinner:p.PQ,IonInfiniteScroll:p.ju,IonInfiniteScrollContent:p.MB}}),_=n(3744);const b=(0,_.Z)(v,[["render",u],["__scopeId","data-v-18cfbbd4"]]);var k=b}}]);
//# sourceMappingURL=3082.21656429.js.map