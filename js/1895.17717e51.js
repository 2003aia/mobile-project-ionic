"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[1895],{6306:function(e,t,s){s.d(t,{X:function(){return o}});var a=s(6086),n=s(9669),l=s.n(n),r=s(3978);const o=(0,a.Q_)({id:"services",state:()=>({formResponse:null,formResponseError:null,callInspectorResponse:null,callInspectorError:null,servicesResponse:null,servicesResponseError:null,form:[],select:[]}),getters:{setForm:e=>t=>[...e.form,...t]},actions:{async getForms(){console.log("getting forms");try{await l().get("https://aostng.ru/api/?action=getAll&format=json&page=3&limit=20").then((e=>this.formResponse=e.data))}catch(e){this.formResponseError=e}},async services(e){console.log("services");try{await l().post("https://fhd.aostng.ru/vesta_storage/hs/API_STNG/V2/Services",{status:[{CODE:"24",VALUE:"Требуется документ"}],forms:e}).then((e=>this.servicesResponse=e.data))}catch(t){this.servicesResponseError=t}},async callInspector(e,t){try{const s=new r.K;await s.create();const a=await s.get("token"),n=JSON.parse(a).token;await l().post("https://fhd.aostng.ru/vesta_storage/hs/API_STNG/V2/CallInspector",{token:n,LC:e,phone:t}).then((e=>this.callInspectorResponse=e.data))}catch(s){this.callInspectorError=s}}}})},2833:function(e,t,s){s.d(t,{Z:function(){return p}});var a=s(6252),n=s(3577);const l=(0,a.Uk)("*");function r(e,t,s,r,o,c){const i=(0,a.up)("ion-text"),u=(0,a.up)("ion-icon");return(0,a.wg)(),(0,a.iD)("div",{class:"choose",onClick:t[0]||(t[0]=(...t)=>e.btnSrc&&e.btnSrc(...t))},[(0,a.Wm)(i,{class:"choose-text"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.name)+" ",1),!0===e.required?((0,a.wg)(),(0,a.j4)(i,{key:0,class:"dot"},{default:(0,a.w5)((()=>[l])),_:1})):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(u,{class:"choose-icon",icon:e.caretDownSharp},null,8,["icon"])])}var o=s(5859),c=s(8903),i=s(2119),u=(0,a.aZ)({name:"buttonSelect",props:{name:String,btnSrc:Function,required:Boolean},components:{IonIcon:o.gu,IonText:o.yW},setup(){const e=(0,i.tv)();return{router:e,caretDownSharp:c.D2O}}}),d=s(3744);const m=(0,d.Z)(u,[["render",r],["__scopeId","data-v-793185f2"]]);var p=m},652:function(e,t,s){s.d(t,{Z:function(){return c}});var a=s(6252);function n(e,t,s,n,l,r){return(0,a.wg)(),(0,a.iD)("div",{class:"main",onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[(0,a.WI)(e.$slots,"content",{},void 0,!0)])}var l=(0,a.aZ)({setup(){},name:"layoutBox",components:{},props:{btnSrc:String,filledButton:String,title:String,height:String,onClick:Function}}),r=s(3744);const o=(0,r.Z)(l,[["render",n],["__scopeId","data-v-3d91200c"]]);var c=o},1895:function(e,t,s){s.r(t),s.d(t,{default:function(){return J}});var a=s(6252),n=s(9963),l=s(3577);const r=e=>((0,a.dD)("data-v-6debdf24"),e=e(),(0,a.Cn)(),e),o=r((()=>(0,a._)("p",{class:"text-20-600"},"Общие сведения заявления",-1))),c=r((()=>(0,a._)("p",{class:"title ion-text-start"},"Данные заявителя",-1))),i=(0,a.Uk)("*"),u=(0,a.Uk)(" - обязательное поле для заполнения. "),d={class:"input-wrapper"},m=["type","onUpdate:modelValue"],p=(0,a.Uk)("*"),f=r((()=>(0,a._)("p",{class:"title ion-text-start"},"Данные паспорта",-1))),h=(0,a.Uk)("*"),_=(0,a.Uk)(" - обязательное поле для заполнения. "),A={class:"input-wrapper"},S=["type","onUpdate:modelValue"],v=(0,a.Uk)("*"),g=r((()=>(0,a._)("p",{class:"title ion-text-start"},"Данные об объекте газификации",-1))),E=(0,a.Uk)("*"),w=(0,a.Uk)(" - обязательное поле для заполнения. "),U=r((()=>(0,a._)("p",{class:"sub-title"}," Наименование объекта капитального строительства ",-1))),k=["value"],R={class:"sub-title"},y=(0,a.Uk)(" Адрес обьекта "),x=(0,a.Uk)("*"),H={class:"sub-title"},I=(0,a.Uk)(" Подключение в случаях (выбрать один из следующих вариантов) "),C=(0,a.Uk)("*"),T={class:"sub-title"},W=(0,a.Uk)(" Характер потребления газа "),L=(0,a.Uk)("*"),N={class:"sub-title"},q=(0,a.Uk)(" Сроки проектирования, строительства и ввода в эксплуатацию объекта капитального строительства (в том числе по этапам и очередям) "),b=(0,a.Uk)("*");function V(e,t,s,r,V,D){const G=(0,a.up)("Back"),$=(0,a.up)("ion-text"),M=(0,a.up)("LayoutBox"),P=(0,a.up)("ion-item"),Z=(0,a.up)("Input"),K=(0,a.up)("ButtonSelect"),O=(0,a.up)("Layout"),B=(0,a.up)("ion-page");return(0,a.wg)(),(0,a.j4)(B,null,{default:(0,a.w5)((()=>[(0,a.Wm)(G,{btnSrc:()=>e.router.push("/tabs/services")},null,8,["btnSrc"]),(0,a.Wm)(O,{btnSrc:"/tabs/servicesTechAllianceChoose",method:e.storageHandler,height:"false",filledBtn:"Далее",outlineBtn:".",title:"Онлайн-заявка на технологическое подключение"},{"header-content":(0,a.w5)((()=>[(0,a.Wm)($,null,{default:(0,a.w5)((()=>[o])),_:1})])),"main-content":(0,a.w5)((()=>[(0,a.Wm)($,null,{default:(0,a.w5)((()=>[c,(0,a._)("p",null,[(0,a.Wm)($,{class:"dot"},{default:(0,a.w5)((()=>[i])),_:1}),u]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.formUser,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a._)("div",d,[(0,a.wy)((0,a._)("input",{ref_for:!0,ref:"text",type:t.type,class:"input",placeholder:" ","onUpdate:modelValue":e=>t.value=e},null,8,m),[[n.YZ,t.value]]),(0,a.Wm)($,{class:"input-text",onClick:t=>e.onFocusText(s)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.name),1),t.required?((0,a.wg)(),(0,a.j4)($,{key:0,class:"dot"},{default:(0,a.w5)((()=>[p])),_:1})):(0,a.kq)("",!0)])),_:2},1032,["onClick"])])])))),128))])),_:1})])),content:(0,a.w5)((()=>[(0,a.Wm)(M,null,{content:(0,a.w5)((()=>[(0,a.Wm)($,null,{default:(0,a.w5)((()=>[f,(0,a._)("p",null,[(0,a.Wm)($,{class:"dot"},{default:(0,a.w5)((()=>[h])),_:1}),_])])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.formPass,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a._)("div",A,[(0,a.wy)((0,a._)("input",{ref_for:!0,ref:"text2",type:t.type,class:"input",placeholder:" ","onUpdate:modelValue":e=>t.value=e},null,8,S),[[n.YZ,t.value]]),(0,a.Wm)($,{class:"input-text",onClick:t=>e.onFocusText2(s)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.name),1),t.required?((0,a.wg)(),(0,a.j4)($,{key:0,class:"dot"},{default:(0,a.w5)((()=>[v])),_:1})):(0,a.kq)("",!0)])),_:2},1032,["onClick"])])])))),128))])),_:1}),(0,a.Wm)(M,null,{content:(0,a.w5)((()=>[(0,a.Wm)($,null,{default:(0,a.w5)((()=>[g,(0,a._)("p",null,[(0,a.Wm)($,{class:"dot"},{default:(0,a.w5)((()=>[E])),_:1}),w]),U])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.formGasName,((s,r)=>((0,a.wg)(),(0,a.iD)("div",{key:s},[(0,a.Wm)(P,{class:"check"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("input",{onClick:t[0]||(t[0]=t=>{e.uniqueCheck(t)}),value:s.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.gasHome=t),onChange:t[2]||(t[2]=(...t)=>e.uniqueCheck&&e.uniqueCheck(...t)),class:"check2",type:"checkbox",slot:"start"},null,40,k),[[n.e8,e.gasHome]]),(0,a.Uk)(" "+(0,l.zw)(s.name)+" ",1),(0,a.Wm)($,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(s)+(0,l.zw)(r),1)])),_:2},1024)])),_:2},1024)])))),128)),(0,a.Wm)($,null,{default:(0,a.w5)((()=>[(0,a._)("p",R,[y,(0,a.Wm)($,{class:"dot"},{default:(0,a.w5)((()=>[x])),_:1})])])),_:1}),(0,a.Wm)(Z,{value:e.address,changeHandler:e.changeAddress,name:"Введите данные "},null,8,["value","changeHandler"]),(0,a.Wm)($,null,{default:(0,a.w5)((()=>[(0,a._)("p",H,[I,(0,a.Wm)($,{class:"dot"},{default:(0,a.w5)((()=>[C])),_:1})])])),_:1}),(0,a.Wm)(K,{btnSrc:()=>e.router.push({name:"servicesTechAllianceSelect",params:{connection:!0}}),name:0!==this.select?.filter((e=>"Подключение в случаях (выбрать один из следующих вариантов)"===e.GAS_SLUCHI?.NAME)).length?this.select?.filter((e=>"Подключение в случаях (выбрать один из следующих вариантов)"===e?.GAS_SLUCHI?.NAME))[0]?.GAS_SLUCHI?.VALUE:"Выберите вариант"},null,8,["btnSrc","name"]),(0,a.Wm)($,null,{default:(0,a.w5)((()=>[(0,a._)("p",T,[W,(0,a.Wm)($,{class:"dot"},{default:(0,a.w5)((()=>[L])),_:1})])])),_:1}),(0,a.Wm)(K,{btnSrc:()=>e.router.push({name:"servicesTechAllianceSelect",params:{connection:!1}}),name:0!==this.select?.filter((e=>"Характер потребления газа"===e?.GAS_HARAKTER?.NAME)).length?this.select?.filter((e=>"Характер потребления газа"===e?.GAS_HARAKTER?.NAME))[0]?.GAS_HARAKTER?.VALUE:"Выберите вариант"},null,8,["btnSrc","name"]),(0,a.Wm)($,null,{default:(0,a.w5)((()=>[(0,a._)("p",N,[q,(0,a.Wm)($,{class:"dot"},{default:(0,a.w5)((()=>[b])),_:1})])])),_:1}),(0,a.Wm)(Z,{value:e.deadlines,changeHandler:e.changeDeadlines,name:"Введите данные"},null,8,["value","changeHandler"])])),_:1})])),_:1},8,["method"])])),_:1})}var D=s(2119),G=s(1839),$=s(5859),M=s(4503),P=s(652),Z=s(4043),K=s(2833),O=s(6086),B=s(6306),F=s(3978),z=(0,a.aZ)({name:"servicesTechAlliance",components:{IonPage:$._i,Layout:G.Z,IonText:$.yW,Input:M.Z,Back:Z.Z,ButtonSelect:K.Z,LayoutBox:P.Z,IonItem:$.Ie},computed:{formFields(){return this.$pinia.state.value?.services?.formResponse?.result?.forms.filter((e=>"Услуга технологического присоединения для физических лиц"===e.SERVICE.VALUE))},select(){return this.$pinia.state.value?.services?.select}},methods:{...(0,O.nv)(B.X,["getForms"]),async storageHandler(){const e=new F.K;await e.create();let t={};for(let n=0;n<this.$data.formPass.length;n++){const e=this.$data.formPass[n];t[e.field]={NAME:e.name,VALUE:e.value}}let s={...this.formFields[0],...t};for(let n=0;n<this.$data.formUser.length;n++){const e=this.$data.formUser[n];s[e.field]={NAME:e.name,VALUE:e.value}}let a={...s,GAS_ADDRESS:{NAME:"Адрес объекта",VALUE:this.$data.address},GAS__SROK:{NAME:"Сроки проектирования, строительства и ввода в эксплуатацию объекта капитального строительства (в том числе по этапам и очередям)*",VALUE:this.$data.deadlines},GAS_SLUCHI:{NAME:"Подключение в случаях (выбрать один из следующих вариантов)",VALUE:this.select[0]?.GAS_SLUCHI?this.select[0]?.GAS_SLUCHI.VALUE:this.select[1]?.GAS_SLUCHI?.VALUE},GAS_HARAKTER:{NAME:"Характер потребления газа",VALUE:this.select[0]?.GAS_HARAKTER?this.select[0]?.GAS_HARAKTER?.VALUE:this.select[1]?.GAS_HARAKTER?.VALUE},GAS_HOME:{NAME:"Наименование объекта капитального строительства",VALUE:this.$data.gasHome[0]}};this.$pinia.state.value?.services?.form&&this.$pinia.state.value?.services?.form?.push(a),console.log("tessss",a,this.select),await e.set("servicesTechAlliance",JSON.stringify(a))},async uniqueCheck(e){console.log(e.currentTarget.value,"test"),this.$data.gasHome=[],!1===e.currentTarget.checked&&this.$data.gasHome.push(e.currentTarget.value)},onFocusText(e){this.$refs.text[e].focus()},onFocusText2(e){this.$refs.text2[e].focus()},changeDeadlines(e){this.$data.deadlines=e.target.value},changeAddress(e){this.$data.address=e.target.value},updateCheck(e){console.log(e.currentTarget.checked,e,"test")}},mounted(){this.getForms();const e=async()=>{const e=new F.K;await e.create();const t=await e.get("servicesTechAlliance");console.log(JSON.parse(t),"servicesTechAlliance")};e(),console.log("test",this.formFields)},data(){return{formGasName:[{name:"Жилой дом"},{name:"Гараж"},{name:"Баня"},{name:"Другое"}],address:"",deadlines:"",gasHome:[],formPass:[{field:"USER_PASSPORT_SERIAL",name:"Серия паспорта",type:"text",required:!0,value:""},{field:"USER_PASSPORT_NUM",type:"text",name:"Номер паспорта",required:!0,value:""},{field:"USER_PASS_WHO",name:"Кем выдан",type:"text",required:!0,value:""},{field:"USER_PASS_DATE",name:"Дата выдачи паспорта",type:"text",required:!0,value:""},{field:"USER_REGION",name:"Место регистрации",type:"text",required:!0,value:""}],formUser:[{field:"USER_NAME",name:"Имя",type:"text",required:!0,value:""},{field:"USER_LAST_NAME",name:"Фамилия",type:"text",required:!0,value:""},{field:"USER_SECOND_NAME",name:"Отчество",type:"text",required:!0,value:""},{field:"USER_BIRTHDATE",name:"Дата рождения",type:"text",required:!0,value:""},{field:"USER_BIRTHPLACE",name:"Место рождения",type:"text",required:!0,value:""},{field:"USER_ADDRESS",name:"Место жительства",type:"text",required:!0,value:""},{field:"USER_PHONE",name:"Контактный телефон",type:"text",required:!0,value:""},{field:"USER_PHONE_2",name:"Дополнительный контактный номер",type:"text",required:!1,value:""},{field:"USER_EMAIL",name:"E-mail",type:"text",required:!0,value:""}]}},setup(){const e=(0,D.tv)();return{router:e}}}),j=s(3744);const Y=(0,j.Z)(z,[["render",V],["__scopeId","data-v-6debdf24"]]);var J=Y}}]);
//# sourceMappingURL=1895.17717e51.js.map