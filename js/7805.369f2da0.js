"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[7805],{1841:function(e,t,a){a.r(t),a.d(t,{default:function(){return J}});var l=a(6252),s=a(9963),r=a(3577);const u=e=>((0,l.dD)("data-v-1c9a68ac"),e=e(),(0,l.Cn)(),e),n=u((()=>(0,l._)("p",{class:"text-20-600"},"Общие сведения заявления",-1))),d=u((()=>(0,l._)("p",{class:"title ion-text-start"},"Данные заявителя",-1))),i=(0,l.Uk)("*"),o=(0,l.Uk)(" - обязательное поле для заполнения. "),m={class:"input-wrapper"},f=["type","onUpdate:modelValue"],p=["type","onUpdate:modelValue"],c=(0,l.Uk)("*"),_=u((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1))),v=u((()=>(0,l._)("p",{class:"title ion-text-start"},"Данные паспорта",-1))),h=(0,l.Uk)("*"),E=(0,l.Uk)(" - обязательное поле для заполнения. "),k={class:"input-wrapper"},U=["type","onUpdate:modelValue"],y=["type","onUpdate:modelValue"],w=(0,l.Uk)("*"),A=u((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1))),S=u((()=>(0,l._)("p",{class:"title ion-text-start"},"Данные об объекте газификации",-1))),g=(0,l.Uk)("*"),x=(0,l.Uk)(" - обязательное поле для заполнения. "),R={class:"sub-title"},$=(0,l.Uk)(" Адрес обьекта "),D=(0,l.Uk)("*"),q=u((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1))),W={class:"sub-title"},N=(0,l.Uk)(" Кадастровый номер земельного участка "),M=(0,l.Uk)("*"),L=u((()=>(0,l._)("p",{class:"error"},"Заполните поле",-1)));function T(e,t,a,u,T,V){const Y=(0,l.up)("Back"),b=(0,l.up)("ion-text"),P=(0,l.up)("LayoutBox"),I=(0,l.up)("Input"),F=(0,l.up)("Layout"),H=(0,l.up)("ion-page"),C=(0,l.Q2)("mask");return(0,l.wg)(),(0,l.j4)(H,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Y),(0,l.Wm)(F,{height:"false",method:e.storageHandler,filledBtn:"Далее",outlineBtn:".",title:"Заявка на социальную газификацию"},{"header-content":(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[n])),_:1})])),"main-content":(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[d,(0,l._)("p",null,[(0,l.Wm)(b,{class:"dot"},{default:(0,l.w5)((()=>[i])),_:1}),o])])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.formUser,((t,a)=>((0,l.wg)(),(0,l.iD)("div",{key:t},[(0,l._)("div",m,[t.mask?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:0,ref_for:!0,ref:"text",type:t.type,class:"input",placeholder:" ","onUpdate:modelValue":e=>t.value=e},null,8,f)),[[s.YZ,t.value],[C,t.mask]]):(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:1,ref_for:!0,ref:"text",type:t.type,class:"input",placeholder:" ","onUpdate:modelValue":e=>t.value=e},null,8,p)),[[s.YZ,t.value]]),(0,l.Wm)(b,{class:"input-text",onClick:t=>e.onFocusText(a)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(t.name),1),t.required?((0,l.wg)(),(0,l.j4)(b,{key:0,class:"dot"},{default:(0,l.w5)((()=>[c])),_:1})):(0,l.kq)("",!0)])),_:2},1032,["onClick"]),(0,l.wy)((0,l.Wm)(b,null,{default:(0,l.w5)((()=>[_])),_:2},1536),[[s.F8,0===t.value.length&&t.error]])])])))),128))])),content:(0,l.w5)((()=>[(0,l.Wm)(P,null,{content:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[v,(0,l._)("p",null,[(0,l.Wm)(b,{class:"dot"},{default:(0,l.w5)((()=>[h])),_:1}),E])])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.formPass,((t,a)=>((0,l.wg)(),(0,l.iD)("div",{key:t},[(0,l._)("div",k,[t.mask?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:0,ref_for:!0,ref:"text2",type:t.type,class:"input",placeholder:" ","onUpdate:modelValue":e=>t.value=e},null,8,U)),[[s.YZ,t.value],[C,t.mask]]):(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:1,ref_for:!0,ref:"text2",type:t.type,class:"input",placeholder:" ","onUpdate:modelValue":e=>t.value=e},null,8,y)),[[s.YZ,t.value]]),(0,l.Wm)(b,{class:"input-text",onClick:t=>e.onFocusText2(a)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(t.name),1),t.required?((0,l.wg)(),(0,l.j4)(b,{key:0,class:"dot"},{default:(0,l.w5)((()=>[w])),_:1})):(0,l.kq)("",!0)])),_:2},1032,["onClick"]),(0,l.wy)((0,l.Wm)(b,null,{default:(0,l.w5)((()=>[A])),_:2},1536),[[s.F8,0===t.value.length&&t.error]])])])))),128))])),_:1}),(0,l.Wm)(P,null,{content:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[S,(0,l._)("p",null,[(0,l.Wm)(b,{class:"dot"},{default:(0,l.w5)((()=>[g])),_:1}),x]),(0,l._)("p",R,[$,(0,l.Wm)(b,{class:"dot"},{default:(0,l.w5)((()=>[D])),_:1})])])),_:1}),(0,l.Wm)(I,{value:e.address,changeHandler:e.changeAddress,name:"Введите данные  "},null,8,["value","changeHandler"]),(0,l.wy)((0,l.Wm)(b,null,{default:(0,l.w5)((()=>[q])),_:1},512),[[s.F8,!0===e.validation.address]]),(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l._)("p",W,[N,(0,l.Wm)(b,{class:"dot"},{default:(0,l.w5)((()=>[M])),_:1})])])),_:1}),(0,l.Wm)(I,{value:e.number,changeHandler:e.changeNumber,name:"Введите данные "},null,8,["value","changeHandler"]),(0,l.wy)((0,l.Wm)(b,null,{default:(0,l.w5)((()=>[L])),_:1},512),[[s.F8,!0===e.validation.number]])])),_:1})])),_:1},8,["method"])])),_:1})}var V=a(2119),Y=a(1839),b=a(5859),P=a(4043),I=a(8903),F=a(4503),H=a(652),C=a(6086),O=a(381),Z=a.n(O),B=a(2982),j=a(3978),G=a(6306),K=(0,l.aZ)({name:"servicesRequestGas",components:{LayoutBox:H.Z,Input:F.Z,IonPage:b._i,Layout:Y.Z,IonText:b.yW,Back:P.Z},directives:{mask:B.mask},methods:{...(0,C.nv)(G.X,["getForms"]),changeNumber(e){this.$data.number=e.target.value},changeAddress(e){this.$data.address=e.target.value},onFocusText(e){this.$refs.text[e].focus()},onFocusText2(e){this.$refs.text2[e].focus()},async storageHandler(){const e=new j.K;await e.create();let t={},a=this.$data.formUser.filter((e=>{if(!0===e.required)return e.error=!0,""===e.value})),l=this.$data.formPass.filter((e=>{if(!0===e.required)return e.error=!0,""===e.value})),s=()=>{0===this.$data.address.length?this.$data.validation.address=!0:this.$data.validation.address=!1,0===this.$data.number.length?this.$data.validation.number=!0:this.$data.validation.number=!1};if(s(),0===a.length&&0===l.length&&Object.keys(this.$data.validation).every((e=>!this.$data.validation[e]))){for(let e=0;e<this.$data.formPass.length;e++){const a=this.$data.formPass[e];t[a.field]={NAME:a.name,VALUE:a.value}}let a={...this.formFields[0],...t};for(let e=0;e<this.$data.formUser.length;e++){const t=this.$data.formUser[e];a[t.field]={NAME:t.name,VALUE:t.value}}let l={...a,DATE_CREATE:{NAME:"Дата создания",VALUE:`${Z()().format("DD.MM.YYYY hh:mm:ss")} `},TIMESTAMP_X:{NAME:"Время последнего изменения",VALUE:`${Z()().format("DD.MM.YYYY hh:mm:ss")} `},NAME:{NAME:"Название",VALUE:`${Z()().format("DD.MM.YYYY hh:mm")} `},USER:{NAME:"USER",VALUE:"",VALUE_ID:0},GAS_ADDRESS:{NAME:"Адрес объекта",VALUE:this.$data.address},GAS_KADASTR:{NAME:"Кадастровый номер земельного участка",VALUE:this.$data.number}};this.$pinia.state.value?.services?.form&&(this.$pinia.state.value.services.form=l,await e.set("servicesTechAlliance",JSON.stringify(l))),this.$router.push("/tabs/servicesRequestCalc")}}},computed:{formFields(){return this.$pinia.state.value?.services?.formResponse?.result?.forms.filter((e=>"Социальная газификация"===e.SERVICE.VALUE))}},mounted(){this.getForms(),console.log(this.formFields,"testtt222222")},setup(){const e=(0,V.tv)();return{router:e,documentTextOutline:I.L82}},data(){return{number:"",address:"",validation:{address:!1,number:!1},formUser:[{field:"USER_NAME",name:"Имя",type:"text",required:!0,value:"",mask:null},{field:"USER_LAST_NAME",mask:null,name:"Фамилия",type:"text",required:!0,value:""},{field:"USER_SECOND_NAME",mask:null,name:"Отчество",type:"text",required:!0,value:""},{field:"USER_BIRTHDATE",mask:"##.##.####",name:"Дата рождения",type:"text",required:!0,value:""},{field:"USER_SNILS",mask:"###-###-### ##",name:"СНИЛС",type:"text",required:!0,value:""},{field:"USER_INN",mask:"############",name:"ИНН",type:"text",required:!0,value:""},{field:"USER_BIRTHPLACE",mask:null,name:"Место рождения",type:"text",required:!0,value:""},{field:"USER_ADDRESS",mask:null,name:"Место жительства",type:"text",required:!0,value:""},{field:"USER_PHONE",mask:"+7 (###) ###-##-##",name:"Контактный телефон",type:"text",required:!0,value:""},{field:"USER_PHONE_2",mask:null,name:"Дополнительный контактный номер",type:"text",required:!1,value:""},{field:"USER_EMAIL",mask:null,name:"E-mail",type:"text",required:!0,value:""}],formPass:[{field:"USER_PASSPORT_SERIAL",name:"Серия паспорта",mask:"####",type:"text",required:!0,value:""},{field:"USER_PASSPORT_NUM",type:"text",name:"Номер паспорта",mask:"######",required:!0,value:""},{field:"USER_PASS_WHO",name:"Кем выдан",type:"text",required:!0,value:""},{field:"USER_PASS_DATE",mask:"##.##.####",name:"Дата выдачи паспорта",type:"text",required:!0,value:""},{field:"USER_REGION",name:"Место регистрации",type:"text",required:!0,value:""}],forms:[]}}}),z=a(3744);const X=(0,z.Z)(K,[["render",T],["__scopeId","data-v-1c9a68ac"]]);var J=X}}]);
//# sourceMappingURL=7805.369f2da0.js.map