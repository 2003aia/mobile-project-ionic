"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[7541],{7843:function(e,t,a){a.d(t,{s:function(){return r}});var s=a(9876),n=a(9669),o=a.n(n),i=a(3978);const r=(0,s.Q_)({id:"appeals",state:()=>({appealsListResponse:null,appealsListError:null,appealsInfoError:null,appealsInfoResponse:null,createAppealResponse:null,createMessageResponse:null,createAppealError:null,createMessageError:null,appealsCategoriesResponse:null,appealsCategoriesError:null}),getters:{getPostsPerAuthor:e=>t=>e.posts.filter((e=>e.userId===t))},actions:{async getAppealsList(e){try{this.appealsListResponse=await o().post("https://api.aostng.ru/api/v2/support/list/",{token:e}).then((e=>e.data))}catch(t){this.appealsListError=t}},async getAppealsInfo(e,t){const a=new i.K;await a.create();try{this.appealsInfoResponse=await o().post("https://api.aostng.ru/api/v2/support/detail/",{token:e,ticketId:t}).then((e=>e.data)).catch((e=>{this.appealsInfoError=e}))}catch(s){this.appealsInfoError=s}},async getAppealsCategoreis(){try{this.appealsCategoriesResponse=await o().get("https://api.aostng.ru/api/v2/support/categories/").then((e=>e.data)).catch((e=>{this.appealsCategoriesError=e}))}catch(e){this.appealsCategoriesError=e}},async createMessage(e,t,a,s){const n=new i.K;await n.create();try{this.createMessageResponse=await o().post("https://api.aostng.ru/api/v2/support/message/",{token:e,message:t,category:a,ticketId:s}).then((e=>e.data)).catch((e=>{this.createMessageError=e}))}catch(r){this.createMessageError=r}},async createAppeal(e,t,a){const s=new i.K;await s.create();try{this.createAppealResponse=await o().post("https://api.aostng.ru/api/v2/support/create/",{token:e,message:t,category:a}).then((e=>e.data)).catch((e=>{this.createAppealError=e}))}catch(n){this.createAppealError=n}}}})},783:function(e,t,a){a.d(t,{Z:function(){return p}});var s=a(6252);const n={class:"main"};function o(e,t,a,o,i,r){return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.WI)(e.$slots,"content",{},void 0,!0)])}var i=(0,s.aZ)({setup(){},name:"layoutBox",components:{},props:{btnSrc:String,filledButton:String,title:String,height:String}}),r=a(3744);const l=(0,r.Z)(i,[["render",o],["__scopeId","data-v-4246b103"]]);var p=l},7541:function(e,t,a){a.r(t),a.d(t,{default:function(){return L}});var s=a(6252),n=a(3577);const o={key:0},i=["onClick"],r={class:"item-header"},l=(0,s.Uk)(" Обращение "),p=(0,s.Uk)("Создать новое обращение"),c=(0,s.Uk)(" Обращение "),u=(0,s.Uk)("Создать новое обращение");function A(e,t,A,g,d,h){const w=(0,s.up)("Back"),m=(0,s.up)("ion-text"),f=(0,s.up)("ion-badge"),B=(0,s.up)("ion-item"),E=(0,s.up)("ion-list"),I=(0,s.up)("ion-img"),k=(0,s.up)("ion-icon"),v=(0,s.up)("ion-spinner"),C=(0,s.up)("LayoutBox"),W=(0,s.up)("Layout"),L=(0,s.up)("ion-page");return(0,s.wg)(),(0,s.j4)(L,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{onClick:t[0]||(t[0]=()=>e.checkStatus=!1),btnSrc:()=>{!1===e.checkStatus&&e.router.push("/tabs/main")}},null,8,["btnSrc"]),(0,s.Wm)(W,{height:"false",outlineBtn:".",method:()=>e.checkStatus=!1,filledBtn:".",title:"Обращение"},(0,s.Nv)({"main-content":(0,s.w5)((()=>[null!==e.appealsListResponse?((0,s.wg)(),(0,s.iD)("div",o,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.appealsListResponse?.data,(t=>((0,s.wg)(),(0,s.j4)(E,{key:t.title},{default:(0,s.w5)((()=>[(0,s._)("div",{class:"item",onClick:()=>e.router.push({name:"appealsMessages",params:t})},[(0,s._)("div",r,[(0,s.Wm)(m,{class:"title ion-text-start"},{default:(0,s.w5)((()=>[(0,s.Uk)("№"+(0,n.zw)(t.id),1)])),_:2},1024),(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(t.messages),1)])),_:2},1024)]),(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"text time"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(t.date_create),1)])),_:2},1024)])),_:2},1024)],8,i)])),_:2},1024)))),128))])):((0,s.wg)(),(0,s.iD)("div",{key:1,onClick:t[1]||(t[1]=()=>e.router.push({name:"appealsMessages",params:{newAppeal:!0}}))},[(0,s.Wm)(m,{class:"sub-title ion-text-start"},{default:(0,s.w5)((()=>[l])),_:1}),(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[(0,s.Wm)(I,{slot:"start",class:"icon-start",src:a(3671)},null,8,["src"]),(0,s.Wm)(m,{class:"sub-title"},{default:(0,s.w5)((()=>[p])),_:1}),(0,s.Wm)(k,{class:"icon-end",slot:"end",icon:e.chevronForwardOutline},null,8,["icon"])])),_:1})]))])),default:(0,s.w5)((()=>[(0,s.Wm)(v,{name:"bubbles"})])),_:2},[null!==e.appealsListResponse?{name:"content",fn:(0,s.w5)((()=>[(0,s.Wm)(C,null,{content:(0,s.w5)((()=>[(0,s._)("div",{onClick:t[2]||(t[2]=()=>e.router.push({name:"appealsMessages",params:{newAppeal:!0}}))},[(0,s.Wm)(m,{class:"sub-title ion-text-start"},{default:(0,s.w5)((()=>[c])),_:1}),(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[(0,s.Wm)(I,{slot:"start",class:"icon-start",src:a(3671)},null,8,["src"]),(0,s.Wm)(m,{class:"sub-title"},{default:(0,s.w5)((()=>[u])),_:1}),(0,s.Wm)(k,{class:"icon-end",slot:"end",icon:e.chevronForwardOutline},null,8,["icon"])])),_:1})])])),_:1})]))}:void 0]),1032,["method","filledBtn"])])),_:1})}var g=a(2262),d=a(2119),h=a(3875),w=a(783),m=a(4043),f=a(8903),B=a(8676),E=a(7843),I=a(9876),k=a(3978),v=(0,s.aZ)({name:"appealsPage",components:{IonPage:B._i,Layout:h.Z,IonText:B.yW,IonItem:B.Ie,IonList:B.q_,Back:m.Z,IonBadge:B.yp,IonIcon:B.gu,IonImg:B.Xz,IonSpinner:B.PQ,LayoutBox:w.Z},data(){return{checkStatus:!1,data2:[{title:"№3432",date:"14.04.3434",time:"12.23.43",notifications:"23"},{title:"№3432",date:"14.04.3434",time:"12.23.43",notifications:"23"},{title:"№3432",date:"14.04.3434",time:"12.23.43",notifications:"23"}]}},setup(){const e=(0,d.tv)(),t=new k.K,a=(0,g.iH)(!1),{getAppealsList:s}=(0,E.s)(),{appealsListResponse:n}=(0,I.Jk)((0,E.s)()),o=async()=>{await t.create();const e=await t.get("token"),o=JSON.parse(e).token;console.log(o,"token"),a.value=!0,await s(o).then((async()=>{await t.create(),a.value=!1,console.log("getAppealsList",n.value)}))};return(0,B.Yr)((()=>{o()})),{router:e,paperPlaneOutline:f.I88,chevronForwardOutline:f.Dji,appealsListResponse:n,loading:a}}}),C=a(3744);const W=(0,C.Z)(v,[["render",A],["__scopeId","data-v-f9dc207e"]]);var L=W},3671:function(e){e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=7541.0da9b67c.js.map