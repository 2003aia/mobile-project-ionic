{"version":3,"file":"js/8733.1b300c90.js","mappings":"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","sources":["webpack://test/./src/stores/appeals.js","webpack://test/./src/components/ButtonSelect.vue","webpack://test/./src/components/ButtonSelect.vue?a791","webpack://test/./src/views/AppealsMessages.vue","webpack://test/./src/views/AppealsMessages.vue?378b"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport axios from 'axios'\r\nimport { Storage } from '@ionic/storage'\r\n\r\nexport const useAppealsStore = defineStore({\r\n    id: 'appeals',\r\n    state: () => ({\r\n        appealsListResponse: null,\r\n        appealsListError: null,\r\n        appealsInfoError: null,\r\n        appealsInfoResponse: null,\r\n        createAppealResponse: null,\r\n        createMessageResponse: null,\r\n        createAppealError: null,\r\n        createMessageError: null,\r\n        appealsCategoriesResponse: null,\r\n        appealsCategoriesError: null,\r\n    }),\r\n    getters: {\r\n        getPostsPerAuthor: (state) => {\r\n            return (authorId) => state.posts.filter((post) => post.userId === authorId)\r\n        }\r\n    },\r\n    actions: {\r\n        async getAppealsList() {\r\n            const store = new Storage();\r\n            await store.create();\r\n            const token = await store.get('support')\r\n            try {\r\n                this.appealsListResponse = await axios.post(`https://api.aostng.ru/api/v2/support/list/`, { token: token.token })\r\n                    .then((response) => response.data)\r\n\r\n            } catch (error) {\r\n                this.appealsListError = error\r\n            }\r\n        },\r\n        async getAppealsInfo(token, ticketId) {\r\n            const store = new Storage();\r\n            await store.create();\r\n            try {\r\n                this.appealsInfoResponse = await axios.post(`https://api.aostng.ru/api/v2/support/detail/`, {\r\n                    token: token, ticketId: ticketId\r\n                })\r\n                    .then((response) => response.data).catch((e) => {\r\n                        this.appealsInfoError = e\r\n                    })\r\n            } catch (error) {\r\n                this.appealsInfoError = error\r\n            }\r\n        },\r\n        async getAppealsCategoreis() {\r\n            try {\r\n                this.appealsCategoriesResponse = await axios.get(`https://api.aostng.ru/api/v2/support/categories/`,)\r\n                    .then((response) => response.data).catch((e) => {\r\n                        this.appealsCategoriesError = e\r\n                    })\r\n            } catch (error) {\r\n                this.appealsCategoriesError = error\r\n            }\r\n        },\r\n        async createMessage(token, message, category, ticketId,) {\r\n            const store = new Storage();\r\n            await store.create();\r\n            try {\r\n                this.createMessageResponse = await axios.post(`https://api.aostng.ru/api/v2/support/message/`, {\r\n                    token: token, message: message, category: category, ticketId: ticketId\r\n                })\r\n                    .then((response) => response.data).catch((e) => {\r\n                        this.createMessageError = e\r\n                    })\r\n            } catch (error) {\r\n                this.createMessageError = error\r\n            }\r\n        },\r\n        async createAppeal(token, message, category) {\r\n            const store = new Storage();\r\n            await store.create();\r\n            try {\r\n                this.createAppealResponse = await axios.post(`https://api.aostng.ru/api/v2/support/create/`, {\r\n                    token: token, message: message, category: category\r\n                })\r\n                    .then((response) => response.data).catch((e) => {\r\n                        this.createAppealError = e\r\n                    })\r\n            } catch (error) {\r\n                this.createAppealError = error\r\n            }\r\n        }\r\n    }\r\n})","<template>\r\n  <div class=\"choose\" @click=\"btnSrc\">\r\n    <ion-text class=\"choose-text\">\r\n      {{ name }}\r\n      <ion-text class=\"dot\" v-if=\"required === true\">*</ion-text></ion-text\r\n    >\r\n    <ion-icon class=\"choose-icon\" :icon=\"caretDownSharp\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { IonIcon, IonText } from \"@ionic/vue\";\r\nimport { caretDownSharp } from \"ionicons/icons\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nexport default defineComponent({\r\n  name: \"buttonSelect\",\r\n  props: {\r\n    name: String,\r\n    btnSrc: Function,\r\n    required: Boolean,\r\n  },\r\n  components: {\r\n    IonIcon,\r\n    IonText,\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    return {\r\n      router,\r\n      caretDownSharp,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.choose {\r\n  border-radius: 8px;\r\n  width: 100%;\r\n  padding: 15px;\r\n  border: solid 1px #e0e0e0;\r\n  margin-bottom: 15px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.choose-text {\r\n  color: #9e9e9e;\r\n  font-weight: 400;\r\n}\r\n\r\n.choose-icon {\r\n  display: flex;\r\n  color: #9e9e9e;\r\n  width: 15px;\r\n  height: 15px;\r\n  margin-left: auto;\r\n}\r\n\r\n.dot {\r\n  color: #62d0ce;\r\n}\r\n</style>","import { render } from \"./ButtonSelect.vue?vue&type=template&id=793185f2&scoped=true\"\nimport script from \"./ButtonSelect.vue?vue&type=script&lang=js\"\nexport * from \"./ButtonSelect.vue?vue&type=script&lang=js\"\n\nimport \"./ButtonSelect.vue?vue&type=style&index=0&id=793185f2&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Downloads\\\\mobile-project-ionic\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-793185f2\"]])\n\nexport default __exports__","<template>\r\n  <ion-page>\r\n    <Back\r\n      @click=\"() => (checkStatus = false)\"\r\n      :btnSrc=\"\r\n        () => {\r\n          router.push('/appeals');\r\n        }\r\n      \"\r\n    />\r\n    <Layout\r\n      height=\"false\"\r\n      outlineBtn=\".\"\r\n      :method=\"() => (checkStatus = false)\"\r\n      :filledBtn=\"'.'\"\r\n      :title=\"`Мои обращения`\"\r\n    >\r\n      <template v-slot:main-content>\r\n        <ion-text class=\"title\">\r\n          {{\r\n            route.params.newAppeal\r\n              ? \"Новое обращение\"\r\n              : `Обращение №${route.params?.id ? route.params.id : \"\"}`\r\n          }}\r\n        </ion-text>\r\n\r\n        <ion-text\r\n          ><p v-show=\"!route.params.newAppeal && category\">\r\n            {{ category }}\r\n          </p></ion-text\r\n        >\r\n        <ion-accordion-group\r\n          ref=\"accordionSupport\"\r\n          v-show=\"route.params?.newAppeal\"\r\n        >\r\n          <ion-accordion :toggle-icon=\"caretDownSharp\" value=\"second\">\r\n            <ButtonSelect\r\n              class=\"btn-select\"\r\n              slot=\"header\"\r\n              :name=\"\r\n                selected?.category\r\n                  ? selected.category\r\n                  : `Выберите категорию обращения`\r\n              \"\r\n            />\r\n\r\n            <div slot=\"content\">\r\n              <ion-list\r\n                v-for=\"el in appealsCategoriesResponse?.data\"\r\n                :key=\"el?.id\"\r\n              >\r\n                <ion-item\r\n                  @click=\"\r\n                    () => {\r\n                      this.$refs.accordionSupport.$el.value = undefined;\r\n                      selectCategorie(el);\r\n                    }\r\n                  \"\r\n                >\r\n                  <ion-text class=\"sub-title\">{{ el?.category }}</ion-text>\r\n                </ion-item>\r\n              </ion-list>\r\n            </div>\r\n          </ion-accordion>\r\n        </ion-accordion-group>\r\n        <div\r\n          v-show=\"(route.params.title && appealsInfoMessages) || supportCreate\"\r\n        >\r\n          <div v-for=\"el in appealsInfoMessages\" :key=\"el.id\">\r\n            <div class=\"message\" v-if=\"el.support_message == false\">\r\n              <div class=\"message-main\">\r\n                <ion-text>{{ el.message }}</ion-text>\r\n              </div>\r\n              <div class=\"message-footer\">\r\n                <ion-text class=\"message-text\">{{ el.date_create }}</ion-text>\r\n              </div>\r\n            </div>\r\n            <div class=\"message-left\" v-if=\"el.support_message == true\">\r\n              <div class=\"message-main\">\r\n                <ion-text>\r\n                  {{ el.message }}\r\n                </ion-text>\r\n              </div>\r\n              <div class=\"message-footer\">\r\n                <ion-text class=\"message-text\">{{ el.date_create }}</ion-text>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <ion-spinner name=\"bubbles\" />\r\n    </Layout>\r\n\r\n    <div class=\"input-container\">\r\n      <ion-item lines=\"none\" class=\"input-wrapper\">\r\n        <label for=\"file\">\r\n          <input\r\n            :value=\"files.value\"\r\n            @change=\"filesChange\"\r\n            class=\"input-file\"\r\n            multiple\r\n            id=\"file\"\r\n            type=\"file\"\r\n          />\r\n\r\n          <ion-img\r\n            class=\"input-icon-left\"\r\n            :src=\"require('@/assets/img/scrape.png')\"\r\n          ></ion-img>\r\n        </label>\r\n\r\n        <ion-input\r\n          :value=\"message.value\"\r\n          @input=\"messageChange\"\r\n          class=\"input\"\r\n          placeholder=\"Напишите сообщение\"\r\n        />\r\n        <ion-img\r\n          @click=\"\r\n            () => {\r\n              route.params?.newAppeal && !supportCreate\r\n                ? createAppealHandler()\r\n                : createMessageHandler();\r\n            }\r\n          \"\r\n          class=\"input-icon\"\r\n          slot=\"end\"\r\n          :src=\"require('@/assets/img/send.png')\"\r\n        ></ion-img>\r\n      </ion-item>\r\n      <div class=\"chip-container\" v-if=\"files\">\r\n        <ion-chip>\r\n          <ion-text>{{ files }}</ion-text>\r\n          <ion-icon :icon=\"close\"></ion-icon>\r\n        </ion-chip>\r\n      </div>\r\n    </div>\r\n  </ion-page>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport Layout from \"../components/Layout.vue\";\r\nimport Back from \"../components/Back.vue\";\r\nimport ButtonSelect from \"../components/ButtonSelect.vue\";\r\nimport { caretDownSharp, close } from \"ionicons/icons\";\r\nimport {\r\n  IonPage,\r\n  IonText,\r\n  IonItem,\r\n  IonAccordion,\r\n  IonAccordionGroup,\r\n  IonImg,\r\n  IonList,\r\n  IonChip,\r\n  IonIcon,\r\n  onIonViewDidEnter,\r\n  IonSpinner,\r\n  IonInput,\r\n} from \"@ionic/vue\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { Storage } from \"@ionic/storage\";\r\nimport { useAppealsStore } from \"../stores/appeals\";\r\nimport moment from \"moment\";\r\n\r\nexport default defineComponent({\r\n  name: \"appealsMessages\",\r\n  components: {\r\n    IonPage,\r\n    Layout,\r\n    IonText,\r\n    Back,\r\n    IonItem,\r\n    ButtonSelect,\r\n    IonAccordion,\r\n    IonImg,\r\n    IonList,\r\n    IonInput,\r\n    IonChip,\r\n    IonIcon,\r\n    IonSpinner,\r\n    IonAccordionGroup,\r\n  },\r\n  data() {\r\n    return {\r\n      checkStatus: false,\r\n      newAppeal: false,\r\n      categories: [\r\n        {\r\n          name: \"Вопросы по подключению (технологического подключения)\",\r\n        },\r\n        {\r\n          name: \"Вопросы по договорам поставки газа для физических лиц\",\r\n        },\r\n        {\r\n          name: \"Вопросы по подключению (технологического подключения)\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n    const selected = ref(\"\");\r\n    const store = new Storage();\r\n    const category = ref(\"\");\r\n    const appealsInfoMessages = ref([]);\r\n    const {\r\n      appealsCategoriesResponse,\r\n      // createAppealResponse,\r\n      appealsInfoResponse,\r\n      createMessageResponse,\r\n    } = storeToRefs(useAppealsStore());\r\n    const {\r\n      getAppealsCategoreis,\r\n      createAppeal,\r\n      getAppealsInfo,\r\n      createMessage,\r\n    } = useAppealsStore();\r\n    let message = ref(\"\");\r\n    let files = ref(\"\");\r\n    let supportCreate = ref(false);\r\n\r\n    const selectCategorie = (props) => {\r\n      selected.value = props;\r\n    };\r\n\r\n    const getAppealsCategoreisHandler = () => {\r\n      getAppealsCategoreis().then(() => {\r\n        appealsCategoriesResponse.value?.data.filter((value) => {\r\n          if (value.id === parseInt(route.params.category_id))\r\n            category.value = value.category;\r\n        });\r\n      });\r\n    };\r\n    const getAppealsInfoHandler = async () => {\r\n      await store.create();\r\n      const storeValue = await store.get(\"support\");\r\n      const token = storeValue.token;\r\n      if (route.params?.id) {\r\n        getAppealsInfo(token, route.params?.id).then(() => {\r\n          appealsInfoMessages.value = appealsInfoResponse.value?.data.reverse();\r\n        });\r\n      }\r\n    };\r\n    const createAppealHandler = async () => {\r\n      await store.create();\r\n      const storeValue = await store.get(\"support\");\r\n      const token = storeValue.token;\r\n      if (message.value !== \"\" && selected.value?.id) {\r\n        createAppeal(token, message.value, selected.value?.id).then(() => {\r\n          supportCreate.value = true;\r\n          appealsInfoMessages.value = [\r\n            {\r\n              support_message: false,\r\n              message: message.value,\r\n              date_create: moment().format(\"DD.MM.YYYY hh:ss\"),\r\n            },\r\n          ];\r\n        });\r\n      }\r\n    };\r\n    const createMessageHandler = async () => {\r\n      await store.create();\r\n      const storeValue = await store.get(\"support\");\r\n      const token = storeValue.token;\r\n      if (message.value !== \"\") {\r\n        createMessage(\r\n          token,\r\n          message.value,\r\n          route.params.category_id,\r\n          route.params.id\r\n        ).then(() => {\r\n          appealsInfoMessages.value.push({\r\n            support_message: false,\r\n            message: message.value,\r\n            date_create: moment().format(\"DD.MM.YYYY hh:ss\"),\r\n          });\r\n          console.log(\"test\", createMessageResponse.value);\r\n        });\r\n      }\r\n    };\r\n    const messageChange = (e) => {\r\n      message.value = e.currentTarget.value;\r\n    };\r\n\r\n    const filesChange = (e) => {\r\n      console.log(e, \"files onchange\");\r\n      files.value = e.currentTarget.value;\r\n    };\r\n\r\n    onIonViewDidEnter(() => {\r\n      getAppealsCategoreisHandler();\r\n      getAppealsInfoHandler();\r\n    });\r\n    return {\r\n      supportCreate,\r\n      router,\r\n      route,\r\n      messageChange,\r\n      message,\r\n      files,\r\n      filesChange,\r\n      caretDownSharp,\r\n      close,\r\n      selectCategorie,\r\n      createAppealHandler,\r\n      createMessageHandler,\r\n      selected,\r\n      category,\r\n      appealsInfoMessages,\r\n      appealsCategoriesResponse,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.btn-support {\r\n  --padding-start: 0;\r\n  --padding-end: 0;\r\n}\r\n.btn-select {\r\n  /* background: green; */\r\n  margin-top: 10px;\r\n}\r\n.message-left .message-main {\r\n  margin-left: 0;\r\n  background: #0378b4;\r\n  border-radius: 10px 10px 10px 0px;\r\n}\r\n.message-left {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n}\r\n.message-left .message-main ion-text {\r\n  color: #fff;\r\n}\r\n.message-left .message-footer {\r\n  width: 100%;\r\n}\r\n.message-main {\r\n  background: #eaeaea;\r\n  padding: 10px;\r\n  width: fit-content;\r\n  margin-left: auto;\r\n  border-radius: 10px 10px 0px 10px;\r\n}\r\n.message-main ion-text {\r\n  color: #000;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  overflow-wrap: anywhere;\r\n  line-height: 20px;\r\n}\r\n.message-footer {\r\n  width: fit-content;\r\n  margin-left: auto;\r\n  margin-top: 10px;\r\n  margin-bottom: 20px;\r\n}\r\n.message-text {\r\n  margin-right: 10px;\r\n}\r\n.input-icon {\r\n  width: 30px;\r\n  height: 30px;\r\n  margin-right: 10px;\r\n  margin-left: 10px;\r\n}\r\n.input-icon-left {\r\n  margin-left: 10px;\r\n  width: 30px;\r\n  height: 30px;\r\n\r\n  margin-right: 10px;\r\n}\r\n.input {\r\n  border: none;\r\n  width: 100%;\r\n  padding: 22px 0px 22px 10px;\r\n  margin-bottom: 0;\r\n}\r\n.input:focus {\r\n  outline: none !important;\r\n  caret-color: #000;\r\n}\r\n\r\n.input-wrapper {\r\n  --padding-bottom: 0;\r\n}\r\n\r\n.input-container {\r\n  background: #fff;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n}\r\n\r\nion-chip {\r\n  background: #f3f6fa;\r\n  border-radius: 4px;\r\n  padding: 13px;\r\n  margin-bottom: 5px;\r\n  margin-left: 5px;\r\n}\r\n.chip-container {\r\n  padding: 0px 15px 5px 15px;\r\n}\r\n\r\nion-chip ion-text {\r\n  color: #7f8da8;\r\n  font-size: 12px;\r\n  font-weight: 400;\r\n}\r\nion-chip ion-icon {\r\n  color: #3f64a9;\r\n  width: 16px;\r\n  height: 16px;\r\n}\r\n\r\n.title {\r\n  margin-bottom: 10px;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  margin-bottom: 0px;\r\n}\r\n.input-file[type=\"file\"] {\r\n  display: none;\r\n}\r\n\r\nion-spinner {\r\n  top: -20px;\r\n}\r\n.loading {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n</style>\r\n","import { render } from \"./AppealsMessages.vue?vue&type=template&id=2208129d&scoped=true\"\nimport script from \"./AppealsMessages.vue?vue&type=script&lang=js\"\nexport * from \"./AppealsMessages.vue?vue&type=script&lang=js\"\n\nimport \"./AppealsMessages.vue?vue&type=style&index=0&id=2208129d&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Downloads\\\\mobile-project-ionic\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2208129d\"]])\n\nexport default __exports__"],"names":["useAppealsStore","defineStore","id","state","appealsListResponse","appealsListError","appealsInfoError","appealsInfoResponse","createAppealResponse","createMessageResponse","createAppealError","createMessageError","appealsCategoriesResponse","appealsCategoriesError","getters","getPostsPerAuthor","authorId","posts","filter","post","userId","actions","async","store","Storage","create","token","get","this","axios","then","response","data","error","ticketId","catch","e","message","category","_createElementBlock","class","onClick","_ctx","_createVNode","_component_ion_text","_createBlock","_component_ion_icon","icon","defineComponent","name","props","String","btnSrc","Function","required","Boolean","components","IonIcon","IonText","setup","router","useRouter","caretDownSharp","__exports__","render","slot","for","_component_ion_page","_component_Back","push","_component_Layout","height","outlineBtn","method","filledBtn","title","_withCtx","params","newAppeal","_createElementVNode","_toDisplayString","_component_ion_accordion_group","ref","_component_ion_accordion","value","_component_ButtonSelect","_Fragment","_renderList","el","_component_ion_list","key","_component_ion_item","$refs","accordionSupport","$el","undefined","support_message","date_create","_component_ion_spinner","lines","onChange","multiple","type","_component_ion_img","src","require","_component_ion_input","onInput","placeholder","_component_ion_chip","IonPage","Layout","Back","IonItem","ButtonSelect","IonAccordion","IonImg","IonList","IonInput","IonChip","IonSpinner","IonAccordionGroup","checkStatus","categories","route","useRoute","selected","appealsInfoMessages","storeToRefs","getAppealsCategoreis","createAppeal","getAppealsInfo","createMessage","files","supportCreate","selectCategorie","getAppealsCategoreisHandler","parseInt","category_id","getAppealsInfoHandler","storeValue","reverse","createAppealHandler","moment","format","createMessageHandler","console","log","messageChange","currentTarget","filesChange","onIonViewDidEnter","close"],"sourceRoot":""}