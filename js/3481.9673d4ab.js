"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[3481],{3698:function(t,e,n){n.d(e,{G:function(){return s}});var i=n(9876),o=n(9669),a=n.n(o);const s=(0,i.Q_)({id:"notice",state:()=>({notice:[],noticeDetail:null,noticeError:null}),getters:{getPostsPerAuthor:t=>e=>t.posts.filter((t=>t.userId===e))},actions:{async fetchNotice(t){this.notice=[];try{this.notice=await a().get(`https://aostng.ru/api/v2/notice/all/page/${t}/`).then((t=>t.data))}catch(e){this.noticeError=e}},async fetchNoticeDetail(t){this.noticeDetail=null;try{this.noticeDetail=await a().get(`https://aostng.ru/api/v2/notice/${t}}/`).then((t=>t.data))}catch(e){this.noticeError=e}}}})},1745:function(t,e,n){n.d(e,{Z:function(){return f}});var i=n(6252),o=n(3577);const a={class:"item"},s={class:"img-wrapper"},l={class:"content"},r={class:"title ion-text-start"},c=["innerHTML"];function u(t,e,n,u,d,m){const p=(0,i.up)("ion-img"),g=(0,i.up)("ion-text"),f=(0,i.up)("ion-item");return(0,i.wg)(),(0,i.j4)(f,{lines:"none","router-link":t.name},{default:(0,i.w5)((()=>[(0,i._)("div",a,[(0,i._)("div",s,[null!==t.imgsrc?((0,i.wg)(),(0,i.j4)(p,{key:0,src:t.imgsrc},null,8,["src"])):(0,i.kq)("",!0)]),(0,i._)("div",l,[(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i._)("p",null,(0,o.zw)(t.date),1)])),_:1}),(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i._)("p",r,(0,o.zw)(t.main_title),1)])),_:1}),(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i._)("p",{innerHTML:t.sub_title},null,8,c)])),_:1})])])])),_:1},8,["router-link"])}var d=n(8676),m=(0,i.aZ)({name:"newsItemComponent",props:{date:String,imgsrc:String,name:String,main_title:String,sub_title:String,text:String},components:{IonText:d.yW,IonItem:d.Ie,IonImg:d.Xz}}),p=n(3744);const g=(0,p.Z)(m,[["render",u],["__scopeId","data-v-fa4a756c"]]);var f=g},3481:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var i=n(6252);const o=t=>((0,i.dD)("data-v-d3c62e80"),t=t(),(0,i.Cn)(),t),a={class:"container"},s={class:"button-wrapper"},l=o((()=>(0,i._)("p",{class:"main-title"},"Объявления",-1))),r={key:0};function c(t,e,n,o,c,u){const d=(0,i.up)("Button"),m=(0,i.up)("ion-text"),p=(0,i.up)("NewsItem"),g=(0,i.up)("ion-infinite-scroll-content"),f=(0,i.up)("ion-infinite-scroll"),w=(0,i.up)("ion-spinner"),_=(0,i.up)("ion-content"),h=(0,i.up)("ion-page");return(0,i.wg)(),(0,i.j4)(h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(_,{class:"background"},{default:(0,i.w5)((()=>[(0,i._)("div",a,[(0,i._)("div",s,[(0,i.Wm)(d,{class:"btn",name:"Новости",grey:t.newsButton,onClick:t.newsHandler,"router-link":"/tabs/main"},null,8,["grey","onClick"]),(0,i.Wm)(d,{class:"btn",name:"Объявления",grey:t.adsButton,onClick:t.adsHandler,"router-link":"/tabs/ads"},null,8,["grey","onClick"])]),(0,i.Wm)(m,{class:"main-title"},{default:(0,i.w5)((()=>[l])),_:1}),!1===t.loading?((0,i.wg)(),(0,i.iD)("div",r,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.list,(e=>((0,i.wg)(),(0,i.j4)(p,{key:e?.id,date:e?.date,main_title:e?.name,sub_title:e?.preview,text:e?.preview,onClick:()=>{t.router.push({name:"newsPage",params:{id:e.id,for:"notice"}})},imgsrc:e?.image},null,8,["date","main_title","sub_title","text","onClick","imgsrc"])))),128)),(0,i.Wm)(f,{threshold:"100px",id:"infinite-scroll"},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{"loading-spinner":"bubbles"})])),_:1})])):((0,i.wg)(),(0,i.j4)(w,{key:1,name:"bubbles"}))])])),_:1})])),_:1})}var u=n(2262),d=n(8903),m=n(8676),p=n(1558),g=n(1745),f=n(2119),w=n(3698),_=n(9876),h=(0,i.aZ)({name:"tabAdsPage",data(){return{adsButton:!1,newsButton:!0,ads:[{img:"",main_title:"Якутия. Еженедельный дайджест новостей газификации",sub_title:"Главные новости АО «Сахатранснефтегаз» за неделю с 9 по 15 мая – в еженедельном дайджесте газификации. ",text:"Lorem1",id:1,date:"16.05.2022"},{img:"https://studio.everypixel.com/ru/blog/wp-content/uploads/2015/03/Funny-Stock-Unfinished-Business-6.jpg",main_title:"Якутия. Еженедельный дайджест новостей газификации",sub_title:"Главные новости АО «Сахатранснефтегаз» за неделю с 9 по 15 мая – в еженедельном дайджесте газификации. ",text:"Lorem2",id:2,date:"16.05.2022"},{main_title:"Якутия. Еженедельный дайджест новостей газификации",img:"https://studio.everypixel.com/ru/blog/wp-content/uploads/2015/03/Funny-Stock-Unfinished-Business-6.jpg",sub_title:"Главные новости АО «Сахатранснефтегаз» за неделю с 9 по 15 мая – в еженедельном дайджесте газификации. ",text:"Lorem3",id:3,date:"16.05.2022"}]}},setup(){const t=(0,f.tv)(),{fetchNotice:e}=(0,w.G)(),{notice:n}=(0,_.Jk)((0,w.G)());let i=0,o=(0,u.iH)([]),a=(0,u.iH)(!1);const s=t=>{i+=1,a.value=!0,e(i).then((()=>{a.value=!1;for(let t=0;t<n.value.data.length;t++){const e=n.value.data[t];o.value.push(e)}t?.target?.complete(),console.log(n.value,"//test fetching notice")}))};return(0,m.Yr)((()=>{s()})),{router:t,list:o,loading:a,fetchMoreNotice:s,airplaneOutline:d.TTc}},methods:{newsHandler:function(){console.log("mews")},adsHandler:function(){this.adsButton=!1,this.newsButton=!0,console.log("ads")}},components:{IonPage:m._i,IonContent:m.W2,Button:p.Z,NewsItem:g.Z,IonText:m.yW,IonInfiniteScroll:m.ju,IonInfiniteScrollContent:m.MB,IonSpinner:m.PQ}}),v=n(3744);const b=(0,v.Z)(h,[["render",c],["__scopeId","data-v-d3c62e80"]]);var k=b}}]);
//# sourceMappingURL=3481.9673d4ab.js.map