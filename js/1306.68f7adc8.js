"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[1306],{7698:function(e,t,l){l.d(t,{O:function(){return s}});var a=l(1575),n=l(9669),o=l.n(n);const s=(0,a.Q_)({id:"profile",state:()=>({profileResponse:null,profileError:null,editProfileError:null,editProfileResponse:null}),getters:{getPostsPerAuthor:e=>t=>e.posts.filter((e=>e.userId===t))},actions:{async getProfile(e){try{this.profileResponse=await o().post("https://api.aostng.ru/api/v2/user/profile/get/",{token:e}).then((e=>e.data))}catch(t){this.profileError=t}},async editProfile(e,t,l,a){try{this.editProfileResponse=await o().post("https://api.aostng.ru/api/v2/user/profile/set/",{token:e,firstName:t,lastName:l,email:a}).then((e=>e.data)).catch((e=>{this.editProfileError=e}))}catch(n){this.editProfileError=n}}}})},1306:function(e,t,l){l.r(t),l.d(t,{default:function(){return N}});var a=l(6252),n=l(3577);const o=e=>((0,a.dD)("data-v-505028e4"),e=e(),(0,a.Cn)(),e),s=o((()=>(0,a._)("p",{class:"title ion-text-start"},"Мои данные",-1))),r={class:"sub-title"},i=o((()=>(0,a._)("p",null,"Имя",-1))),u={class:"sub-title"},p=o((()=>(0,a._)("p",null,"Фамилия",-1))),f={class:"sub-title"},d=o((()=>(0,a._)("p",null,"Отчество",-1))),c={class:"sub-title"},m=o((()=>(0,a._)("p",null,"Электронная почта",-1))),_={class:"sub-title"},h=o((()=>(0,a._)("p",null,"Контактный телефон",-1)));function w(e,t,l,o,w,W){const g=(0,a.up)("Back"),P=(0,a.up)("ion-text"),k=(0,a.up)("ion-item"),v=(0,a.up)("ion-list"),y=(0,a.up)("Layout"),R=(0,a.up)("ion-page");return(0,a.wg)(),(0,a.j4)(R,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g),(0,a.Wm)(y,{height:"false",method:()=>{e.router.push("/profileEdit")},method2:()=>{e.router.push("/profileSend")},filledBtn:"Редактировать",title:"Личный кабинет",outlineBtn:"Изменить пароль"},{"main-content":(0,a.w5)((()=>[(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[s])),_:1}),(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a._)("p",r,(0,n.zw)(e.profileResponse?.data?.firstName),1),i])),_:1})])),_:1}),(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a._)("p",u,(0,n.zw)(e.profileResponse?.data?.lastName),1),p])),_:1})])),_:1}),(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a._)("p",f,(0,n.zw)(e.data.secondname),1),d])),_:1})])),_:1}),(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a._)("p",c,(0,n.zw)(e.profileResponse?.data?.email),1),m])),_:1})])),_:1}),(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a._)("p",_,(0,n.zw)(e.data.phone),1),h])),_:1})])),_:1})])),_:1})])),_:1},8,["method","method2"])])),_:1})}var W=l(2119),g=l(1019),P=l(4043),k=l(297),v=l(3978),y=l(1575),R=l(7698),E=(0,a.aZ)({name:"profilePage",data(){return{codeSent:!1,edit:!1,data:{name:"Иван",surname:"Иванов",secondname:"Иванович",email:"Pochta@mail.ru",phone:"+7(996)-915-88-31"}}},components:{IonPage:k._i,Back:P.Z,Layout:g.Z,IonList:k.q_,IonItem:k.Ie,IonText:k.yW},setup(){const e=(0,W.tv)(),t=new v.K,{profileResponse:l,profileError:a}=(0,y.Jk)((0,R.O)()),{getProfile:n}=(0,R.O)(),o=async()=>{await t.create();const e=await t.get("token");n(JSON.parse(e)?.token).then((async()=>{await t.set("profileData",JSON.stringify(l.value.data))}))};return(0,k.KA)((()=>{o()})),{router:e,profileResponse:l,profileError:a}}}),I=l(3744);const b=(0,I.Z)(E,[["render",w],["__scopeId","data-v-505028e4"]]);var N=b}}]);
//# sourceMappingURL=1306.68f7adc8.js.map