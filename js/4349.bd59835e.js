"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[4349],{7843:function(t,e,a){a.d(e,{s:function(){return r}});var s=a(1575),n=a(9669),o=a.n(n),i=a(3978);const r=(0,s.Q_)({id:"appeals",state:()=>({appealsListResponse:null,appealsListError:null,appealsInfoError:null,appealsInfoResponse:null,createAppealResponse:null,createMessageResponse:null,createAppealError:null,createMessageError:null,appealsCategoriesResponse:null,appealsCategoriesError:null}),getters:{getPostsPerAuthor:t=>e=>t.posts.filter((t=>t.userId===e))},actions:{async getAppealsList(t){try{this.appealsListResponse=await o().post("https://api.aostng.ru/api/v2/support/list/",{token:t}).then((t=>t.data))}catch(e){this.appealsListError=e}},async getAppealsInfo(t,e){const a=new i.K;await a.create();try{this.appealsInfoResponse=await o().post("https://api.aostng.ru/api/v2/support/detail/",{token:t,ticketId:e}).then((t=>t.data)).catch((t=>{this.appealsInfoError=t}))}catch(s){this.appealsInfoError=s}},async getAppealsCategoreis(){try{this.appealsCategoriesResponse=await o().get("https://api.aostng.ru/api/v2/support/categories/").then((t=>t.data)).catch((t=>{this.appealsCategoriesError=t}))}catch(t){this.appealsCategoriesError=t}},async createMessage(t,e,a,s){const n=new i.K;await n.create();try{this.createMessageResponse=await o().post("https://api.aostng.ru/api/v2/support/message/",{token:t,message:e,category:a,ticketId:s}).then((t=>t.data)).catch((t=>{this.createMessageError=t}))}catch(r){this.createMessageError=r}},async createAppeal(t,e,a){const s=new i.K;await s.create();try{this.createAppealResponse=await o().post("https://api.aostng.ru/api/v2/support/create/",{token:t,message:e,category:a}).then((t=>t.data)).catch((t=>{this.createAppealError=t}))}catch(n){this.createAppealError=n}}}})},783:function(t,e,a){a.d(e,{Z:function(){return l}});var s=a(6252);const n={class:"main"};function o(t,e,a,o,i,r){return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.WI)(t.$slots,"content",{},void 0,!0)])}var i=(0,s.aZ)({setup(){},name:"layoutBox",components:{},props:{btnSrc:String,filledButton:String,title:String,height:String}}),r=a(3744);const p=(0,r.Z)(i,[["render",o],["__scopeId","data-v-4246b103"]]);var l=p},4349:function(t,e,a){a.r(e),a.d(e,{default:function(){return S}});var s=a(6252),n=a(3577);const o={key:0},i=["onClick"],r={class:"item-header"},p={key:1,class:"loading"},l=(0,s.Uk)(" Обращение "),c=(0,s.Uk)("Создать новое обращение");function u(t,e,u,A,g,h){const d=(0,s.up)("Back"),w=(0,s.up)("ion-text"),B=(0,s.up)("ion-badge"),m=(0,s.up)("ion-item"),E=(0,s.up)("ion-list"),I=(0,s.up)("ion-spinner"),f=(0,s.up)("ion-img"),k=(0,s.up)("ion-icon"),C=(0,s.up)("LayoutBox"),S=(0,s.up)("Layout"),L=(0,s.up)("ion-page");return(0,s.wg)(),(0,s.j4)(L,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{onClick:e[0]||(e[0]=()=>t.checkStatus=!1),btnSrc:()=>{!1===t.checkStatus&&t.router.push("/tabs/main")}},null,8,["btnSrc"]),(0,s.Wm)(S,{height:"false",outlineBtn:".",method:()=>t.checkStatus=!1,filledBtn:".",title:"Обращение"},{"main-content":(0,s.w5)((()=>[t.appealsListResponse?.data?((0,s.wg)(),(0,s.iD)("div",o,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.appealsListResponse?.data,(e=>((0,s.wg)(),(0,s.j4)(E,{key:e.title},{default:(0,s.w5)((()=>[(0,s._)("div",{class:"item",onClick:()=>t.router.push({name:"appealsMessages",params:e})},[(0,s._)("div",r,[(0,s.Wm)(w,{class:"title ion-text-start"},{default:(0,s.w5)((()=>[(0,s.Uk)("№"+(0,n.zw)(e.id),1)])),_:2},1024),(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.messages),1)])),_:2},1024)]),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"text time"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.date_create),1)])),_:2},1024)])),_:2},1024)],8,i)])),_:2},1024)))),128))])):((0,s.wg)(),(0,s.iD)("div",p,[(0,s.Wm)(I,{name:"bubbles"})]))])),content:(0,s.w5)((()=>[(0,s.Wm)(C,null,{content:(0,s.w5)((()=>[(0,s._)("div",{onClick:e[1]||(e[1]=()=>t.router.push({name:"appealsMessages",params:{newAppeal:!0}}))},[(0,s.Wm)(w,{class:"sub-title ion-text-start"},{default:(0,s.w5)((()=>[l])),_:1}),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(f,{slot:"start",class:"icon-start",src:a(3671)},null,8,["src"]),(0,s.Wm)(w,{class:"sub-title"},{default:(0,s.w5)((()=>[c])),_:1}),(0,s.Wm)(k,{class:"icon-end",slot:"end",icon:t.chevronForwardOutline},null,8,["icon"])])),_:1})])])),_:1})])),_:1},8,["method","filledBtn"])])),_:1})}var A=a(2119),g=a(1019),h=a(783),d=a(4043),w=a(8903),B=a(297),m=a(7843),E=a(1575),I=a(3978),f=(0,s.aZ)({name:"appealsPage",components:{IonPage:B._i,Layout:g.Z,IonText:B.yW,IonItem:B.Ie,IonList:B.q_,Back:d.Z,IonBadge:B.yp,IonIcon:B.gu,IonImg:B.Xz,IonSpinner:B.PQ,LayoutBox:h.Z},data(){return{checkStatus:!1,data2:[{title:"№3432",date:"14.04.3434",time:"12.23.43",notifications:"23"},{title:"№3432",date:"14.04.3434",time:"12.23.43",notifications:"23"},{title:"№3432",date:"14.04.3434",time:"12.23.43",notifications:"23"}]}},setup(){const t=(0,A.tv)(),e=new I.K,{getAppealsList:a}=(0,m.s)(),{appealsListResponse:s}=(0,E.Jk)((0,m.s)()),n=async()=>{await e.create();const t=await e.get("token"),n=JSON.parse(t).token;await a(n).then((async()=>{await e.create(),console.log("getAppealsList",s.value)}))};return(0,B.Yr)((()=>{n()})),{router:t,paperPlaneOutline:w.I88,chevronForwardOutline:w.Dji,appealsListResponse:s}}}),k=a(3744);const C=(0,k.Z)(f,[["render",u],["__scopeId","data-v-3b12dc47"]]);var S=C},3671:function(t){t.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=4349.bd59835e.js.map