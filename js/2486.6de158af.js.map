{"version":3,"file":"js/2486.6de158af.js","mappings":"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","sources":["webpack://test/./src/stores/services.js","webpack://test/./src/views/ServicesCallInspector.vue","webpack://test/./src/views/ServicesCallInspector.vue?c451"],"sourcesContent":["import { defineStore } from \"pinia\";\r\nimport axios from \"axios\";\r\nimport { Storage } from \"@ionic/storage\";\r\n\r\nexport const useServicesStore = defineStore({\r\n  id: \"services\",\r\n  state: () => ({\r\n    formResponse: null,\r\n    formResponseError: null,\r\n    callInspectorResponse: null,\r\n    callInspectorError: null,\r\n    servicesResponse: null,\r\n    servicesResponseError: null,\r\n    form: [],\r\n    select: [],\r\n  }),\r\n  getters: {\r\n    setForm: (state) => {\r\n      return (value) => [...state.form, ...value];\r\n    },\r\n  },\r\n  actions: {\r\n    async getForms() {\r\n      console.log(\"getting forms\");\r\n      try {\r\n        await axios\r\n          .get(\r\n            `https://aostng.ru/api/?action=getAll&format=json&page=3&limit=20`\r\n          )\r\n          .then((response) => (this.formResponse = response.data));\r\n      } catch (error) {\r\n        this.formResponseError = error;\r\n      }\r\n    },\r\n    async services(forms) {\r\n      console.log(\"services\");\r\n      try {\r\n        await axios\r\n          .post(`https://fhd.aostng.ru/vesta_storage/hs/API_STNG/V2/Services`, {\r\n            status: [\r\n              {\r\n                CODE: \"24\",\r\n                VALUE: \"Требуется документ\",\r\n              },\r\n            ],\r\n            forms: forms,\r\n          })\r\n          .then((response) => (this.servicesResponse = response.data));\r\n      } catch (error) {\r\n        this.servicesResponseError = error;\r\n      }\r\n    },\r\n    async callInspector(lc, phone) {\r\n      try {\r\n        const store = new Storage();\r\n        await store.create();\r\n        const token = await store.get(\"token\");\r\n        const tokenParsed = JSON.parse(token).token;\r\n        await axios\r\n          .post(\r\n            `https://fhd.aostng.ru/vesta_storage/hs/API_STNG/V2/CallInspector`,\r\n            { token: tokenParsed, LC: lc, phone: phone }\r\n          )\r\n          .then((response) => (this.callInspectorResponse = response.data));\r\n      } catch (error) {\r\n        this.callInspectorError = error;\r\n      }\r\n    },\r\n  },\r\n});\r\n","<template>\r\n  <ion-page>\r\n    <!-- btnSrc=\"/tabs/servicesGasContractCheckbox\" -->\r\n\r\n    <Back :btnSrc=\"() => router.push('/tabs/services')\" />\r\n    <Layout\r\n      :loading=\"loading\"\r\n      :method=\"callInspectorHandler\"\r\n      height=\"false\"\r\n      filledBtn=\"Далее\"\r\n      outlineBtn=\".\"\r\n      title=\"Вызов инспектора\"\r\n    >\r\n      <!-- <template v-slot:header-content>\r\n        <ion-text>\r\n          <p class=\"text-20-600\">Общие сведения заявления</p>\r\n        </ion-text>\r\n      </template> -->\r\n      <template v-slot:main-content>\r\n        <ion-text>\r\n          <p class=\"title ion-text-start\">Данные заявителя</p>\r\n          <p>\r\n            <ion-text class=\"dot\">*</ion-text> - обязательное поле для\r\n            заполнения.\r\n          </p>\r\n        </ion-text>\r\n\r\n        <ion-accordion-group ref=\"accordionCallInspector\">\r\n          <ion-accordion value=\"first\" :toggle-icon=\"caretDownSharp\">\r\n            <div slot=\"header\">\r\n              <Input\r\n                :value=\"lc\"\r\n                :changeHandler=\"changeLc\"\r\n                name=\"Укажите лицевой счет \"\r\n                :required=\"true\"\r\n              />\r\n            </div>\r\n            <div slot=\"content\">\r\n              <ion-list v-for=\"el in licsList\" :key=\"el\">\r\n                <ion-item\r\n                >\r\n                  <ion-text>{{ el }}</ion-text>\r\n                </ion-item>\r\n              </ion-list>\r\n            </div>\r\n          </ion-accordion>\r\n        </ion-accordion-group>\r\n\r\n        <Input\r\n          name=\"Укажите номер телефона \"\r\n          :value=\"phone\"\r\n          :changeHandler=\"changePhone\"\r\n        />\r\n        <ion-text v-if=\"error\">\r\n          <p class=\"ion-text-start error\">\r\n            {{ error }}\r\n          </p>\r\n        </ion-text>\r\n        <ion-text v-if=\"response\">\r\n          <p class=\"ion-text-start blue\">\r\n            {{ response }}\r\n          </p>\r\n        </ion-text>\r\n      </template>\r\n    </Layout>\r\n  </ion-page>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Layout from \"../components/Layout.vue\";\r\nimport { IonPage, IonText } from \"@ionic/vue\";\r\nimport Input from \"../components/Input.vue\";\r\nimport Back from \"../components/Back.vue\";\r\nimport { mapActions } from \"pinia\";\r\nimport { useServicesStore } from \"../stores/services\";\r\nimport { caretDownSharp } from \"ionicons/icons\";\r\n\r\nexport default defineComponent({\r\n  name: \"servicesCallInspector\",\r\n  components: {\r\n    IonPage,\r\n    Layout,\r\n    IonText,\r\n    Input,\r\n    Back,\r\n  },\r\n  data() {\r\n    return {\r\n      phone: \"\",\r\n      lc: \"\",\r\n      error: \"\",\r\n      loading: false,\r\n    };\r\n  },\r\n  computed: {\r\n    response() {\r\n      return this.$pinia.state.value?.services?.callInspectorResponse?.message;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(useServicesStore, [\"callInspector\"]),\r\n    callInspectorHandler() {\r\n      if (this.$data.lc !== \"\") {\r\n        this.$data.loading = true;\r\n        this.$data.error = \"\";\r\n        const callInspector = new Promise((resolve) => {\r\n          resolve(this.callInspector(this.$data.lc, this.$data.phone));\r\n        });\r\n        callInspector.then(() => {\r\n          this.$data.loading = false;\r\n        });\r\n      } else {\r\n        this.$data.error = \"Заполните поле лицевой счет\";\r\n      }\r\n    },\r\n    changePhone(e) {\r\n      this.$data.phone = e.target.value;\r\n    },\r\n    changeLc(e) {\r\n      this.$data.lc = e.target.value;\r\n    },\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n    return { router, caretDownSharp };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.text-white {\r\n  color: #fff;\r\n}\r\n.dot {\r\n  color: #62d0ce;\r\n}\r\n</style>\r\n","import { render } from \"./ServicesCallInspector.vue?vue&type=template&id=bb9581b0&scoped=true\"\nimport script from \"./ServicesCallInspector.vue?vue&type=script&lang=js\"\nexport * from \"./ServicesCallInspector.vue?vue&type=script&lang=js\"\n\nimport \"./ServicesCallInspector.vue?vue&type=style&index=0&id=bb9581b0&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Downloads\\\\mobile-project-ionic\\\\mobile-project-ionic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bb9581b0\"]])\n\nexport default __exports__"],"names":["useServicesStore","defineStore","id","state","formResponse","formResponseError","callInspectorResponse","callInspectorError","servicesResponse","servicesResponseError","form","select","getters","setForm","value","actions","async","console","log","axios","then","response","this","data","error","forms","status","CODE","VALUE","lc","phone","store","Storage","create","token","get","tokenParsed","JSON","parse","LC","_createElementVNode","class","slot","_createBlock","_component_ion_page","_createVNode","_component_Back","btnSrc","_ctx","push","_component_Layout","loading","method","height","filledBtn","outlineBtn","title","_withCtx","_component_ion_text","_hoisted_1","_component_ion_accordion_group","ref","_component_ion_accordion","_component_Input","changeHandler","name","required","_createElementBlock","_Fragment","_renderList","el","_component_ion_list","key","_component_ion_item","_toDisplayString","defineComponent","components","IonPage","Layout","IonText","Input","Back","computed","$pinia","services","message","methods","mapActions","callInspectorHandler","$data","callInspector","Promise","resolve","changePhone","e","target","changeLc","setup","router","useRouter","caretDownSharp","__exports__","render"],"sourceRoot":""}